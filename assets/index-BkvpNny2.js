var d4=Object.defineProperty;var V1=e=>{throw TypeError(e)};var f4=(e,t,r)=>t in e?d4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Eo=(e,t,r)=>f4(e,typeof t!="symbol"?t+"":t,r),cp=(e,t,r)=>t.has(e)||V1("Cannot "+r);var V=(e,t,r)=>(cp(e,t,"read from private field"),r?r.call(e):t.get(e)),Ve=(e,t,r)=>t.has(e)?V1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Re=(e,t,r,n)=>(cp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),lt=(e,t,r)=>(cp(e,t,"access private method"),r);var Df=(e,t,r,n)=>({set _(s){Re(e,t,s,r)},get _(){return V(e,t,n)}});function h4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function JS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ZS={exports:{}},em={},eb={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=Symbol.for("react.element"),m4=Symbol.for("react.portal"),p4=Symbol.for("react.fragment"),g4=Symbol.for("react.strict_mode"),x4=Symbol.for("react.profiler"),v4=Symbol.for("react.provider"),y4=Symbol.for("react.context"),w4=Symbol.for("react.forward_ref"),_4=Symbol.for("react.suspense"),S4=Symbol.for("react.memo"),b4=Symbol.for("react.lazy"),z1=Symbol.iterator;function E4(e){return e===null||typeof e!="object"?null:(e=z1&&e[z1]||e["@@iterator"],typeof e=="function"?e:null)}var tb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rb=Object.assign,nb={};function Jc(e,t,r){this.props=e,this.context=t,this.refs=nb,this.updater=r||tb}Jc.prototype.isReactComponent={};Jc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sb(){}sb.prototype=Jc.prototype;function mv(e,t,r){this.props=e,this.context=t,this.refs=nb,this.updater=r||tb}var pv=mv.prototype=new sb;pv.constructor=mv;rb(pv,Jc.prototype);pv.isPureReactComponent=!0;var W1=Array.isArray,ab=Object.prototype.hasOwnProperty,gv={current:null},ib={key:!0,ref:!0,__self:!0,__source:!0};function ob(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)ab.call(t,n)&&!ib.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:lf,type:e,key:a,ref:i,props:s,_owner:gv.current}}function T4(e,t){return{$$typeof:lf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xv(e){return typeof e=="object"&&e!==null&&e.$$typeof===lf}function C4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var H1=/\/+/g;function up(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C4(""+e.key):t.toString(36)}function _h(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case lf:case m4:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+up(i,0):n,W1(s)?(r="",e!=null&&(r=e.replace(H1,"$&/")+"/"),_h(s,t,r,"",function(u){return u})):s!=null&&(xv(s)&&(s=T4(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(H1,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",W1(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+up(a,l);i+=_h(a,t,r,c,s)}else if(c=E4(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+up(a,l++),i+=_h(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ff(e,t,r){if(e==null)return e;var n=[],s=0;return _h(e,n,"","",function(a){return t.call(r,a,s++)}),n}function N4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kn={current:null},Sh={transition:null},j4={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Sh,ReactCurrentOwner:gv};function lb(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:Ff,forEach:function(e,t,r){Ff(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ff(e,function(){t++}),t},toArray:function(e){return Ff(e,function(t){return t})||[]},only:function(e){if(!xv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ht.Component=Jc;ht.Fragment=p4;ht.Profiler=x4;ht.PureComponent=mv;ht.StrictMode=g4;ht.Suspense=_4;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j4;ht.act=lb;ht.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=rb({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=gv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ab.call(t,c)&&!ib.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:lf,type:e.type,key:s,ref:a,props:n,_owner:i}};ht.createContext=function(e){return e={$$typeof:y4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:v4,_context:e},e.Consumer=e};ht.createElement=ob;ht.createFactory=function(e){var t=ob.bind(null,e);return t.type=e,t};ht.createRef=function(){return{current:null}};ht.forwardRef=function(e){return{$$typeof:w4,render:e}};ht.isValidElement=xv;ht.lazy=function(e){return{$$typeof:b4,_payload:{_status:-1,_result:e},_init:N4}};ht.memo=function(e,t){return{$$typeof:S4,type:e,compare:t===void 0?null:t}};ht.startTransition=function(e){var t=Sh.transition;Sh.transition={};try{e()}finally{Sh.transition=t}};ht.unstable_act=lb;ht.useCallback=function(e,t){return kn.current.useCallback(e,t)};ht.useContext=function(e){return kn.current.useContext(e)};ht.useDebugValue=function(){};ht.useDeferredValue=function(e){return kn.current.useDeferredValue(e)};ht.useEffect=function(e,t){return kn.current.useEffect(e,t)};ht.useId=function(){return kn.current.useId()};ht.useImperativeHandle=function(e,t,r){return kn.current.useImperativeHandle(e,t,r)};ht.useInsertionEffect=function(e,t){return kn.current.useInsertionEffect(e,t)};ht.useLayoutEffect=function(e,t){return kn.current.useLayoutEffect(e,t)};ht.useMemo=function(e,t){return kn.current.useMemo(e,t)};ht.useReducer=function(e,t,r){return kn.current.useReducer(e,t,r)};ht.useRef=function(e){return kn.current.useRef(e)};ht.useState=function(e){return kn.current.useState(e)};ht.useSyncExternalStore=function(e,t,r){return kn.current.useSyncExternalStore(e,t,r)};ht.useTransition=function(){return kn.current.useTransition()};ht.version="18.3.1";eb.exports=ht;var _=eb.exports;const oe=JS(_),vv=h4({__proto__:null,default:oe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4=_,A4=Symbol.for("react.element"),R4=Symbol.for("react.fragment"),P4=Object.prototype.hasOwnProperty,O4=k4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I4={key:!0,ref:!0,__self:!0,__source:!0};function cb(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)P4.call(t,n)&&!I4.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:A4,type:e,key:a,ref:i,props:s,_owner:O4.current}}em.Fragment=R4;em.jsx=cb;em.jsxs=cb;ZS.exports=em;var o=ZS.exports,ub={exports:{}},ms={},db={exports:{}},fb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,U){var ne=L.length;L.push(U);e:for(;0<ne;){var be=ne-1>>>1,j=L[be];if(0<s(j,U))L[be]=U,L[ne]=j,ne=be;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var U=L[0],ne=L.pop();if(ne!==U){L[0]=ne;e:for(var be=0,j=L.length,H=j>>>1;be<H;){var B=2*(be+1)-1,z=L[B],ee=B+1,W=L[ee];if(0>s(z,ne))ee<j&&0>s(W,z)?(L[be]=W,L[ee]=ne,be=ee):(L[be]=z,L[B]=ne,be=B);else if(ee<j&&0>s(W,ne))L[be]=W,L[ee]=ne,be=ee;else break e}}return U}function s(L,U){var ne=L.sortIndex-U.sortIndex;return ne!==0?ne:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=L)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function S(L){if(p=!1,w(L),!g)if(r(c)!==null)g=!0,ue(N);else{var U=r(u);U!==null&&he(S,U.startTime-L)}}function N(L,U){g=!1,p&&(p=!1,v(T),T=-1),m=!0;var ne=h;try{for(w(U),f=r(c);f!==null&&(!(f.expirationTime>U)||L&&!I());){var be=f.callback;if(typeof be=="function"){f.callback=null,h=f.priorityLevel;var j=be(f.expirationTime<=U);U=e.unstable_now(),typeof j=="function"?f.callback=j:f===r(c)&&n(c),w(U)}else n(c);f=r(c)}if(f!==null)var H=!0;else{var B=r(u);B!==null&&he(S,B.startTime-U),H=!1}return H}finally{f=null,h=ne,m=!1}}var A=!1,b=null,T=-1,C=5,R=-1;function I(){return!(e.unstable_now()-R<C)}function O(){if(b!==null){var L=e.unstable_now();R=L;var U=!0;try{U=b(!0,L)}finally{U?K():(A=!1,b=null)}}else A=!1}var K;if(typeof y=="function")K=function(){y(O)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,le=te.port2;te.port1.onmessage=O,K=function(){le.postMessage(null)}}else K=function(){x(O,0)};function ue(L){b=L,A||(A=!0,K())}function he(L,U){T=x(function(){L(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,ue(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var ne=h;h=U;try{return L()}finally{h=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=h;h=L;try{return U()}finally{h=ne}},e.unstable_scheduleCallback=function(L,U,ne){var be=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?be+ne:be):ne=be,L){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ne+j,L={id:d++,callback:U,priorityLevel:L,startTime:ne,expirationTime:j,sortIndex:-1},ne>be?(L.sortIndex=ne,t(u,L),r(c)===null&&L===r(u)&&(p?(v(T),T=-1):p=!0,he(S,ne-be))):(L.sortIndex=j,t(c,L),g||m||(g=!0,ue(N))),L},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(L){var U=h;return function(){var ne=h;h=U;try{return L.apply(this,arguments)}finally{h=ne}}}})(fb);db.exports=fb;var D4=db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F4=_,us=D4;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hb=new Set,vd={};function vl(e,t){Ic(e,t),Ic(e+"Capture",t)}function Ic(e,t){for(vd[e]=t,e=0;e<t.length;e++)hb.add(t[e])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xg=Object.prototype.hasOwnProperty,M4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K1={},G1={};function L4(e){return xg.call(G1,e)?!0:xg.call(K1,e)?!1:M4.test(e)?G1[e]=!0:(K1[e]=!0,!1)}function U4(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B4(e,t,r,n){if(t===null||typeof t>"u"||U4(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function An(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jr[e]=new An(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jr[t]=new An(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jr[e]=new An(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jr[e]=new An(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jr[e]=new An(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jr[e]=new An(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jr[e]=new An(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jr[e]=new An(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jr[e]=new An(e,5,!1,e.toLowerCase(),null,!1,!1)});var yv=/[\-:]([a-z])/g;function wv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yv,wv);Jr[t]=new An(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yv,wv);Jr[t]=new An(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yv,wv);Jr[t]=new An(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jr[e]=new An(e,1,!1,e.toLowerCase(),null,!1,!1)});Jr.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jr[e]=new An(e,1,!1,e.toLowerCase(),null,!0,!0)});function _v(e,t,r,n){var s=Jr.hasOwnProperty(t)?Jr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B4(t,r,s,n)&&(r=null),n||s===null?L4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var oi=F4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mf=Symbol.for("react.element"),Kl=Symbol.for("react.portal"),Gl=Symbol.for("react.fragment"),Sv=Symbol.for("react.strict_mode"),vg=Symbol.for("react.profiler"),mb=Symbol.for("react.provider"),pb=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),yg=Symbol.for("react.suspense"),wg=Symbol.for("react.suspense_list"),Ev=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),gb=Symbol.for("react.offscreen"),X1=Symbol.iterator;function Cu(e){return e===null||typeof e!="object"?null:(e=X1&&e[X1]||e["@@iterator"],typeof e=="function"?e:null)}var ar=Object.assign,dp;function Vu(e){if(dp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);dp=t&&t[1]||""}return`
`+dp+e}var fp=!1;function hp(e,t){if(!e||fp)return"";fp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{fp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vu(e):""}function $4(e){switch(e.tag){case 5:return Vu(e.type);case 16:return Vu("Lazy");case 13:return Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 2:case 15:return e=hp(e.type,!1),e;case 11:return e=hp(e.type.render,!1),e;case 1:return e=hp(e.type,!0),e;default:return""}}function _g(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gl:return"Fragment";case Kl:return"Portal";case vg:return"Profiler";case Sv:return"StrictMode";case yg:return"Suspense";case wg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pb:return(e.displayName||"Context")+".Consumer";case mb:return(e._context.displayName||"Context")+".Provider";case bv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ev:return t=e.displayName||null,t!==null?t:_g(e.type)||"Memo";case xi:t=e._payload,e=e._init;try{return _g(e(t))}catch{}}return null}function q4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _g(t);case 8:return t===Sv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function V4(e){var t=xb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lf(e){e._valueTracker||(e._valueTracker=V4(e))}function vb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=xb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $h(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sg(e,t){var r=t.checked;return ar({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Y1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yb(e,t){t=t.checked,t!=null&&_v(e,"checked",t,!1)}function bg(e,t){yb(e,t);var r=Yi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Eg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Eg(e,t.type,Yi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Q1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Eg(e,t,r){(t!=="number"||$h(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zu=Array.isArray;function oc(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yi(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Tg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return ar({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function J1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pe(92));if(zu(r)){if(1<r.length)throw Error(pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yi(r)}}function wb(e,t){var r=Yi(t.value),n=Yi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Z1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _b(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_b(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uf,Sb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uf=Uf||document.createElement("div"),Uf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z4=["Webkit","ms","Moz","O"];Object.keys(Zu).forEach(function(e){z4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zu[t]=Zu[e]})});function bb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zu.hasOwnProperty(e)&&Zu[e]?(""+t).trim():t+"px"}function Eb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=bb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var W4=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ng(e,t){if(t){if(W4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function jg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kg=null;function Tv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ag=null,lc=null,cc=null;function ew(e){if(e=df(e)){if(typeof Ag!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=am(t),Ag(e.stateNode,e.type,t))}}function Tb(e){lc?cc?cc.push(e):cc=[e]:lc=e}function Cb(){if(lc){var e=lc,t=cc;if(cc=lc=null,ew(e),t)for(e=0;e<t.length;e++)ew(t[e])}}function Nb(e,t){return e(t)}function jb(){}var mp=!1;function kb(e,t,r){if(mp)return e(t,r);mp=!0;try{return Nb(e,t,r)}finally{mp=!1,(lc!==null||cc!==null)&&(jb(),Cb())}}function wd(e,t){var r=e.stateNode;if(r===null)return null;var n=am(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pe(231,t,typeof r));return r}var Rg=!1;if(Xa)try{var Nu={};Object.defineProperty(Nu,"passive",{get:function(){Rg=!0}}),window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{Rg=!1}function H4(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ed=!1,qh=null,Vh=!1,Pg=null,K4={onError:function(e){ed=!0,qh=e}};function G4(e,t,r,n,s,a,i,l,c){ed=!1,qh=null,H4.apply(K4,arguments)}function X4(e,t,r,n,s,a,i,l,c){if(G4.apply(this,arguments),ed){if(ed){var u=qh;ed=!1,qh=null}else throw Error(pe(198));Vh||(Vh=!0,Pg=u)}}function yl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ab(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tw(e){if(yl(e)!==e)throw Error(pe(188))}function Y4(e){var t=e.alternate;if(!t){if(t=yl(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return tw(s),e;if(a===n)return tw(s),t;a=a.sibling}throw Error(pe(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?e:t}function Rb(e){return e=Y4(e),e!==null?Pb(e):null}function Pb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pb(e);if(t!==null)return t;e=e.sibling}return null}var Ob=us.unstable_scheduleCallback,rw=us.unstable_cancelCallback,Q4=us.unstable_shouldYield,J4=us.unstable_requestPaint,gr=us.unstable_now,Z4=us.unstable_getCurrentPriorityLevel,Cv=us.unstable_ImmediatePriority,Ib=us.unstable_UserBlockingPriority,zh=us.unstable_NormalPriority,eP=us.unstable_LowPriority,Db=us.unstable_IdlePriority,tm=null,Sa=null;function tP(e){if(Sa&&typeof Sa.onCommitFiberRoot=="function")try{Sa.onCommitFiberRoot(tm,e,void 0,(e.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:sP,rP=Math.log,nP=Math.LN2;function sP(e){return e>>>=0,e===0?32:31-(rP(e)/nP|0)|0}var Bf=64,$f=4194304;function Wu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Wu(l):(a&=i,a!==0&&(n=Wu(a)))}else i=r&~s,i!==0?n=Wu(i):a!==0&&(n=Wu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zs(t),s=1<<r,n|=e[r],t&=~s;return n}function aP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Zs(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=aP(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Og(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fb(){var e=Bf;return Bf<<=1,!(Bf&4194240)&&(Bf=64),e}function pp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zs(t),e[t]=r}function oP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Zs(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Nv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zs(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ft=0;function Mb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lb,jv,Ub,Bb,$b,Ig=!1,qf=[],Ui=null,Bi=null,$i=null,_d=new Map,Sd=new Map,_i=[],lP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nw(e,t){switch(e){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":_d.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sd.delete(t.pointerId)}}function ju(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=df(t),t!==null&&jv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cP(e,t,r,n,s){switch(t){case"focusin":return Ui=ju(Ui,e,t,r,n,s),!0;case"dragenter":return Bi=ju(Bi,e,t,r,n,s),!0;case"mouseover":return $i=ju($i,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return _d.set(a,ju(_d.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Sd.set(a,ju(Sd.get(a)||null,e,t,r,n,s)),!0}return!1}function qb(e){var t=Io(e.target);if(t!==null){var r=yl(t);if(r!==null){if(t=r.tag,t===13){if(t=Ab(r),t!==null){e.blockedOn=t,$b(e.priority,function(){Ub(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);kg=n,r.target.dispatchEvent(n),kg=null}else return t=df(r),t!==null&&jv(t),e.blockedOn=r,!1;t.shift()}return!0}function sw(e,t,r){bh(e)&&r.delete(t)}function uP(){Ig=!1,Ui!==null&&bh(Ui)&&(Ui=null),Bi!==null&&bh(Bi)&&(Bi=null),$i!==null&&bh($i)&&($i=null),_d.forEach(sw),Sd.forEach(sw)}function ku(e,t){e.blockedOn===t&&(e.blockedOn=null,Ig||(Ig=!0,us.unstable_scheduleCallback(us.unstable_NormalPriority,uP)))}function bd(e){function t(s){return ku(s,e)}if(0<qf.length){ku(qf[0],e);for(var r=1;r<qf.length;r++){var n=qf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ui!==null&&ku(Ui,e),Bi!==null&&ku(Bi,e),$i!==null&&ku($i,e),_d.forEach(t),Sd.forEach(t),r=0;r<_i.length;r++)n=_i[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_i.length&&(r=_i[0],r.blockedOn===null);)qb(r),r.blockedOn===null&&_i.shift()}var uc=oi.ReactCurrentBatchConfig,Hh=!0;function dP(e,t,r,n){var s=Ft,a=uc.transition;uc.transition=null;try{Ft=1,kv(e,t,r,n)}finally{Ft=s,uc.transition=a}}function fP(e,t,r,n){var s=Ft,a=uc.transition;uc.transition=null;try{Ft=4,kv(e,t,r,n)}finally{Ft=s,uc.transition=a}}function kv(e,t,r,n){if(Hh){var s=Dg(e,t,r,n);if(s===null)Tp(e,t,n,Kh,r),nw(e,n);else if(cP(s,e,t,r,n))n.stopPropagation();else if(nw(e,n),t&4&&-1<lP.indexOf(e)){for(;s!==null;){var a=df(s);if(a!==null&&Lb(a),a=Dg(e,t,r,n),a===null&&Tp(e,t,n,Kh,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Tp(e,t,n,null,r)}}var Kh=null;function Dg(e,t,r,n){if(Kh=null,e=Tv(n),e=Io(e),e!==null)if(t=yl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ab(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kh=e,null}function Vb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z4()){case Cv:return 1;case Ib:return 4;case zh:case eP:return 16;case Db:return 536870912;default:return 16}default:return 16}}var Ii=null,Av=null,Eh=null;function zb(){if(Eh)return Eh;var e,t=Av,r=t.length,n,s="value"in Ii?Ii.value:Ii.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return Eh=s.slice(e,1<n?1-n:void 0)}function Th(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vf(){return!0}function aw(){return!1}function ps(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vf:aw,this.isPropagationStopped=aw,this}return ar(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vf)},persist:function(){},isPersistent:Vf}),t}var Zc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rv=ps(Zc),uf=ar({},Zc,{view:0,detail:0}),hP=ps(uf),gp,xp,Au,rm=ar({},uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Au&&(Au&&e.type==="mousemove"?(gp=e.screenX-Au.screenX,xp=e.screenY-Au.screenY):xp=gp=0,Au=e),gp)},movementY:function(e){return"movementY"in e?e.movementY:xp}}),iw=ps(rm),mP=ar({},rm,{dataTransfer:0}),pP=ps(mP),gP=ar({},uf,{relatedTarget:0}),vp=ps(gP),xP=ar({},Zc,{animationName:0,elapsedTime:0,pseudoElement:0}),vP=ps(xP),yP=ar({},Zc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wP=ps(yP),_P=ar({},Zc,{data:0}),ow=ps(_P),SP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EP[e])?!!t[e]:!1}function Pv(){return TP}var CP=ar({},uf,{key:function(e){if(e.key){var t=SP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Th(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pv,charCode:function(e){return e.type==="keypress"?Th(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Th(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NP=ps(CP),jP=ar({},rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lw=ps(jP),kP=ar({},uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pv}),AP=ps(kP),RP=ar({},Zc,{propertyName:0,elapsedTime:0,pseudoElement:0}),PP=ps(RP),OP=ar({},rm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IP=ps(OP),DP=[9,13,27,32],Ov=Xa&&"CompositionEvent"in window,td=null;Xa&&"documentMode"in document&&(td=document.documentMode);var FP=Xa&&"TextEvent"in window&&!td,Wb=Xa&&(!Ov||td&&8<td&&11>=td),cw=" ",uw=!1;function Hb(e,t){switch(e){case"keyup":return DP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xl=!1;function MP(e,t){switch(e){case"compositionend":return Kb(t);case"keypress":return t.which!==32?null:(uw=!0,cw);case"textInput":return e=t.data,e===cw&&uw?null:e;default:return null}}function LP(e,t){if(Xl)return e==="compositionend"||!Ov&&Hb(e,t)?(e=zb(),Eh=Av=Ii=null,Xl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wb&&t.locale!=="ko"?null:t.data;default:return null}}var UP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UP[e.type]:t==="textarea"}function Gb(e,t,r,n){Tb(n),t=Gh(t,"onChange"),0<t.length&&(r=new Rv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var rd=null,Ed=null;function BP(e){aE(e,0)}function nm(e){var t=Jl(e);if(vb(t))return e}function $P(e,t){if(e==="change")return t}var Xb=!1;if(Xa){var yp;if(Xa){var wp="oninput"in document;if(!wp){var fw=document.createElement("div");fw.setAttribute("oninput","return;"),wp=typeof fw.oninput=="function"}yp=wp}else yp=!1;Xb=yp&&(!document.documentMode||9<document.documentMode)}function hw(){rd&&(rd.detachEvent("onpropertychange",Yb),Ed=rd=null)}function Yb(e){if(e.propertyName==="value"&&nm(Ed)){var t=[];Gb(t,Ed,e,Tv(e)),kb(BP,t)}}function qP(e,t,r){e==="focusin"?(hw(),rd=t,Ed=r,rd.attachEvent("onpropertychange",Yb)):e==="focusout"&&hw()}function VP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nm(Ed)}function zP(e,t){if(e==="click")return nm(t)}function WP(e,t){if(e==="input"||e==="change")return nm(t)}function HP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var na=typeof Object.is=="function"?Object.is:HP;function Td(e,t){if(na(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xg.call(t,s)||!na(e[s],t[s]))return!1}return!0}function mw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pw(e,t){var r=mw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mw(r)}}function Qb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jb(){for(var e=window,t=$h();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$h(e.document)}return t}function Iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KP(e){var t=Jb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Qb(r.ownerDocument.documentElement,r)){if(n!==null&&Iv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=pw(r,a);var i=pw(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GP=Xa&&"documentMode"in document&&11>=document.documentMode,Yl=null,Fg=null,nd=null,Mg=!1;function gw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mg||Yl==null||Yl!==$h(n)||(n=Yl,"selectionStart"in n&&Iv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nd&&Td(nd,n)||(nd=n,n=Gh(Fg,"onSelect"),0<n.length&&(t=new Rv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yl)))}function zf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ql={animationend:zf("Animation","AnimationEnd"),animationiteration:zf("Animation","AnimationIteration"),animationstart:zf("Animation","AnimationStart"),transitionend:zf("Transition","TransitionEnd")},_p={},Zb={};Xa&&(Zb=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function sm(e){if(_p[e])return _p[e];if(!Ql[e])return e;var t=Ql[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Zb)return _p[e]=t[r];return e}var eE=sm("animationend"),tE=sm("animationiteration"),rE=sm("animationstart"),nE=sm("transitionend"),sE=new Map,xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(e,t){sE.set(e,t),vl(t,[e])}for(var Sp=0;Sp<xw.length;Sp++){var bp=xw[Sp],XP=bp.toLowerCase(),YP=bp[0].toUpperCase()+bp.slice(1);lo(XP,"on"+YP)}lo(eE,"onAnimationEnd");lo(tE,"onAnimationIteration");lo(rE,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(nE,"onTransitionEnd");Ic("onMouseEnter",["mouseout","mouseover"]);Ic("onMouseLeave",["mouseout","mouseover"]);Ic("onPointerEnter",["pointerout","pointerover"]);Ic("onPointerLeave",["pointerout","pointerover"]);vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hu));function vw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,X4(n,t,void 0,e),e.currentTarget=null}function aE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;vw(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;vw(s,l,u),a=c}}}if(Vh)throw e=Pg,Vh=!1,Pg=null,e}function Wt(e,t){var r=t[qg];r===void 0&&(r=t[qg]=new Set);var n=e+"__bubble";r.has(n)||(iE(t,e,2,!1),r.add(n))}function Ep(e,t,r){var n=0;t&&(n|=4),iE(r,e,n,t)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[Wf]){e[Wf]=!0,hb.forEach(function(r){r!=="selectionchange"&&(QP.has(r)||Ep(r,!1,e),Ep(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wf]||(t[Wf]=!0,Ep("selectionchange",!1,t))}}function iE(e,t,r,n){switch(Vb(t)){case 1:var s=dP;break;case 4:s=fP;break;default:s=kv}r=s.bind(null,t,r,e),s=void 0,!Rg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Tp(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Io(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}kb(function(){var u=a,d=Tv(r),f=[];e:{var h=sE.get(e);if(h!==void 0){var m=Rv,g=e;switch(e){case"keypress":if(Th(r)===0)break e;case"keydown":case"keyup":m=NP;break;case"focusin":g="focus",m=vp;break;case"focusout":g="blur",m=vp;break;case"beforeblur":case"afterblur":m=vp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=AP;break;case eE:case tE:case rE:m=vP;break;case nE:m=PP;break;case"scroll":m=hP;break;case"wheel":m=IP;break;case"copy":case"cut":case"paste":m=wP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=lw}var p=(t&4)!==0,x=!p&&e==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=wd(y,v),S!=null&&p.push(Nd(y,S,w)))),x)break;y=y.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==kg&&(g=r.relatedTarget||r.fromElement)&&(Io(g)||g[Ya]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Io(g):null,g!==null&&(x=yl(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=iw,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=lw,S="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?h:Jl(m),w=g==null?h:Jl(g),h=new p(S,y+"leave",m,r,d),h.target=x,h.relatedTarget=w,S=null,Io(d)===u&&(p=new p(v,y+"enter",g,r,d),p.target=w,p.relatedTarget=x,S=p),x=S,m&&g)t:{for(p=m,v=g,y=0,w=p;w;w=jl(w))y++;for(w=0,S=v;S;S=jl(S))w++;for(;0<y-w;)p=jl(p),y--;for(;0<w-y;)v=jl(v),w--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=jl(p),v=jl(v)}p=null}else p=null;m!==null&&yw(f,h,m,p,!1),g!==null&&x!==null&&yw(f,x,g,p,!0)}}e:{if(h=u?Jl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=$P;else if(dw(h))if(Xb)N=WP;else{N=VP;var A=qP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=zP);if(N&&(N=N(e,u))){Gb(f,N,r,d);break e}A&&A(e,h,u),e==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&Eg(h,"number",h.value)}switch(A=u?Jl(u):window,e){case"focusin":(dw(A)||A.contentEditable==="true")&&(Yl=A,Fg=u,nd=null);break;case"focusout":nd=Fg=Yl=null;break;case"mousedown":Mg=!0;break;case"contextmenu":case"mouseup":case"dragend":Mg=!1,gw(f,r,d);break;case"selectionchange":if(GP)break;case"keydown":case"keyup":gw(f,r,d)}var b;if(Ov)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Xl?Hb(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Wb&&r.locale!=="ko"&&(Xl||T!=="onCompositionStart"?T==="onCompositionEnd"&&Xl&&(b=zb()):(Ii=d,Av="value"in Ii?Ii.value:Ii.textContent,Xl=!0)),A=Gh(u,T),0<A.length&&(T=new ow(T,e,null,r,d),f.push({event:T,listeners:A}),b?T.data=b:(b=Kb(r),b!==null&&(T.data=b)))),(b=FP?MP(e,r):LP(e,r))&&(u=Gh(u,"onBeforeInput"),0<u.length&&(d=new ow("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=b))}aE(f,t)})}function Nd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gh(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=wd(e,r),a!=null&&n.unshift(Nd(e,a,s)),a=wd(e,t),a!=null&&n.push(Nd(e,a,s))),e=e.return}return n}function jl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yw(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=wd(r,a),c!=null&&i.unshift(Nd(r,c,l))):s||(c=wd(r,a),c!=null&&i.push(Nd(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var JP=/\r\n?/g,ZP=/\u0000|\uFFFD/g;function ww(e){return(typeof e=="string"?e:""+e).replace(JP,`
`).replace(ZP,"")}function Hf(e,t,r){if(t=ww(t),ww(e)!==t&&r)throw Error(pe(425))}function Xh(){}var Lg=null,Ug=null;function Bg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $g=typeof setTimeout=="function"?setTimeout:void 0,eO=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,tO=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(e){return _w.resolve(null).then(e).catch(rO)}:$g;function rO(e){setTimeout(function(){throw e})}function Cp(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),bd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);bd(t)}function qi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var eu=Math.random().toString(36).slice(2),va="__reactFiber$"+eu,jd="__reactProps$"+eu,Ya="__reactContainer$"+eu,qg="__reactEvents$"+eu,nO="__reactListeners$"+eu,sO="__reactHandles$"+eu;function Io(e){var t=e[va];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ya]||r[va]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Sw(e);e!==null;){if(r=e[va])return r;e=Sw(e)}return t}e=r,r=e.parentNode}return null}function df(e){return e=e[va]||e[Ya],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function am(e){return e[jd]||null}var Vg=[],Zl=-1;function co(e){return{current:e}}function Ht(e){0>Zl||(e.current=Vg[Zl],Vg[Zl]=null,Zl--)}function $t(e,t){Zl++,Vg[Zl]=e.current,e.current=t}var Qi={},pn=co(Qi),Un=co(!1),Jo=Qi;function Dc(e,t){var r=e.type.contextTypes;if(!r)return Qi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bn(e){return e=e.childContextTypes,e!=null}function Yh(){Ht(Un),Ht(pn)}function bw(e,t,r){if(pn.current!==Qi)throw Error(pe(168));$t(pn,t),$t(Un,r)}function oE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(pe(108,q4(e)||"Unknown",s));return ar({},r,n)}function Qh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qi,Jo=pn.current,$t(pn,e),$t(Un,Un.current),!0}function Ew(e,t,r){var n=e.stateNode;if(!n)throw Error(pe(169));r?(e=oE(e,t,Jo),n.__reactInternalMemoizedMergedChildContext=e,Ht(Un),Ht(pn),$t(pn,e)):Ht(Un),$t(Un,r)}var Ma=null,im=!1,Np=!1;function lE(e){Ma===null?Ma=[e]:Ma.push(e)}function aO(e){im=!0,lE(e)}function uo(){if(!Np&&Ma!==null){Np=!0;var e=0,t=Ft;try{var r=Ma;for(Ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ma=null,im=!1}catch(s){throw Ma!==null&&(Ma=Ma.slice(e+1)),Ob(Cv,uo),s}finally{Ft=t,Np=!1}}return null}var ec=[],tc=0,Jh=null,Zh=0,_s=[],Ss=0,Zo=null,$a=1,qa="";function No(e,t){ec[tc++]=Zh,ec[tc++]=Jh,Jh=e,Zh=t}function cE(e,t,r){_s[Ss++]=$a,_s[Ss++]=qa,_s[Ss++]=Zo,Zo=e;var n=$a;e=qa;var s=32-Zs(n)-1;n&=~(1<<s),r+=1;var a=32-Zs(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,$a=1<<32-Zs(t)+s|r<<s|n,qa=a+e}else $a=1<<a|r<<s|n,qa=e}function Dv(e){e.return!==null&&(No(e,1),cE(e,1,0))}function Fv(e){for(;e===Jh;)Jh=ec[--tc],ec[tc]=null,Zh=ec[--tc],ec[tc]=null;for(;e===Zo;)Zo=_s[--Ss],_s[Ss]=null,qa=_s[--Ss],_s[Ss]=null,$a=_s[--Ss],_s[Ss]=null}var ls=null,os=null,Yt=!1,Ks=null;function uE(e,t){var r=bs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Tw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ls=e,os=qi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ls=e,os=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zo!==null?{id:$a,overflow:qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ls=e,os=null,!0):!1;default:return!1}}function zg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wg(e){if(Yt){var t=os;if(t){var r=t;if(!Tw(e,t)){if(zg(e))throw Error(pe(418));t=qi(r.nextSibling);var n=ls;t&&Tw(e,t)?uE(n,r):(e.flags=e.flags&-4097|2,Yt=!1,ls=e)}}else{if(zg(e))throw Error(pe(418));e.flags=e.flags&-4097|2,Yt=!1,ls=e}}}function Cw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ls=e}function Kf(e){if(e!==ls)return!1;if(!Yt)return Cw(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bg(e.type,e.memoizedProps)),t&&(t=os)){if(zg(e))throw dE(),Error(pe(418));for(;t;)uE(e,t),t=qi(t.nextSibling)}if(Cw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){os=qi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}os=null}}else os=ls?qi(e.stateNode.nextSibling):null;return!0}function dE(){for(var e=os;e;)e=qi(e.nextSibling)}function Fc(){os=ls=null,Yt=!1}function Mv(e){Ks===null?Ks=[e]:Ks.push(e)}var iO=oi.ReactCurrentBatchConfig;function Ru(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,e))}return e}function Gf(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nw(e){var t=e._init;return t(e._payload)}function fE(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Hi(v,y),v.index=0,v.sibling=null,v}function a(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,S){return y===null||y.tag!==6?(y=Ip(w,v.mode,S),y.return=v,y):(y=s(y,w),y.return=v,y)}function c(v,y,w,S){var N=w.type;return N===Gl?d(v,y,w.props.children,S,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xi&&Nw(N)===y.type)?(S=s(y,w.props),S.ref=Ru(v,y,w),S.return=v,S):(S=Ph(w.type,w.key,w.props,null,v.mode,S),S.ref=Ru(v,y,w),S.return=v,S)}function u(v,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Dp(w,v.mode,S),y.return=v,y):(y=s(y,w.children||[]),y.return=v,y)}function d(v,y,w,S,N){return y===null||y.tag!==7?(y=Xo(w,v.mode,S,N),y.return=v,y):(y=s(y,w),y.return=v,y)}function f(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ip(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mf:return w=Ph(y.type,y.key,y.props,null,v.mode,w),w.ref=Ru(v,null,y),w.return=v,w;case Kl:return y=Dp(y,v.mode,w),y.return=v,y;case xi:var S=y._init;return f(v,S(y._payload),w)}if(zu(y)||Cu(y))return y=Xo(y,v.mode,w,null),y.return=v,y;Gf(v,y)}return null}function h(v,y,w,S){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(v,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mf:return w.key===N?c(v,y,w,S):null;case Kl:return w.key===N?u(v,y,w,S):null;case xi:return N=w._init,h(v,y,N(w._payload),S)}if(zu(w)||Cu(w))return N!==null?null:d(v,y,w,S,null);Gf(v,w)}return null}function m(v,y,w,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,l(y,v,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mf:return v=v.get(S.key===null?w:S.key)||null,c(y,v,S,N);case Kl:return v=v.get(S.key===null?w:S.key)||null,u(y,v,S,N);case xi:var A=S._init;return m(v,y,w,A(S._payload),N)}if(zu(S)||Cu(S))return v=v.get(w)||null,d(y,v,S,N,null);Gf(y,S)}return null}function g(v,y,w,S){for(var N=null,A=null,b=y,T=y=0,C=null;b!==null&&T<w.length;T++){b.index>T?(C=b,b=null):C=b.sibling;var R=h(v,b,w[T],S);if(R===null){b===null&&(b=C);break}e&&b&&R.alternate===null&&t(v,b),y=a(R,y,T),A===null?N=R:A.sibling=R,A=R,b=C}if(T===w.length)return r(v,b),Yt&&No(v,T),N;if(b===null){for(;T<w.length;T++)b=f(v,w[T],S),b!==null&&(y=a(b,y,T),A===null?N=b:A.sibling=b,A=b);return Yt&&No(v,T),N}for(b=n(v,b);T<w.length;T++)C=m(b,v,T,w[T],S),C!==null&&(e&&C.alternate!==null&&b.delete(C.key===null?T:C.key),y=a(C,y,T),A===null?N=C:A.sibling=C,A=C);return e&&b.forEach(function(I){return t(v,I)}),Yt&&No(v,T),N}function p(v,y,w,S){var N=Cu(w);if(typeof N!="function")throw Error(pe(150));if(w=N.call(w),w==null)throw Error(pe(151));for(var A=N=null,b=y,T=y=0,C=null,R=w.next();b!==null&&!R.done;T++,R=w.next()){b.index>T?(C=b,b=null):C=b.sibling;var I=h(v,b,R.value,S);if(I===null){b===null&&(b=C);break}e&&b&&I.alternate===null&&t(v,b),y=a(I,y,T),A===null?N=I:A.sibling=I,A=I,b=C}if(R.done)return r(v,b),Yt&&No(v,T),N;if(b===null){for(;!R.done;T++,R=w.next())R=f(v,R.value,S),R!==null&&(y=a(R,y,T),A===null?N=R:A.sibling=R,A=R);return Yt&&No(v,T),N}for(b=n(v,b);!R.done;T++,R=w.next())R=m(b,v,T,R.value,S),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?T:R.key),y=a(R,y,T),A===null?N=R:A.sibling=R,A=R);return e&&b.forEach(function(O){return t(v,O)}),Yt&&No(v,T),N}function x(v,y,w,S){if(typeof w=="object"&&w!==null&&w.type===Gl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Mf:e:{for(var N=w.key,A=y;A!==null;){if(A.key===N){if(N=w.type,N===Gl){if(A.tag===7){r(v,A.sibling),y=s(A,w.props.children),y.return=v,v=y;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xi&&Nw(N)===A.type){r(v,A.sibling),y=s(A,w.props),y.ref=Ru(v,A,w),y.return=v,v=y;break e}r(v,A);break}else t(v,A);A=A.sibling}w.type===Gl?(y=Xo(w.props.children,v.mode,S,w.key),y.return=v,v=y):(S=Ph(w.type,w.key,w.props,null,v.mode,S),S.ref=Ru(v,y,w),S.return=v,v=S)}return i(v);case Kl:e:{for(A=w.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(v,y.sibling),y=s(y,w.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=Dp(w,v.mode,S),y.return=v,v=y}return i(v);case xi:return A=w._init,x(v,y,A(w._payload),S)}if(zu(w))return g(v,y,w,S);if(Cu(w))return p(v,y,w,S);Gf(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(v,y.sibling),y=s(y,w),y.return=v,v=y):(r(v,y),y=Ip(w,v.mode,S),y.return=v,v=y),i(v)):r(v,y)}return x}var Mc=fE(!0),hE=fE(!1),e0=co(null),t0=null,rc=null,Lv=null;function Uv(){Lv=rc=t0=null}function Bv(e){var t=e0.current;Ht(e0),e._currentValue=t}function Hg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function dc(e,t){t0=e,Lv=rc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ln=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(Lv!==e)if(e={context:e,memoizedValue:t,next:null},rc===null){if(t0===null)throw Error(pe(308));rc=e,t0.dependencies={lanes:0,firstContext:e}}else rc=rc.next=e;return t}var Do=null;function $v(e){Do===null?Do=[e]:Do.push(e)}function mE(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,$v(t)):(r.next=s.next,s.next=r),t.interleaved=r,Qa(e,n)}function Qa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vi=!1;function qv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,yt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Qa(e,r)}return s=n.interleaved,s===null?(t.next=t,$v(n)):(t.next=s.next,s.next=t),n.interleaved=t,Qa(e,r)}function Ch(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nv(e,r)}}function jw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function r0(e,t,r,n){var s=e.updateQueue;vi=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=ar({},f,h);break e;case 2:vi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);tl|=i,e.lanes=i,e.memoizedState=f}}function kw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(pe(191,s));s.call(n)}}}var ff={},ba=co(ff),kd=co(ff),Ad=co(ff);function Fo(e){if(e===ff)throw Error(pe(174));return e}function Vv(e,t){switch($t(Ad,t),$t(kd,e),$t(ba,ff),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cg(t,e)}Ht(ba),$t(ba,t)}function Lc(){Ht(ba),Ht(kd),Ht(Ad)}function gE(e){Fo(Ad.current);var t=Fo(ba.current),r=Cg(t,e.type);t!==r&&($t(kd,e),$t(ba,r))}function zv(e){kd.current===e&&(Ht(ba),Ht(kd))}var tr=co(0);function n0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jp=[];function Wv(){for(var e=0;e<jp.length;e++)jp[e]._workInProgressVersionPrimary=null;jp.length=0}var Nh=oi.ReactCurrentDispatcher,kp=oi.ReactCurrentBatchConfig,el=0,sr=null,Or=null,Fr=null,s0=!1,sd=!1,Rd=0,oO=0;function ln(){throw Error(pe(321))}function Hv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!na(e[r],t[r]))return!1;return!0}function Kv(e,t,r,n,s,a){if(el=a,sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nh.current=e===null||e.memoizedState===null?dO:fO,e=r(n,s),sd){a=0;do{if(sd=!1,Rd=0,25<=a)throw Error(pe(301));a+=1,Fr=Or=null,t.updateQueue=null,Nh.current=hO,e=r(n,s)}while(sd)}if(Nh.current=a0,t=Or!==null&&Or.next!==null,el=0,Fr=Or=sr=null,s0=!1,t)throw Error(pe(300));return e}function Gv(){var e=Rd!==0;return Rd=0,e}function ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?sr.memoizedState=Fr=e:Fr=Fr.next=e,Fr}function ks(){if(Or===null){var e=sr.alternate;e=e!==null?e.memoizedState:null}else e=Or.next;var t=Fr===null?sr.memoizedState:Fr.next;if(t!==null)Fr=t,Or=e;else{if(e===null)throw Error(pe(310));Or=e,e={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Fr===null?sr.memoizedState=Fr=e:Fr=Fr.next=e}return Fr}function Pd(e,t){return typeof t=="function"?t(e):t}function Ap(e){var t=ks(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=Or,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((el&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,sr.lanes|=d,tl|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,na(n,t.memoizedState)||(Ln=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,sr.lanes|=a,tl|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Rp(e){var t=ks(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);na(a,t.memoizedState)||(Ln=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function xE(){}function vE(e,t){var r=sr,n=ks(),s=t(),a=!na(n.memoizedState,s);if(a&&(n.memoizedState=s,Ln=!0),n=n.queue,Xv(_E.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Fr!==null&&Fr.memoizedState.tag&1){if(r.flags|=2048,Od(9,wE.bind(null,r,n,s,t),void 0,null),Br===null)throw Error(pe(349));el&30||yE(r,t,s)}return s}function yE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wE(e,t,r,n){t.value=r,t.getSnapshot=n,SE(t)&&bE(e)}function _E(e,t,r){return r(function(){SE(t)&&bE(e)})}function SE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!na(e,r)}catch{return!0}}function bE(e){var t=Qa(e,1);t!==null&&ea(t,e,1,-1)}function Aw(e){var t=ma();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:e},t.queue=e,e=e.dispatch=uO.bind(null,sr,e),[t.memoizedState,e]}function Od(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=sr.updateQueue,t===null?(t={lastEffect:null,stores:null},sr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function EE(){return ks().memoizedState}function jh(e,t,r,n){var s=ma();sr.flags|=e,s.memoizedState=Od(1|t,r,void 0,n===void 0?null:n)}function om(e,t,r,n){var s=ks();n=n===void 0?null:n;var a=void 0;if(Or!==null){var i=Or.memoizedState;if(a=i.destroy,n!==null&&Hv(n,i.deps)){s.memoizedState=Od(t,r,a,n);return}}sr.flags|=e,s.memoizedState=Od(1|t,r,a,n)}function Rw(e,t){return jh(8390656,8,e,t)}function Xv(e,t){return om(2048,8,e,t)}function TE(e,t){return om(4,2,e,t)}function CE(e,t){return om(4,4,e,t)}function NE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jE(e,t,r){return r=r!=null?r.concat([e]):null,om(4,4,NE.bind(null,t,e),r)}function Yv(){}function kE(e,t){var r=ks();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function AE(e,t){var r=ks();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function RE(e,t,r){return el&21?(na(r,t)||(r=Fb(),sr.lanes|=r,tl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ln=!0),e.memoizedState=r)}function lO(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var n=kp.transition;kp.transition={};try{e(!1),t()}finally{Ft=r,kp.transition=n}}function PE(){return ks().memoizedState}function cO(e,t,r){var n=Wi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},OE(e))IE(t,r);else if(r=mE(e,t,r,n),r!==null){var s=Cn();ea(r,e,n,s),DE(r,t,n)}}function uO(e,t,r){var n=Wi(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(OE(e))IE(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,na(l,i)){var c=t.interleaved;c===null?(s.next=s,$v(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=mE(e,t,s,n),r!==null&&(s=Cn(),ea(r,e,n,s),DE(r,t,n))}}function OE(e){var t=e.alternate;return e===sr||t!==null&&t===sr}function IE(e,t){sd=s0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function DE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nv(e,r)}}var a0={readContext:js,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},dO={readContext:js,useCallback:function(e,t){return ma().memoizedState=[e,t===void 0?null:t],e},useContext:js,useEffect:Rw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jh(4194308,4,NE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jh(4194308,4,e,t)},useInsertionEffect:function(e,t){return jh(4,2,e,t)},useMemo:function(e,t){var r=ma();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ma();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cO.bind(null,sr,e),[n.memoizedState,e]},useRef:function(e){var t=ma();return e={current:e},t.memoizedState=e},useState:Aw,useDebugValue:Yv,useDeferredValue:function(e){return ma().memoizedState=e},useTransition:function(){var e=Aw(!1),t=e[0];return e=lO.bind(null,e[1]),ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=sr,s=ma();if(Yt){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=t(),Br===null)throw Error(pe(349));el&30||yE(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Rw(_E.bind(null,n,a,e),[e]),n.flags|=2048,Od(9,wE.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ma(),t=Br.identifierPrefix;if(Yt){var r=qa,n=$a;r=(n&~(1<<32-Zs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=oO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fO={readContext:js,useCallback:kE,useContext:js,useEffect:Xv,useImperativeHandle:jE,useInsertionEffect:TE,useLayoutEffect:CE,useMemo:AE,useReducer:Ap,useRef:EE,useState:function(){return Ap(Pd)},useDebugValue:Yv,useDeferredValue:function(e){var t=ks();return RE(t,Or.memoizedState,e)},useTransition:function(){var e=Ap(Pd)[0],t=ks().memoizedState;return[e,t]},useMutableSource:xE,useSyncExternalStore:vE,useId:PE,unstable_isNewReconciler:!1},hO={readContext:js,useCallback:kE,useContext:js,useEffect:Xv,useImperativeHandle:jE,useInsertionEffect:TE,useLayoutEffect:CE,useMemo:AE,useReducer:Rp,useRef:EE,useState:function(){return Rp(Pd)},useDebugValue:Yv,useDeferredValue:function(e){var t=ks();return Or===null?t.memoizedState=e:RE(t,Or.memoizedState,e)},useTransition:function(){var e=Rp(Pd)[0],t=ks().memoizedState;return[e,t]},useMutableSource:xE,useSyncExternalStore:vE,useId:PE,unstable_isNewReconciler:!1};function $s(e,t){if(e&&e.defaultProps){t=ar({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Kg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ar({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var lm={isMounted:function(e){return(e=e._reactInternals)?yl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Cn(),s=Wi(e),a=za(n,s);a.payload=t,r!=null&&(a.callback=r),t=Vi(e,a,s),t!==null&&(ea(t,e,s,n),Ch(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Cn(),s=Wi(e),a=za(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Vi(e,a,s),t!==null&&(ea(t,e,s,n),Ch(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Cn(),n=Wi(e),s=za(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vi(e,s,n),t!==null&&(ea(t,e,n,r),Ch(t,e,n))}};function Pw(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Td(r,n)||!Td(s,a):!0}function FE(e,t,r){var n=!1,s=Qi,a=t.contextType;return typeof a=="object"&&a!==null?a=js(a):(s=Bn(t)?Jo:pn.current,n=t.contextTypes,a=(n=n!=null)?Dc(e,s):Qi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ow(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&lm.enqueueReplaceState(t,t.state,null)}function Gg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},qv(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=js(a):(a=Bn(t)?Jo:pn.current,s.context=Dc(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Kg(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&lm.enqueueReplaceState(s,s.state,null),r0(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uc(e,t){try{var r="",n=t;do r+=$4(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Pp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mO=typeof WeakMap=="function"?WeakMap:Map;function ME(e,t,r){r=za(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){o0||(o0=!0,ax=n),Xg(e,t)},r}function LE(e,t,r){r=za(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Xg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Xg(e,t),typeof n!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Iw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new mO;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=jO.bind(null,e,t,r),t.then(e,e))}function Dw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fw(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=za(-1,1),t.tag=2,Vi(r,t,1))),r.lanes|=1),e)}var pO=oi.ReactCurrentOwner,Ln=!1;function _n(e,t,r,n){t.child=e===null?hE(t,null,r,n):Mc(t,e.child,r,n)}function Mw(e,t,r,n,s){r=r.render;var a=t.ref;return dc(t,s),n=Kv(e,t,r,n,a,s),r=Gv(),e!==null&&!Ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ja(e,t,s)):(Yt&&r&&Dv(t),t.flags|=1,_n(e,t,n,s),t.child)}function Lw(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!sy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,UE(e,t,a,n,s)):(e=Ph(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Td,r(i,n)&&e.ref===t.ref)return Ja(e,t,s)}return t.flags|=1,e=Hi(a,n),e.ref=t.ref,e.return=t,t.child=e}function UE(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Td(a,n)&&e.ref===t.ref)if(Ln=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Ln=!0);else return t.lanes=e.lanes,Ja(e,t,s)}return Yg(e,t,r,n,s)}function BE(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(sc,Jn),Jn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(sc,Jn),Jn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,$t(sc,Jn),Jn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,$t(sc,Jn),Jn|=n;return _n(e,t,s,r),t.child}function $E(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yg(e,t,r,n,s){var a=Bn(r)?Jo:pn.current;return a=Dc(t,a),dc(t,s),r=Kv(e,t,r,n,a,s),n=Gv(),e!==null&&!Ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ja(e,t,s)):(Yt&&n&&Dv(t),t.flags|=1,_n(e,t,r,s),t.child)}function Uw(e,t,r,n,s){if(Bn(r)){var a=!0;Qh(t)}else a=!1;if(dc(t,s),t.stateNode===null)kh(e,t),FE(t,r,n),Gg(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=js(u):(u=Bn(r)?Jo:pn.current,u=Dc(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Ow(t,i,n,u),vi=!1;var h=t.memoizedState;i.state=h,r0(t,n,i,s),c=t.memoizedState,l!==n||h!==c||Un.current||vi?(typeof d=="function"&&(Kg(t,r,d,n),c=t.memoizedState),(l=vi||Pw(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,pE(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$s(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=js(c):(c=Bn(r)?Jo:pn.current,c=Dc(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Ow(t,i,n,c),vi=!1,h=t.memoizedState,i.state=h,r0(t,n,i,s);var g=t.memoizedState;l!==f||h!==g||Un.current||vi?(typeof m=="function"&&(Kg(t,r,m,n),g=t.memoizedState),(u=vi||Pw(t,r,u,n,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Qg(e,t,r,n,a,s)}function Qg(e,t,r,n,s,a){$E(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Ew(t,r,!1),Ja(e,t,a);n=t.stateNode,pO.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Mc(t,e.child,null,a),t.child=Mc(t,null,l,a)):_n(e,t,l,a),t.memoizedState=n.state,s&&Ew(t,r,!0),t.child}function qE(e){var t=e.stateNode;t.pendingContext?bw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bw(e,t.context,!1),Vv(e,t.containerInfo)}function Bw(e,t,r,n,s){return Fc(),Mv(s),t.flags|=256,_n(e,t,r,n),t.child}var Jg={dehydrated:null,treeContext:null,retryLane:0};function Zg(e){return{baseLanes:e,cachePool:null,transitions:null}}function VE(e,t,r){var n=t.pendingProps,s=tr.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$t(tr,s&1),e===null)return Wg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=dm(i,n,0,null),e=Xo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Zg(r),t.memoizedState=Jg,e):Qv(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return gO(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Hi(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Hi(l,a):(a=Xo(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Zg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Jg,n}return a=e.child,e=a.sibling,n=Hi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Qv(e,t){return t=dm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xf(e,t,r,n){return n!==null&&Mv(n),Mc(t,e.child,null,r),e=Qv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gO(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Pp(Error(pe(422))),Xf(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=dm({mode:"visible",children:n.children},s,0,null),a=Xo(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Mc(t,e.child,null,i),t.child.memoizedState=Zg(i),t.memoizedState=Jg,a);if(!(t.mode&1))return Xf(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(pe(419)),n=Pp(a,n,void 0),Xf(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ln||l){if(n=Br,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Qa(e,s),ea(n,e,s,-1))}return ny(),n=Pp(Error(pe(421))),Xf(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kO.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,os=qi(s.nextSibling),ls=t,Yt=!0,Ks=null,e!==null&&(_s[Ss++]=$a,_s[Ss++]=qa,_s[Ss++]=Zo,$a=e.id,qa=e.overflow,Zo=t),t=Qv(t,n.children),t.flags|=4096,t)}function $w(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Hg(e.return,t,r)}function Op(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function zE(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(_n(e,t,n.children,r),n=tr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$w(e,r,t);else if(e.tag===19)$w(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($t(tr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&n0(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Op(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&n0(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Op(t,!0,r,null,a);break;case"together":Op(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ja(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),tl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,r=Hi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xO(e,t,r){switch(t.tag){case 3:qE(t),Fc();break;case 5:gE(t);break;case 1:Bn(t.type)&&Qh(t);break;case 4:Vv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;$t(e0,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($t(tr,tr.current&1),t.flags|=128,null):r&t.child.childLanes?VE(e,t,r):($t(tr,tr.current&1),e=Ja(e,t,r),e!==null?e.sibling:null);$t(tr,tr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zE(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$t(tr,tr.current),n)break;return null;case 22:case 23:return t.lanes=0,BE(e,t,r)}return Ja(e,t,r)}var WE,ex,HE,KE;WE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ex=function(){};HE=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Fo(ba.current);var a=null;switch(r){case"input":s=Sg(e,s),n=Sg(e,n),a=[];break;case"select":s=ar({},s,{value:void 0}),n=ar({},n,{value:void 0}),a=[];break;case"textarea":s=Tg(e,s),n=Tg(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xh)}Ng(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vd.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Wt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};KE=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pu(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vO(e,t,r){var n=t.pendingProps;switch(Fv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(t),null;case 1:return Bn(t.type)&&Yh(),cn(t),null;case 3:return n=t.stateNode,Lc(),Ht(Un),Ht(pn),Wv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ks!==null&&(lx(Ks),Ks=null))),ex(e,t),cn(t),null;case 5:zv(t);var s=Fo(Ad.current);if(r=t.type,e!==null&&t.stateNode!=null)HE(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pe(166));return cn(t),null}if(e=Fo(ba.current),Kf(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[va]=t,n[jd]=a,e=(t.mode&1)!==0,r){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(s=0;s<Hu.length;s++)Wt(Hu[s],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":Y1(n,a),Wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Wt("invalid",n);break;case"textarea":J1(n,a),Wt("invalid",n)}Ng(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Hf(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Hf(n.textContent,l,e),s=["children",""+l]):vd.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Wt("scroll",n)}switch(r){case"input":Lf(n),Q1(n,a,!0);break;case"textarea":Lf(n),Z1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Xh)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_b(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[va]=t,e[jd]=n,WE(e,t,!1,!1),t.stateNode=e;e:{switch(i=jg(r,n),r){case"dialog":Wt("cancel",e),Wt("close",e),s=n;break;case"iframe":case"object":case"embed":Wt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Hu.length;s++)Wt(Hu[s],e);s=n;break;case"source":Wt("error",e),s=n;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),s=n;break;case"details":Wt("toggle",e),s=n;break;case"input":Y1(e,n),s=Sg(e,n),Wt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ar({},n,{value:void 0}),Wt("invalid",e);break;case"textarea":J1(e,n),s=Tg(e,n),Wt("invalid",e);break;default:s=n}Ng(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Eb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sb(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yd(e,c):typeof c=="number"&&yd(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Wt("scroll",e):c!=null&&_v(e,a,c,i))}switch(r){case"input":Lf(e),Q1(e,n,!1);break;case"textarea":Lf(e),Z1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?oc(e,!!n.multiple,a,!1):n.defaultValue!=null&&oc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cn(t),null;case 6:if(e&&t.stateNode!=null)KE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pe(166));if(r=Fo(Ad.current),Fo(ba.current),Kf(t)){if(n=t.stateNode,r=t.memoizedProps,n[va]=t,(a=n.nodeValue!==r)&&(e=ls,e!==null))switch(e.tag){case 3:Hf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hf(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[va]=t,t.stateNode=n}return cn(t),null;case 13:if(Ht(tr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&os!==null&&t.mode&1&&!(t.flags&128))dE(),Fc(),t.flags|=98560,a=!1;else if(a=Kf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(pe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(pe(317));a[va]=t}else Fc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cn(t),a=!1}else Ks!==null&&(lx(Ks),Ks=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tr.current&1?Dr===0&&(Dr=3):ny())),t.updateQueue!==null&&(t.flags|=4),cn(t),null);case 4:return Lc(),ex(e,t),e===null&&Cd(t.stateNode.containerInfo),cn(t),null;case 10:return Bv(t.type._context),cn(t),null;case 17:return Bn(t.type)&&Yh(),cn(t),null;case 19:if(Ht(tr),a=t.memoizedState,a===null)return cn(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Pu(a,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=n0(e),i!==null){for(t.flags|=128,Pu(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $t(tr,tr.current&1|2),t.child}e=e.sibling}a.tail!==null&&gr()>Bc&&(t.flags|=128,n=!0,Pu(a,!1),t.lanes=4194304)}else{if(!n)if(e=n0(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Yt)return cn(t),null}else 2*gr()-a.renderingStartTime>Bc&&r!==1073741824&&(t.flags|=128,n=!0,Pu(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=gr(),t.sibling=null,r=tr.current,$t(tr,n?r&1|2:r&1),t):(cn(t),null);case 22:case 23:return ry(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Jn&1073741824&&(cn(t),t.subtreeFlags&6&&(t.flags|=8192)):cn(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function yO(e,t){switch(Fv(t),t.tag){case 1:return Bn(t.type)&&Yh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lc(),Ht(Un),Ht(pn),Wv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zv(t),null;case 13:if(Ht(tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Fc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ht(tr),null;case 4:return Lc(),null;case 10:return Bv(t.type._context),null;case 22:case 23:return ry(),null;case 24:return null;default:return null}}var Yf=!1,dn=!1,wO=typeof WeakSet=="function"?WeakSet:Set,Me=null;function nc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){cr(e,t,n)}else r.current=null}function tx(e,t,r){try{r()}catch(n){cr(e,t,n)}}var qw=!1;function _O(e,t){if(Lg=Hh,e=Jb(),Iv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ug={focusedElem:e,selectionRange:r},Hh=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:$s(t.type,p),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(S){cr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return g=qw,qw=!1,g}function ad(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&tx(t,r,a)}s=s.next}while(s!==n)}}function cm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function GE(e){var t=e.alternate;t!==null&&(e.alternate=null,GE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[va],delete t[jd],delete t[qg],delete t[nO],delete t[sO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function XE(e){return e.tag===5||e.tag===3||e.tag===4}function Vw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||XE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xh));else if(n!==4&&(e=e.child,e!==null))for(nx(e,t,r),e=e.sibling;e!==null;)nx(e,t,r),e=e.sibling}function sx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sx(e,t,r),e=e.sibling;e!==null;)sx(e,t,r),e=e.sibling}var zr=null,Ws=!1;function di(e,t,r){for(r=r.child;r!==null;)YE(e,t,r),r=r.sibling}function YE(e,t,r){if(Sa&&typeof Sa.onCommitFiberUnmount=="function")try{Sa.onCommitFiberUnmount(tm,r)}catch{}switch(r.tag){case 5:dn||nc(r,t);case 6:var n=zr,s=Ws;zr=null,di(e,t,r),zr=n,Ws=s,zr!==null&&(Ws?(e=zr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zr.removeChild(r.stateNode));break;case 18:zr!==null&&(Ws?(e=zr,r=r.stateNode,e.nodeType===8?Cp(e.parentNode,r):e.nodeType===1&&Cp(e,r),bd(e)):Cp(zr,r.stateNode));break;case 4:n=zr,s=Ws,zr=r.stateNode.containerInfo,Ws=!0,di(e,t,r),zr=n,Ws=s;break;case 0:case 11:case 14:case 15:if(!dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&tx(r,t,i),s=s.next}while(s!==n)}di(e,t,r);break;case 1:if(!dn&&(nc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){cr(r,t,l)}di(e,t,r);break;case 21:di(e,t,r);break;case 22:r.mode&1?(dn=(n=dn)||r.memoizedState!==null,di(e,t,r),dn=n):di(e,t,r);break;default:di(e,t,r)}}function zw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wO),t.forEach(function(n){var s=AO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ds(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:zr=l.stateNode,Ws=!1;break e;case 3:zr=l.stateNode.containerInfo,Ws=!0;break e;case 4:zr=l.stateNode.containerInfo,Ws=!0;break e}l=l.return}if(zr===null)throw Error(pe(160));YE(a,i,s),zr=null,Ws=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){cr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)QE(t,e),t=t.sibling}function QE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ds(t,e),da(e),n&4){try{ad(3,e,e.return),cm(3,e)}catch(p){cr(e,e.return,p)}try{ad(5,e,e.return)}catch(p){cr(e,e.return,p)}}break;case 1:Ds(t,e),da(e),n&512&&r!==null&&nc(r,r.return);break;case 5:if(Ds(t,e),da(e),n&512&&r!==null&&nc(r,r.return),e.flags&32){var s=e.stateNode;try{yd(s,"")}catch(p){cr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&yb(s,a),jg(l,i);var u=jg(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Eb(s,f):d==="dangerouslySetInnerHTML"?Sb(s,f):d==="children"?yd(s,f):_v(s,d,f,u)}switch(l){case"input":bg(s,a);break;case"textarea":wb(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?oc(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?oc(s,!!a.multiple,a.defaultValue,!0):oc(s,!!a.multiple,a.multiple?[]:"",!1))}s[jd]=a}catch(p){cr(e,e.return,p)}}break;case 6:if(Ds(t,e),da(e),n&4){if(e.stateNode===null)throw Error(pe(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){cr(e,e.return,p)}}break;case 3:if(Ds(t,e),da(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bd(t.containerInfo)}catch(p){cr(e,e.return,p)}break;case 4:Ds(t,e),da(e);break;case 13:Ds(t,e),da(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ey=gr())),n&4&&zw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(dn=(u=dn)||d,Ds(t,e),dn=u):Ds(t,e),da(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Me=e,d=e.child;d!==null;){for(f=Me=d;Me!==null;){switch(h=Me,m=h.child,h.tag){case 0:case 11:case 14:case 15:ad(4,h,h.return);break;case 1:nc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){cr(n,r,p)}}break;case 5:nc(h,h.return);break;case 22:if(h.memoizedState!==null){Hw(f);continue}}m!==null?(m.return=h,Me=m):Hw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bb("display",i))}catch(p){cr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){cr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ds(t,e),da(e),n&4&&zw(e);break;case 21:break;default:Ds(t,e),da(e)}}function da(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(XE(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(yd(s,""),n.flags&=-33);var a=Vw(e);sx(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Vw(e);nx(e,l,i);break;default:throw Error(pe(161))}}catch(c){cr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SO(e,t,r){Me=e,JE(e)}function JE(e,t,r){for(var n=(e.mode&1)!==0;Me!==null;){var s=Me,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Yf;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||dn;l=Yf;var u=dn;if(Yf=i,(dn=c)&&!u)for(Me=s;Me!==null;)i=Me,c=i.child,i.tag===22&&i.memoizedState!==null?Kw(s):c!==null?(c.return=i,Me=c):Kw(s);for(;a!==null;)Me=a,JE(a),a=a.sibling;Me=s,Yf=l,dn=u}Ww(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Me=a):Ww(e)}}function Ww(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dn||cm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:$s(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&kw(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kw(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}dn||t.flags&512&&rx(t)}catch(h){cr(t,t.return,h)}}if(t===e){Me=null;break}if(r=t.sibling,r!==null){r.return=t.return,Me=r;break}Me=t.return}}function Hw(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Me=r;break}Me=t.return}}function Kw(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cm(4,t)}catch(c){cr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){cr(t,s,c)}}var a=t.return;try{rx(t)}catch(c){cr(t,a,c)}break;case 5:var i=t.return;try{rx(t)}catch(c){cr(t,i,c)}}}catch(c){cr(t,t.return,c)}if(t===e){Me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Me=l;break}Me=t.return}}var bO=Math.ceil,i0=oi.ReactCurrentDispatcher,Jv=oi.ReactCurrentOwner,Cs=oi.ReactCurrentBatchConfig,yt=0,Br=null,Er=null,Yr=0,Jn=0,sc=co(0),Dr=0,Id=null,tl=0,um=0,Zv=0,id=null,Mn=null,ey=0,Bc=1/0,Da=null,o0=!1,ax=null,zi=null,Qf=!1,Di=null,l0=0,od=0,ix=null,Ah=-1,Rh=0;function Cn(){return yt&6?gr():Ah!==-1?Ah:Ah=gr()}function Wi(e){return e.mode&1?yt&2&&Yr!==0?Yr&-Yr:iO.transition!==null?(Rh===0&&(Rh=Fb()),Rh):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:Vb(e.type)),e):1}function ea(e,t,r,n){if(50<od)throw od=0,ix=null,Error(pe(185));cf(e,r,n),(!(yt&2)||e!==Br)&&(e===Br&&(!(yt&2)&&(um|=r),Dr===4&&Si(e,Yr)),$n(e,n),r===1&&yt===0&&!(t.mode&1)&&(Bc=gr()+500,im&&uo()))}function $n(e,t){var r=e.callbackNode;iP(e,t);var n=Wh(e,e===Br?Yr:0);if(n===0)r!==null&&rw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rw(r),t===1)e.tag===0?aO(Gw.bind(null,e)):lE(Gw.bind(null,e)),tO(function(){!(yt&6)&&uo()}),r=null;else{switch(Mb(n)){case 1:r=Cv;break;case 4:r=Ib;break;case 16:r=zh;break;case 536870912:r=Db;break;default:r=zh}r=iT(r,ZE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ZE(e,t){if(Ah=-1,Rh=0,yt&6)throw Error(pe(327));var r=e.callbackNode;if(fc()&&e.callbackNode!==r)return null;var n=Wh(e,e===Br?Yr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=c0(e,n);else{t=n;var s=yt;yt|=2;var a=tT();(Br!==e||Yr!==t)&&(Da=null,Bc=gr()+500,Go(e,t));do try{CO();break}catch(l){eT(e,l)}while(!0);Uv(),i0.current=a,yt=s,Er!==null?t=0:(Br=null,Yr=0,t=Dr)}if(t!==0){if(t===2&&(s=Og(e),s!==0&&(n=s,t=ox(e,s))),t===1)throw r=Id,Go(e,0),Si(e,n),$n(e,gr()),r;if(t===6)Si(e,n);else{if(s=e.current.alternate,!(n&30)&&!EO(s)&&(t=c0(e,n),t===2&&(a=Og(e),a!==0&&(n=a,t=ox(e,a))),t===1))throw r=Id,Go(e,0),Si(e,n),$n(e,gr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(pe(345));case 2:jo(e,Mn,Da);break;case 3:if(Si(e,n),(n&130023424)===n&&(t=ey+500-gr(),10<t)){if(Wh(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Cn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$g(jo.bind(null,e,Mn,Da),t);break}jo(e,Mn,Da);break;case 4:if(Si(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Zs(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bO(n/1960))-n,10<n){e.timeoutHandle=$g(jo.bind(null,e,Mn,Da),n);break}jo(e,Mn,Da);break;case 5:jo(e,Mn,Da);break;default:throw Error(pe(329))}}}return $n(e,gr()),e.callbackNode===r?ZE.bind(null,e):null}function ox(e,t){var r=id;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=c0(e,t),e!==2&&(t=Mn,Mn=r,t!==null&&lx(t)),e}function lx(e){Mn===null?Mn=e:Mn.push.apply(Mn,e)}function EO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!na(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Si(e,t){for(t&=~Zv,t&=~um,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zs(t),n=1<<r;e[r]=-1,t&=~n}}function Gw(e){if(yt&6)throw Error(pe(327));fc();var t=Wh(e,0);if(!(t&1))return $n(e,gr()),null;var r=c0(e,t);if(e.tag!==0&&r===2){var n=Og(e);n!==0&&(t=n,r=ox(e,n))}if(r===1)throw r=Id,Go(e,0),Si(e,t),$n(e,gr()),r;if(r===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,Mn,Da),$n(e,gr()),null}function ty(e,t){var r=yt;yt|=1;try{return e(t)}finally{yt=r,yt===0&&(Bc=gr()+500,im&&uo())}}function rl(e){Di!==null&&Di.tag===0&&!(yt&6)&&fc();var t=yt;yt|=1;var r=Cs.transition,n=Ft;try{if(Cs.transition=null,Ft=1,e)return e()}finally{Ft=n,Cs.transition=r,yt=t,!(yt&6)&&uo()}}function ry(){Jn=sc.current,Ht(sc)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eO(r)),Er!==null)for(r=Er.return;r!==null;){var n=r;switch(Fv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yh();break;case 3:Lc(),Ht(Un),Ht(pn),Wv();break;case 5:zv(n);break;case 4:Lc();break;case 13:Ht(tr);break;case 19:Ht(tr);break;case 10:Bv(n.type._context);break;case 22:case 23:ry()}r=r.return}if(Br=e,Er=e=Hi(e.current,null),Yr=Jn=t,Dr=0,Id=null,Zv=um=tl=0,Mn=id=null,Do!==null){for(t=0;t<Do.length;t++)if(r=Do[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}Do=null}return e}function eT(e,t){do{var r=Er;try{if(Uv(),Nh.current=a0,s0){for(var n=sr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}s0=!1}if(el=0,Fr=Or=sr=null,sd=!1,Rd=0,Jv.current=null,r===null||r.return===null){Dr=1,Id=t,Er=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=Yr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Dw(i);if(m!==null){m.flags&=-257,Fw(m,i,l,a,t),m.mode&1&&Iw(a,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){Iw(a,u,t),ny();break e}c=Error(pe(426))}}else if(Yt&&l.mode&1){var x=Dw(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Fw(x,i,l,a,t),Mv(Uc(c,l));break e}}a=c=Uc(c,l),Dr!==4&&(Dr=2),id===null?id=[a]:id.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=ME(a,c,t);jw(a,v);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zi===null||!zi.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=LE(a,l,t);jw(a,S);break e}}a=a.return}while(a!==null)}nT(r)}catch(N){t=N,Er===r&&r!==null&&(Er=r=r.return);continue}break}while(!0)}function tT(){var e=i0.current;return i0.current=a0,e===null?a0:e}function ny(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Br===null||!(tl&268435455)&&!(um&268435455)||Si(Br,Yr)}function c0(e,t){var r=yt;yt|=2;var n=tT();(Br!==e||Yr!==t)&&(Da=null,Go(e,t));do try{TO();break}catch(s){eT(e,s)}while(!0);if(Uv(),yt=r,i0.current=n,Er!==null)throw Error(pe(261));return Br=null,Yr=0,Dr}function TO(){for(;Er!==null;)rT(Er)}function CO(){for(;Er!==null&&!Q4();)rT(Er)}function rT(e){var t=aT(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?nT(e):Er=t,Jv.current=null}function nT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yO(r,t),r!==null){r.flags&=32767,Er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,Er=null;return}}else if(r=vO(r,t,Jn),r!==null){Er=r;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Dr===0&&(Dr=5)}function jo(e,t,r){var n=Ft,s=Cs.transition;try{Cs.transition=null,Ft=1,NO(e,t,r,n)}finally{Cs.transition=s,Ft=n}return null}function NO(e,t,r,n){do fc();while(Di!==null);if(yt&6)throw Error(pe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(oP(e,a),e===Br&&(Er=Br=null,Yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qf||(Qf=!0,iT(zh,function(){return fc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Cs.transition,Cs.transition=null;var i=Ft;Ft=1;var l=yt;yt|=4,Jv.current=null,_O(e,r),QE(r,e),KP(Ug),Hh=!!Lg,Ug=Lg=null,e.current=r,SO(r),J4(),yt=l,Ft=i,Cs.transition=a}else e.current=r;if(Qf&&(Qf=!1,Di=e,l0=s),a=e.pendingLanes,a===0&&(zi=null),tP(r.stateNode),$n(e,gr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(o0)throw o0=!1,e=ax,ax=null,e;return l0&1&&e.tag!==0&&fc(),a=e.pendingLanes,a&1?e===ix?od++:(od=0,ix=e):od=0,uo(),null}function fc(){if(Di!==null){var e=Mb(l0),t=Cs.transition,r=Ft;try{if(Cs.transition=null,Ft=16>e?16:e,Di===null)var n=!1;else{if(e=Di,Di=null,l0=0,yt&6)throw Error(pe(331));var s=yt;for(yt|=4,Me=e.current;Me!==null;){var a=Me,i=a.child;if(Me.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:ad(8,d,a)}var f=d.child;if(f!==null)f.return=d,Me=f;else for(;Me!==null;){d=Me;var h=d.sibling,m=d.return;if(GE(d),d===u){Me=null;break}if(h!==null){h.return=m,Me=h;break}Me=m}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Me=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,Me=i;else e:for(;Me!==null;){if(a=Me,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ad(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Me=v;break e}Me=a.return}}var y=e.current;for(Me=y;Me!==null;){i=Me;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Me=w;else e:for(i=y;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cm(9,l)}}catch(N){cr(l,l.return,N)}if(l===i){Me=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Me=S;break e}Me=l.return}}if(yt=s,uo(),Sa&&typeof Sa.onPostCommitFiberRoot=="function")try{Sa.onPostCommitFiberRoot(tm,e)}catch{}n=!0}return n}finally{Ft=r,Cs.transition=t}}return!1}function Xw(e,t,r){t=Uc(r,t),t=ME(e,t,1),e=Vi(e,t,1),t=Cn(),e!==null&&(cf(e,1,t),$n(e,t))}function cr(e,t,r){if(e.tag===3)Xw(e,e,r);else for(;t!==null;){if(t.tag===3){Xw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zi===null||!zi.has(n))){e=Uc(r,e),e=LE(t,e,1),t=Vi(t,e,1),e=Cn(),t!==null&&(cf(t,1,e),$n(t,e));break}}t=t.return}}function jO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Cn(),e.pingedLanes|=e.suspendedLanes&r,Br===e&&(Yr&r)===r&&(Dr===4||Dr===3&&(Yr&130023424)===Yr&&500>gr()-ey?Go(e,0):Zv|=r),$n(e,t)}function sT(e,t){t===0&&(e.mode&1?(t=$f,$f<<=1,!($f&130023424)&&($f=4194304)):t=1);var r=Cn();e=Qa(e,t),e!==null&&(cf(e,t,r),$n(e,r))}function kO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sT(e,r)}function AO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(t),sT(e,r)}var aT;aT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Un.current)Ln=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ln=!1,xO(e,t,r);Ln=!!(e.flags&131072)}else Ln=!1,Yt&&t.flags&1048576&&cE(t,Zh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kh(e,t),e=t.pendingProps;var s=Dc(t,pn.current);dc(t,r),s=Kv(null,t,n,e,s,r);var a=Gv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(n)?(a=!0,Qh(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qv(t),s.updater=lm,t.stateNode=s,s._reactInternals=t,Gg(t,n,e,r),t=Qg(null,t,n,!0,a,r)):(t.tag=0,Yt&&a&&Dv(t),_n(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(kh(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=PO(n),e=$s(n,e),s){case 0:t=Yg(null,t,n,e,r);break e;case 1:t=Uw(null,t,n,e,r);break e;case 11:t=Mw(null,t,n,e,r);break e;case 14:t=Lw(null,t,n,$s(n.type,e),r);break e}throw Error(pe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:$s(n,s),Yg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:$s(n,s),Uw(e,t,n,s,r);case 3:e:{if(qE(t),e===null)throw Error(pe(387));n=t.pendingProps,a=t.memoizedState,s=a.element,pE(e,t),r0(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Uc(Error(pe(423)),t),t=Bw(e,t,n,r,s);break e}else if(n!==s){s=Uc(Error(pe(424)),t),t=Bw(e,t,n,r,s);break e}else for(os=qi(t.stateNode.containerInfo.firstChild),ls=t,Yt=!0,Ks=null,r=hE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fc(),n===s){t=Ja(e,t,r);break e}_n(e,t,n,r)}t=t.child}return t;case 5:return gE(t),e===null&&Wg(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Bg(n,s)?i=null:a!==null&&Bg(n,a)&&(t.flags|=32),$E(e,t),_n(e,t,i,r),t.child;case 6:return e===null&&Wg(t),null;case 13:return VE(e,t,r);case 4:return Vv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Mc(t,null,n,r):_n(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:$s(n,s),Mw(e,t,n,s,r);case 7:return _n(e,t,t.pendingProps,r),t.child;case 8:return _n(e,t,t.pendingProps.children,r),t.child;case 12:return _n(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,$t(e0,n._currentValue),n._currentValue=i,a!==null)if(na(a.value,i)){if(a.children===s.children&&!Un.current){t=Ja(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=za(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Hg(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(pe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Hg(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}_n(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,dc(t,r),s=js(s),n=n(s),t.flags|=1,_n(e,t,n,r),t.child;case 14:return n=t.type,s=$s(n,t.pendingProps),s=$s(n.type,s),Lw(e,t,n,s,r);case 15:return UE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:$s(n,s),kh(e,t),t.tag=1,Bn(n)?(e=!0,Qh(t)):e=!1,dc(t,r),FE(t,n,s),Gg(t,n,s,r),Qg(null,t,n,!0,e,r);case 19:return zE(e,t,r);case 22:return BE(e,t,r)}throw Error(pe(156,t.tag))};function iT(e,t){return Ob(e,t)}function RO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(e,t,r,n){return new RO(e,t,r,n)}function sy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PO(e){if(typeof e=="function")return sy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bv)return 11;if(e===Ev)return 14}return 2}function Hi(e,t){var r=e.alternate;return r===null?(r=bs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ph(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")sy(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Gl:return Xo(r.children,s,a,t);case Sv:i=8,s|=8;break;case vg:return e=bs(12,r,t,s|2),e.elementType=vg,e.lanes=a,e;case yg:return e=bs(13,r,t,s),e.elementType=yg,e.lanes=a,e;case wg:return e=bs(19,r,t,s),e.elementType=wg,e.lanes=a,e;case gb:return dm(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mb:i=10;break e;case pb:i=9;break e;case bv:i=11;break e;case Ev:i=14;break e;case xi:i=16,n=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=bs(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Xo(e,t,r,n){return e=bs(7,e,n,t),e.lanes=r,e}function dm(e,t,r,n){return e=bs(22,e,n,t),e.elementType=gb,e.lanes=r,e.stateNode={isHidden:!1},e}function Ip(e,t,r){return e=bs(6,e,null,t),e.lanes=r,e}function Dp(e,t,r){return t=bs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ay(e,t,r,n,s,a,i,l,c){return e=new OO(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=bs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qv(a),e}function IO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function oT(e){if(!e)return Qi;e=e._reactInternals;e:{if(yl(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var r=e.type;if(Bn(r))return oE(e,r,t)}return t}function lT(e,t,r,n,s,a,i,l,c){return e=ay(r,n,!0,e,s,a,i,l,c),e.context=oT(null),r=e.current,n=Cn(),s=Wi(r),a=za(n,s),a.callback=t??null,Vi(r,a,s),e.current.lanes=s,cf(e,s,n),$n(e,n),e}function fm(e,t,r,n){var s=t.current,a=Cn(),i=Wi(s);return r=oT(r),t.context===null?t.context=r:t.pendingContext=r,t=za(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vi(s,t,i),e!==null&&(ea(e,s,i,a),Ch(e,s,i)),i}function u0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iy(e,t){Yw(e,t),(e=e.alternate)&&Yw(e,t)}function DO(){return null}var cT=typeof reportError=="function"?reportError:function(e){console.error(e)};function oy(e){this._internalRoot=e}hm.prototype.render=oy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));fm(e,t,null,null)};hm.prototype.unmount=oy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rl(function(){fm(null,e,null,null)}),t[Ya]=null}};function hm(e){this._internalRoot=e}hm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_i.length&&t!==0&&t<_i[r].priority;r++);_i.splice(r,0,e),r===0&&qb(e)}};function ly(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qw(){}function FO(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=u0(i);a.call(u)}}var i=lT(t,n,e,0,null,!1,!1,"",Qw);return e._reactRootContainer=i,e[Ya]=i.current,Cd(e.nodeType===8?e.parentNode:e),rl(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=u0(c);l.call(u)}}var c=ay(e,0,!1,null,null,!1,!1,"",Qw);return e._reactRootContainer=c,e[Ya]=c.current,Cd(e.nodeType===8?e.parentNode:e),rl(function(){fm(t,c,r,n)}),c}function pm(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=u0(i);l.call(c)}}fm(t,i,e,s)}else i=FO(r,t,e,s,n);return u0(i)}Lb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wu(t.pendingLanes);r!==0&&(Nv(t,r|1),$n(t,gr()),!(yt&6)&&(Bc=gr()+500,uo()))}break;case 13:rl(function(){var n=Qa(e,1);if(n!==null){var s=Cn();ea(n,e,1,s)}}),iy(e,1)}};jv=function(e){if(e.tag===13){var t=Qa(e,134217728);if(t!==null){var r=Cn();ea(t,e,134217728,r)}iy(e,134217728)}};Ub=function(e){if(e.tag===13){var t=Wi(e),r=Qa(e,t);if(r!==null){var n=Cn();ea(r,e,t,n)}iy(e,t)}};Bb=function(){return Ft};$b=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};Ag=function(e,t,r){switch(t){case"input":if(bg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=am(n);if(!s)throw Error(pe(90));vb(n),bg(n,s)}}}break;case"textarea":wb(e,r);break;case"select":t=r.value,t!=null&&oc(e,!!r.multiple,t,!1)}};Nb=ty;jb=rl;var MO={usingClientEntryPoint:!1,Events:[df,Jl,am,Tb,Cb,ty]},Ou={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LO={bundleType:Ou.bundleType,version:Ou.version,rendererPackageName:Ou.rendererPackageName,rendererConfig:Ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rb(e),e===null?null:e.stateNode},findFiberByHostInstance:Ou.findFiberByHostInstance||DO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{tm=Jf.inject(LO),Sa=Jf}catch{}}ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MO;ms.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ly(t))throw Error(pe(200));return IO(e,t,null,r)};ms.createRoot=function(e,t){if(!ly(e))throw Error(pe(299));var r=!1,n="",s=cT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ay(e,1,!1,null,null,r,!1,n,s),e[Ya]=t.current,Cd(e.nodeType===8?e.parentNode:e),new oy(t)};ms.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=Rb(t),e=e===null?null:e.stateNode,e};ms.flushSync=function(e){return rl(e)};ms.hydrate=function(e,t,r){if(!mm(t))throw Error(pe(200));return pm(null,e,t,!0,r)};ms.hydrateRoot=function(e,t,r){if(!ly(e))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=cT;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=lT(t,null,e,1,r??null,s,!1,a,i),e[Ya]=t.current,Cd(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new hm(t)};ms.render=function(e,t,r){if(!mm(t))throw Error(pe(200));return pm(null,e,t,!1,r)};ms.unmountComponentAtNode=function(e){if(!mm(e))throw Error(pe(40));return e._reactRootContainer?(rl(function(){pm(null,null,e,!1,function(){e._reactRootContainer=null,e[Ya]=null})}),!0):!1};ms.unstable_batchedUpdates=ty;ms.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!mm(r))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return pm(e,t,r,!1,n)};ms.version="18.3.1-next-f1338f8080-20240426";function uT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uT)}catch(e){console.error(e)}}uT(),ub.exports=ms;var tu=ub.exports;const dT=JS(tu);var fT,Jw=tu;fT=Jw.createRoot,Jw.hydrateRoot;function UO(){return null}var Zw=["light","dark"],BO="(prefers-color-scheme: dark)",$O=_.createContext(void 0),qO={setTheme:e=>{},themes:[]},VO=()=>{var e;return(e=_.useContext($O))!=null?e:qO};_.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Zw.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,x=!0)=>{let v=i?i[g]:g,y=p?g+"|| ''":`'${v}'`,w="";return s&&x&&!p&&Zw.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||v?w+=`c.add(${y})`:w+="null":v&&(w+=`d[s](n,${y})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${BO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var zO=e=>{switch(e){case"success":return KO;case"info":return XO;case"warning":return GO;case"error":return YO;default:return null}},WO=Array(12).fill(0),HO=({visible:e,className:t})=>oe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},oe.createElement("div",{className:"sonner-spinner"},WO.map((r,n)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),KO=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GO=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),XO=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YO=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),QO=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JO=()=>{let[e,t]=oe.useState(document.hidden);return oe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},cx=1,ZO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:cx++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,i=n.then(async c=>{if(a=["resolve",c],oe.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(tI(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||cx++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Dn=new ZO,eI=(e,t)=>{let r=(t==null?void 0:t.id)||cx++;return Dn.addToast({title:e,...t,id:r}),r},tI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",rI=eI,nI=()=>Dn.toasts,sI=()=>Dn.getActiveToasts();Object.assign(rI,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:nI,getToasts:sI});function aI(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}aI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zf(e){return e.label!==void 0}var iI=3,oI="32px",lI="16px",e_=4e3,cI=356,uI=14,dI=20,fI=200;function Fs(...e){return e.filter(Boolean).join(" ")}function hI(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var mI=e=>{var t,r,n,s,a,i,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:x,visibleToasts:v,heights:y,index:w,toasts:S,expanded:N,removeToast:A,defaultRichColors:b,closeButton:T,style:C,cancelButtonStyle:R,actionButtonStyle:I,className:O="",descriptionClassName:K="",duration:te,position:le,gap:ue,loadingIcon:he,expandByDefault:L,classNames:U,icons:ne,closeButtonAriaLabel:be="Close toast",pauseWhenPageIsHidden:j}=e,[H,B]=oe.useState(null),[z,ee]=oe.useState(null),[W,ce]=oe.useState(!1),[de,ie]=oe.useState(!1),[Ie,Oe]=oe.useState(!1),[gt,Xe]=oe.useState(!1),[yr,vt]=oe.useState(!1),[je,jr]=oe.useState(0),[kr,q]=oe.useState(0),G=oe.useRef(m.duration||te||e_),se=oe.useRef(null),Ee=oe.useRef(null),xe=w===0,ge=w+1<=v,ke=m.type,ot=m.dismissible!==!1,mt=m.className||"",an=m.descriptionClassName||"",gs=oe.useMemo(()=>y.findIndex(Ye=>Ye.toastId===m.id)||0,[y,m.id]),Wn=oe.useMemo(()=>{var Ye;return(Ye=m.closeButton)!=null?Ye:T},[m.closeButton,T]),wo=oe.useMemo(()=>m.duration||te||e_,[m.duration,te]),la=oe.useRef(0),Hn=oe.useRef(0),_o=oe.useRef(0),Is=oe.useRef(null),[yu,So]=le.split("-"),wu=oe.useMemo(()=>y.reduce((Ye,jt,Ut)=>Ut>=gs?Ye:Ye+jt.height,0),[y,gs]),_u=JO(),ip=m.invert||h,Su=ke==="loading";Hn.current=oe.useMemo(()=>gs*ue+wu,[gs,wu]),oe.useEffect(()=>{G.current=wo},[wo]),oe.useEffect(()=>{ce(!0)},[]),oe.useEffect(()=>{let Ye=Ee.current;if(Ye){let jt=Ye.getBoundingClientRect().height;return q(jt),x(Ut=>[{toastId:m.id,height:jt,position:m.position},...Ut]),()=>x(Ut=>Ut.filter(Gn=>Gn.toastId!==m.id))}},[x,m.id]),oe.useLayoutEffect(()=>{if(!W)return;let Ye=Ee.current,jt=Ye.style.height;Ye.style.height="auto";let Ut=Ye.getBoundingClientRect().height;Ye.style.height=jt,q(Ut),x(Gn=>Gn.find(Xn=>Xn.toastId===m.id)?Gn.map(Xn=>Xn.toastId===m.id?{...Xn,height:Ut}:Xn):[{toastId:m.id,height:Ut,position:m.position},...Gn])},[W,m.title,m.description,x,m.id]);let Kn=oe.useCallback(()=>{ie(!0),jr(Hn.current),x(Ye=>Ye.filter(jt=>jt.toastId!==m.id)),setTimeout(()=>{A(m)},fI)},[m,A,x,Hn]);oe.useEffect(()=>{if(m.promise&&ke==="loading"||m.duration===1/0||m.type==="loading")return;let Ye;return N||p||j&&_u?(()=>{if(_o.current<la.current){let jt=new Date().getTime()-la.current;G.current=G.current-jt}_o.current=new Date().getTime()})():G.current!==1/0&&(la.current=new Date().getTime(),Ye=setTimeout(()=>{var jt;(jt=m.onAutoClose)==null||jt.call(m,m),Kn()},G.current)),()=>clearTimeout(Ye)},[N,p,m,ke,j,_u,Kn]),oe.useEffect(()=>{m.delete&&Kn()},[Kn,m.delete]);function op(){var Ye,jt,Ut;return ne!=null&&ne.loading?oe.createElement("div",{className:Fs(U==null?void 0:U.loader,(Ye=m==null?void 0:m.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":ke==="loading"},ne.loading):he?oe.createElement("div",{className:Fs(U==null?void 0:U.loader,(jt=m==null?void 0:m.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":ke==="loading"},he):oe.createElement(HO,{className:Fs(U==null?void 0:U.loader,(Ut=m==null?void 0:m.classNames)==null?void 0:Ut.loader),visible:ke==="loading"})}return oe.createElement("li",{tabIndex:0,ref:Ee,className:Fs(O,mt,U==null?void 0:U.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[ke],(r=m==null?void 0:m.classNames)==null?void 0:r[ke]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:b,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":yr,"data-removed":de,"data-visible":ge,"data-y-position":yu,"data-x-position":So,"data-index":w,"data-front":xe,"data-swiping":Ie,"data-dismissible":ot,"data-type":ke,"data-invert":ip,"data-swipe-out":gt,"data-swipe-direction":z,"data-expanded":!!(N||L&&W),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${de?je:Hn.current}px`,"--initial-height":L?"auto":`${kr}px`,...C,...m.style},onDragEnd:()=>{Oe(!1),B(null),Is.current=null},onPointerDown:Ye=>{Su||!ot||(se.current=new Date,jr(Hn.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(Oe(!0),Is.current={x:Ye.clientX,y:Ye.clientY}))},onPointerUp:()=>{var Ye,jt,Ut,Gn;if(gt||!ot)return;Is.current=null;let Xn=Number(((Ye=Ee.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ca=Number(((jt=Ee.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Aa=new Date().getTime()-((Ut=se.current)==null?void 0:Ut.getTime()),vn=H==="x"?Xn:ca,ua=Math.abs(vn)/Aa;if(Math.abs(vn)>=dI||ua>.11){jr(Hn.current),(Gn=m.onDismiss)==null||Gn.call(m,m),ee(H==="x"?Xn>0?"right":"left":ca>0?"down":"up"),Kn(),Xe(!0),vt(!1);return}Oe(!1),B(null)},onPointerMove:Ye=>{var jt,Ut,Gn,Xn;if(!Is.current||!ot||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let ca=Ye.clientY-Is.current.y,Aa=Ye.clientX-Is.current.x,vn=(Ut=e.swipeDirections)!=null?Ut:hI(le);!H&&(Math.abs(Aa)>1||Math.abs(ca)>1)&&B(Math.abs(Aa)>Math.abs(ca)?"x":"y");let ua={x:0,y:0};H==="y"?(vn.includes("top")||vn.includes("bottom"))&&(vn.includes("top")&&ca<0||vn.includes("bottom")&&ca>0)&&(ua.y=ca):H==="x"&&(vn.includes("left")||vn.includes("right"))&&(vn.includes("left")&&Aa<0||vn.includes("right")&&Aa>0)&&(ua.x=Aa),(Math.abs(ua.x)>0||Math.abs(ua.y)>0)&&vt(!0),(Gn=Ee.current)==null||Gn.style.setProperty("--swipe-amount-x",`${ua.x}px`),(Xn=Ee.current)==null||Xn.style.setProperty("--swipe-amount-y",`${ua.y}px`)}},Wn&&!m.jsx?oe.createElement("button",{"aria-label":be,"data-disabled":Su,"data-close-button":!0,onClick:Su||!ot?()=>{}:()=>{var Ye;Kn(),(Ye=m.onDismiss)==null||Ye.call(m,m)},className:Fs(U==null?void 0:U.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=ne==null?void 0:ne.close)!=null?a:QO):null,m.jsx||_.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:oe.createElement(oe.Fragment,null,ke||m.icon||m.promise?oe.createElement("div",{"data-icon":"",className:Fs(U==null?void 0:U.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||op():null,m.type!=="loading"?m.icon||(ne==null?void 0:ne[ke])||zO(ke):null):null,oe.createElement("div",{"data-content":"",className:Fs(U==null?void 0:U.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},oe.createElement("div",{"data-title":"",className:Fs(U==null?void 0:U.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?oe.createElement("div",{"data-description":"",className:Fs(K,an,U==null?void 0:U.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),_.isValidElement(m.cancel)?m.cancel:m.cancel&&Zf(m.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:Ye=>{var jt,Ut;Zf(m.cancel)&&ot&&((Ut=(jt=m.cancel).onClick)==null||Ut.call(jt,Ye),Kn())},className:Fs(U==null?void 0:U.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,_.isValidElement(m.action)?m.action:m.action&&Zf(m.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:Ye=>{var jt,Ut;Zf(m.action)&&((Ut=(jt=m.action).onClick)==null||Ut.call(jt,Ye),!Ye.defaultPrevented&&Kn())},className:Fs(U==null?void 0:U.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function t_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function pI(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?lI:oI;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var gI=_.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=iI,toastOptions:p,dir:x=t_(),gap:v=uI,loadingIcon:y,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:N}=e,[A,b]=oe.useState([]),T=oe.useMemo(()=>Array.from(new Set([n].concat(A.filter(j=>j.position).map(j=>j.position)))),[A,n]),[C,R]=oe.useState([]),[I,O]=oe.useState(!1),[K,te]=oe.useState(!1),[le,ue]=oe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),he=oe.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=oe.useRef(null),ne=oe.useRef(!1),be=oe.useCallback(j=>{b(H=>{var B;return(B=H.find(z=>z.id===j.id))!=null&&B.delete||Dn.dismiss(j.id),H.filter(({id:z})=>z!==j.id)})},[]);return oe.useEffect(()=>Dn.subscribe(j=>{if(j.dismiss){b(H=>H.map(B=>B.id===j.id?{...B,delete:!0}:B));return}setTimeout(()=>{dT.flushSync(()=>{b(H=>{let B=H.findIndex(z=>z.id===j.id);return B!==-1?[...H.slice(0,B),{...H[B],...j},...H.slice(B+1)]:[j,...H]})})})}),[]),oe.useEffect(()=>{if(d!=="system"){ue(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window>"u")return;let j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:H})=>{ue(H?"dark":"light")})}catch{j.addListener(({matches:B})=>{try{ue(B?"dark":"light")}catch(z){console.error(z)}})}},[d]),oe.useEffect(()=>{A.length<=1&&O(!1)},[A]),oe.useEffect(()=>{let j=H=>{var B,z;s.every(ee=>H[ee]||H.code===ee)&&(O(!0),(B=he.current)==null||B.focus()),H.code==="Escape"&&(document.activeElement===he.current||(z=he.current)!=null&&z.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),oe.useEffect(()=>{if(he.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,ne.current=!1)}},[he.current]),oe.createElement("section",{ref:t,"aria-label":`${S} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((j,H)=>{var B;let[z,ee]=j.split("-");return A.length?oe.createElement("ol",{key:j,dir:x==="auto"?t_():x,tabIndex:-1,ref:he,className:l,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":z,"data-lifted":I&&A.length>1&&!a,"data-x-position":ee,style:{"--front-toast-height":`${((B=C[0])==null?void 0:B.height)||0}px`,"--width":`${cI}px`,"--gap":`${v}px`,...m,...pI(c,u)},onBlur:W=>{ne.current&&!W.currentTarget.contains(W.relatedTarget)&&(ne.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,U.current=W.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{K||O(!1)},onDragEnd:()=>O(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},A.filter(W=>!W.position&&H===0||W.position===j).map((W,ce)=>{var de,ie;return oe.createElement(mI,{key:W.id,icons:w,index:ce,toast:W,defaultRichColors:f,duration:(de=p==null?void 0:p.duration)!=null?de:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ie=p==null?void 0:p.closeButton)!=null?ie:i,interacting:K,position:j,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:be,toasts:A.filter(Ie=>Ie.position==W.position),heights:C.filter(Ie=>Ie.position==W.position),setHeights:R,expandByDefault:a,gap:v,loadingIcon:y,expanded:I,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const xI=({...e})=>{const{theme:t="system"}=VO();return o.jsx(gI,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function Ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function r_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gm(...e){return t=>{let r=!1;const n=e.map(s=>{const a=r_(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():r_(e[s],null)}}}}function dt(...e){return _.useCallback(gm(...e),e)}function vI(e,t){const r=_.createContext(t),n=a=>{const{children:i,...l}=a,c=_.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=_.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function As(e,t=[]){let r=[];function n(a,i){const l=_.createContext(i),c=r.length;r=[...r,i];const u=f=>{var v;const{scope:h,children:m,...g}=f,p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,x=_.useMemo(()=>g,Object.values(g));return o.jsx(p.Provider,{value:x,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=_.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>_.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,yI(s,...t)]}function yI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ji(e){const t=wI(e),r=_.forwardRef((n,s)=>{const{children:a,...i}=n,l=_.Children.toArray(a),c=l.find(SI);if(c){const u=c.props.children,d=l.map(f=>f===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var hT=Ji("Slot");function wI(e){const t=_.forwardRef((r,n)=>{const{children:s,...a}=r;if(_.isValidElement(s)){const i=EI(s),l=bI(a,s.props);return s.type!==_.Fragment&&(l.ref=n?gm(n,i):i),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mT=Symbol("radix.slottable");function _I(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=mT,t}function SI(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mT}function bI(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function EI(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var TI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=TI.reduce((e,t)=>{const r=Ji(`Primitive.${t}`),n=_.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function pT(e,t){e&&tu.flushSync(()=>e.dispatchEvent(t))}function Hr(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function CI(e,t=globalThis==null?void 0:globalThis.document){const r=Hr(e);_.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var NI="DismissableLayer",ux="dismissableLayer.update",jI="dismissableLayer.pointerDownOutside",kI="dismissableLayer.focusOutside",n_,gT=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ru=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=_.useContext(gT),[d,f]=_.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=_.useState({}),g=dt(t,b=>f(b)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=v,N=PI(b=>{const T=b.target,C=[...u.branches].some(R=>R.contains(T));!S||C||(s==null||s(b),i==null||i(b),b.defaultPrevented||l==null||l())},h),A=OI(b=>{const T=b.target;[...u.branches].some(R=>R.contains(T))||(a==null||a(b),i==null||i(b),b.defaultPrevented||l==null||l())},h);return CI(b=>{y===u.layers.size-1&&(n==null||n(b),!b.defaultPrevented&&l&&(b.preventDefault(),l()))},h),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(n_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),s_(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=n_)}},[d,h,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),s_())},[d,u]),_.useEffect(()=>{const b=()=>m({});return document.addEventListener(ux,b),()=>document.removeEventListener(ux,b)},[]),o.jsx(Ge.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,N.onPointerDownCapture)})});ru.displayName=NI;var AI="DismissableLayerBranch",RI=_.forwardRef((e,t)=>{const r=_.useContext(gT),n=_.useRef(null),s=dt(t,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(Ge.div,{...e,ref:s})});RI.displayName=AI;function PI(e,t=globalThis==null?void 0:globalThis.document){const r=Hr(e),n=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){xT(jI,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function OI(e,t=globalThis==null?void 0:globalThis.document){const r=Hr(e),n=_.useRef(!1);return _.useEffect(()=>{const s=a=>{a.target&&!n.current&&xT(kI,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function s_(){const e=new CustomEvent(ux);document.dispatchEvent(e)}function xT(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?pT(s,a):s.dispatchEvent(a)}var Zr=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},II=vv[" useId ".trim().toString()]||(()=>{}),DI=0;function ta(e){const[t,r]=_.useState(II());return Zr(()=>{e||r(n=>n??String(DI++))},[e]),e||(t?`radix-${t}`:"")}const FI=["top","right","bottom","left"],Zi=Math.min,rs=Math.max,d0=Math.round,eh=Math.floor,Ea=e=>({x:e,y:e}),MI={left:"right",right:"left",bottom:"top",top:"bottom"},LI={start:"end",end:"start"};function dx(e,t,r){return rs(e,Zi(t,r))}function Za(e,t){return typeof e=="function"?e(t):e}function ei(e){return e.split("-")[0]}function nu(e){return e.split("-")[1]}function cy(e){return e==="x"?"y":"x"}function uy(e){return e==="y"?"height":"width"}const UI=new Set(["top","bottom"]);function wa(e){return UI.has(ei(e))?"y":"x"}function dy(e){return cy(wa(e))}function BI(e,t,r){r===void 0&&(r=!1);const n=nu(e),s=dy(e),a=uy(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=f0(i)),[i,f0(i)]}function $I(e){const t=f0(e);return[fx(e),t,fx(t)]}function fx(e){return e.replace(/start|end/g,t=>LI[t])}const a_=["left","right"],i_=["right","left"],qI=["top","bottom"],VI=["bottom","top"];function zI(e,t,r){switch(e){case"top":case"bottom":return r?t?i_:a_:t?a_:i_;case"left":case"right":return t?qI:VI;default:return[]}}function WI(e,t,r,n){const s=nu(e);let a=zI(ei(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(fx)))),a}function f0(e){return e.replace(/left|right|bottom|top/g,t=>MI[t])}function HI(e){return{top:0,right:0,bottom:0,left:0,...e}}function vT(e){return typeof e!="number"?HI(e):{top:e,right:e,bottom:e,left:e}}function h0(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function o_(e,t,r){let{reference:n,floating:s}=e;const a=wa(t),i=dy(t),l=uy(i),c=ei(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(nu(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const KI=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=o_(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:x,fn:v}=l[p],{x:y,y:w,data:S,reset:N}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[x]:{...m[x],...S}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=o_(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Dd(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Za(t,e),g=vT(m),x=l[h?f==="floating"?"reference":"floating":f],v=h0(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=h0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-N.top+g.top)/S.y,bottom:(N.bottom-v.bottom+g.bottom)/S.y,left:(v.left-N.left+g.left)/S.x,right:(N.right-v.right+g.right)/S.x}}const GI=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Za(e,t)||{};if(u==null)return{};const f=vT(d),h={x:r,y:n},m=dy(s),g=uy(m),p=await i.getDimensions(u),x=m==="y",v=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",S=a.reference[g]+a.reference[m]-h[m]-a.floating[g],N=h[m]-a.reference[m],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let b=A?A[w]:0;(!b||!await(i.isElement==null?void 0:i.isElement(A)))&&(b=l.floating[w]||a.floating[g]);const T=S/2-N/2,C=b/2-p[g]/2-1,R=Zi(f[v],C),I=Zi(f[y],C),O=R,K=b-p[g]-I,te=b/2-p[g]/2+T,le=dx(O,te,K),ue=!c.arrow&&nu(s)!=null&&te!==le&&a.reference[g]/2-(te<O?R:I)-p[g]/2<0,he=ue?te<O?te-O:te-K:0;return{[m]:h[m]+he,data:{[m]:le,centerOffset:te-le-he,...ue&&{alignmentOffset:he}},reset:ue}}}),XI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=Za(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=ei(s),y=wa(l),w=ei(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(w||!p?[f0(l)]:$I(l)),A=g!=="none";!h&&A&&N.push(...WI(l,p,g,S));const b=[l,...N],T=await Dd(t,x),C=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&C.push(T[v]),f){const te=BI(s,i,S);C.push(T[te[0]],T[te[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(te=>te<=0)){var I,O;const te=(((I=a.flip)==null?void 0:I.index)||0)+1,le=b[te];if(le&&(!(f==="alignment"?y!==wa(le):!1)||R.every(L=>L.overflows[0]>0&&wa(L.placement)===y)))return{data:{index:te,overflows:R},reset:{placement:le}};let ue=(O=R.filter(he=>he.overflows[0]<=0).sort((he,L)=>he.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!ue)switch(m){case"bestFit":{var K;const he=(K=R.filter(L=>{if(A){const U=wa(L.placement);return U===y||U==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(U=>U>0).reduce((U,ne)=>U+ne,0)]).sort((L,U)=>L[1]-U[1])[0])==null?void 0:K[0];he&&(ue=he);break}case"initialPlacement":ue=l;break}if(s!==ue)return{reset:{placement:ue}}}return{}}}};function l_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function c_(e){return FI.some(t=>e[t]>=0)}const YI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Za(e,t);switch(n){case"referenceHidden":{const a=await Dd(t,{...s,elementContext:"reference"}),i=l_(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:c_(i)}}}case"escaped":{const a=await Dd(t,{...s,altBoundary:!0}),i=l_(a,r.floating);return{data:{escapedOffsets:i,escaped:c_(i)}}}default:return{}}}}},yT=new Set(["left","top"]);async function QI(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=ei(r),l=nu(r),c=wa(r)==="y",u=yT.has(i)?-1:1,d=a&&c?-1:1,f=Za(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const JI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await QI(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},ZI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...c}=Za(e,t),u={x:r,y:n},d=await Dd(t,c),f=wa(ei(s)),h=cy(f);let m=u[h],g=u[f];if(a){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=m+d[x],w=m-d[v];m=dx(y,m,w)}if(i){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=g+d[x],w=g-d[v];g=dx(y,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:a,[f]:i}}}}}},eD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Za(e,t),d={x:r,y:n},f=wa(s),h=cy(f);let m=d[h],g=d[f];const p=Za(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+x.mainAxis,N=a.reference[h]+a.reference[w]-x.mainAxis;m<S?m=S:m>N&&(m=N)}if(u){var v,y;const w=h==="y"?"width":"height",S=yT.has(ei(s)),N=a.reference[f]-a.floating[w]+(S&&((v=i.offset)==null?void 0:v[f])||0)+(S?0:x.crossAxis),A=a.reference[f]+a.reference[w]+(S?0:((y=i.offset)==null?void 0:y[f])||0)-(S?x.crossAxis:0);g<N?g=N:g>A&&(g=A)}return{[h]:m,[f]:g}}}},tD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Za(e,t),d=await Dd(t,u),f=ei(s),h=nu(s),m=wa(s)==="y",{width:g,height:p}=a.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=g-d.left-d.right,S=Zi(p-d[x],y),N=Zi(g-d[v],w),A=!t.middlewareData.shift;let b=S,T=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(b=y),A&&!h){const R=rs(d.left,0),I=rs(d.right,0),O=rs(d.top,0),K=rs(d.bottom,0);m?T=g-2*(R!==0||I!==0?R+I:rs(d.left,d.right)):b=p-2*(O!==0||K!==0?O+K:rs(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:b});const C=await i.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function xm(){return typeof window<"u"}function su(e){return wT(e)?(e.nodeName||"").toLowerCase():"#document"}function cs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ja(e){var t;return(t=(wT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wT(e){return xm()?e instanceof Node||e instanceof cs(e).Node:!1}function sa(e){return xm()?e instanceof Element||e instanceof cs(e).Element:!1}function Ca(e){return xm()?e instanceof HTMLElement||e instanceof cs(e).HTMLElement:!1}function u_(e){return!xm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cs(e).ShadowRoot}const rD=new Set(["inline","contents"]);function hf(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=aa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rD.has(s)}const nD=new Set(["table","td","th"]);function sD(e){return nD.has(su(e))}const aD=[":popover-open",":modal"];function vm(e){return aD.some(t=>{try{return e.matches(t)}catch{return!1}})}const iD=["transform","translate","scale","rotate","perspective"],oD=["transform","translate","scale","rotate","perspective","filter"],lD=["paint","layout","strict","content"];function fy(e){const t=hy(),r=sa(e)?aa(e):e;return iD.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||oD.some(n=>(r.willChange||"").includes(n))||lD.some(n=>(r.contain||"").includes(n))}function cD(e){let t=eo(e);for(;Ca(t)&&!$c(t);){if(fy(t))return t;if(vm(t))return null;t=eo(t)}return null}function hy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uD=new Set(["html","body","#document"]);function $c(e){return uD.has(su(e))}function aa(e){return cs(e).getComputedStyle(e)}function ym(e){return sa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eo(e){if(su(e)==="html")return e;const t=e.assignedSlot||e.parentNode||u_(e)&&e.host||ja(e);return u_(t)?t.host:t}function _T(e){const t=eo(e);return $c(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ca(t)&&hf(t)?t:_T(t)}function Fd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=_T(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=cs(s);if(a){const l=hx(i);return t.concat(i,i.visualViewport||[],hf(s)?s:[],l&&r?Fd(l):[])}return t.concat(s,Fd(s,[],r))}function hx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ST(e){const t=aa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ca(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=d0(r)!==a||d0(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function my(e){return sa(e)?e:e.contextElement}function hc(e){const t=my(e);if(!Ca(t))return Ea(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=ST(t);let i=(a?d0(r.width):r.width)/n,l=(a?d0(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const dD=Ea(0);function bT(e){const t=cs(e);return!hy()||!t.visualViewport?dD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fD(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==cs(e)?!1:t}function nl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=my(e);let i=Ea(1);t&&(n?sa(n)&&(i=hc(n)):i=hc(e));const l=fD(a,r,n)?bT(a):Ea(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=cs(a),m=n&&sa(n)?cs(n):n;let g=h,p=hx(g);for(;p&&n&&m!==g;){const x=hc(p),v=p.getBoundingClientRect(),y=aa(p),w=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,S=v.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=S,g=cs(p),p=hx(g)}}return h0({width:d,height:f,x:c,y:u})}function py(e,t){const r=ym(e).scrollLeft;return t?t.left+r:nl(ja(e)).left+r}function ET(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:py(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function hD(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=ja(n),l=t?vm(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Ea(1);const d=Ea(0),f=Ca(n);if((f||!f&&!a)&&((su(n)!=="body"||hf(i))&&(c=ym(n)),Ca(n))){const m=nl(n);u=hc(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=i&&!f&&!a?ET(i,c,!0):Ea(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function mD(e){return Array.from(e.getClientRects())}function pD(e){const t=ja(e),r=ym(e),n=e.ownerDocument.body,s=rs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=rs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+py(e);const l=-r.scrollTop;return aa(n).direction==="rtl"&&(i+=rs(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}function gD(e,t){const r=cs(e),n=ja(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=hy();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const xD=new Set(["absolute","fixed"]);function vD(e,t){const r=nl(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Ca(e)?hc(e):Ea(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function d_(e,t,r){let n;if(t==="viewport")n=gD(e,r);else if(t==="document")n=pD(ja(e));else if(sa(t))n=vD(t,r);else{const s=bT(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return h0(n)}function TT(e,t){const r=eo(e);return r===t||!sa(r)||$c(r)?!1:aa(r).position==="fixed"||TT(r,t)}function yD(e,t){const r=t.get(e);if(r)return r;let n=Fd(e,[],!1).filter(l=>sa(l)&&su(l)!=="body"),s=null;const a=aa(e).position==="fixed";let i=a?eo(e):e;for(;sa(i)&&!$c(i);){const l=aa(i),c=fy(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&xD.has(s.position)||hf(i)&&!c&&TT(e,i))?n=n.filter(d=>d!==i):s=l,i=eo(i)}return t.set(e,n),n}function wD(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?vm(t)?[]:yD(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=d_(t,d,s);return u.top=rs(f.top,u.top),u.right=Zi(f.right,u.right),u.bottom=Zi(f.bottom,u.bottom),u.left=rs(f.left,u.left),u},d_(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _D(e){const{width:t,height:r}=ST(e);return{width:t,height:r}}function SD(e,t,r){const n=Ca(t),s=ja(t),a=r==="fixed",i=nl(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ea(0);function u(){c.x=py(s)}if(n||!n&&!a)if((su(t)!=="body"||hf(s))&&(l=ym(t)),n){const m=nl(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?ET(s,l):Ea(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Fp(e){return aa(e).position==="static"}function f_(e,t){if(!Ca(e)||aa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ja(e)===r&&(r=r.ownerDocument.body),r}function CT(e,t){const r=cs(e);if(vm(e))return r;if(!Ca(e)){let s=eo(e);for(;s&&!$c(s);){if(sa(s)&&!Fp(s))return s;s=eo(s)}return r}let n=f_(e,t);for(;n&&sD(n)&&Fp(n);)n=f_(n,t);return n&&$c(n)&&Fp(n)&&!fy(n)?r:n||cD(e)||r}const bD=async function(e){const t=this.getOffsetParent||CT,r=this.getDimensions,n=await r(e.floating);return{reference:SD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ED(e){return aa(e).direction==="rtl"}const TD={convertOffsetParentRelativeRectToViewportRelativeRect:hD,getDocumentElement:ja,getClippingRect:wD,getOffsetParent:CT,getElementRects:bD,getClientRects:mD,getDimensions:_D,getScale:hc,isElement:sa,isRTL:ED};function NT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CD(e,t){let r=null,n;const s=ja(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=eh(f),p=eh(s.clientWidth-(d+h)),x=eh(s.clientHeight-(f+m)),v=eh(d),w={rootMargin:-g+"px "+-p+"px "+-x+"px "+-v+"px",threshold:rs(0,Zi(1,c))||1};let S=!0;function N(A){const b=A[0].intersectionRatio;if(b!==c){if(!S)return i();b?i(!1,b):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b===1&&!NT(u,e.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(N,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return i(!0),a}function ND(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=my(e),d=s||a?[...u?Fd(u):[],...Fd(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const f=u&&l?CD(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?nl(e):null;c&&x();function x(){const v=nl(e);p&&!NT(p,v)&&r(),p=v,g=requestAnimationFrame(x)}return r(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const jD=JI,kD=ZI,AD=XI,RD=tD,PD=YI,h_=GI,OD=eD,ID=(e,t,r)=>{const n=new Map,s={platform:TD,...r},a={...s.platform,_c:n};return KI(e,t,{...s,platform:a})};var DD=typeof document<"u",FD=function(){},Oh=DD?_.useLayoutEffect:FD;function m0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!m0(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!m0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function jT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function m_(e,t){const r=jT(e);return Math.round(t*r)/r}function Mp(e){const t=_.useRef(e);return Oh(()=>{t.current=e}),t}function MD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=_.useState(n);m0(h,n)||m(n);const[g,p]=_.useState(null),[x,v]=_.useState(null),y=_.useCallback(L=>{L!==A.current&&(A.current=L,p(L))},[]),w=_.useCallback(L=>{L!==b.current&&(b.current=L,v(L))},[]),S=a||g,N=i||x,A=_.useRef(null),b=_.useRef(null),T=_.useRef(d),C=c!=null,R=Mp(c),I=Mp(s),O=Mp(u),K=_.useCallback(()=>{if(!A.current||!b.current)return;const L={placement:t,strategy:r,middleware:h};I.current&&(L.platform=I.current),ID(A.current,b.current,L).then(U=>{const ne={...U,isPositioned:O.current!==!1};te.current&&!m0(T.current,ne)&&(T.current=ne,tu.flushSync(()=>{f(ne)}))})},[h,t,r,I,O]);Oh(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const te=_.useRef(!1);Oh(()=>(te.current=!0,()=>{te.current=!1}),[]),Oh(()=>{if(S&&(A.current=S),N&&(b.current=N),S&&N){if(R.current)return R.current(S,N,K);K()}},[S,N,K,R,C]);const le=_.useMemo(()=>({reference:A,floating:b,setReference:y,setFloating:w}),[y,w]),ue=_.useMemo(()=>({reference:S,floating:N}),[S,N]),he=_.useMemo(()=>{const L={position:r,left:0,top:0};if(!ue.floating)return L;const U=m_(ue.floating,d.x),ne=m_(ue.floating,d.y);return l?{...L,transform:"translate("+U+"px, "+ne+"px)",...jT(ue.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:ne}},[r,l,ue.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:K,refs:le,elements:ue,floatingStyles:he}),[d,K,le,ue,he])}const LD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?h_({element:n.current,padding:s}).fn(r):{}:n?h_({element:n,padding:s}).fn(r):{}}}},UD=(e,t)=>({...jD(e),options:[e,t]}),BD=(e,t)=>({...kD(e),options:[e,t]}),$D=(e,t)=>({...OD(e),options:[e,t]}),qD=(e,t)=>({...AD(e),options:[e,t]}),VD=(e,t)=>({...RD(e),options:[e,t]}),zD=(e,t)=>({...PD(e),options:[e,t]}),WD=(e,t)=>({...LD(e),options:[e,t]});var HD="Arrow",kT=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(Ge.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});kT.displayName=HD;var KD=kT;function AT(e){const[t,r]=_.useState(void 0);return Zr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var gy="Popper",[RT,fo]=As(gy),[GD,PT]=RT(gy),OT=e=>{const{__scopePopper:t,children:r}=e,[n,s]=_.useState(null);return o.jsx(GD,{scope:t,anchor:n,onAnchorChange:s,children:r})};OT.displayName=gy;var IT="PopperAnchor",DT=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=PT(IT,r),i=_.useRef(null),l=dt(t,i);return _.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(Ge.div,{...s,ref:l})});DT.displayName=IT;var xy="PopperContent",[XD,YD]=RT(xy),FT=_.forwardRef((e,t)=>{var W,ce,de,ie,Ie,Oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=PT(xy,r),[v,y]=_.useState(null),w=dt(t,gt=>y(gt)),[S,N]=_.useState(null),A=AT(S),b=(A==null?void 0:A.width)??0,T=(A==null?void 0:A.height)??0,C=n+(a!=="center"?"-"+a:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,K={padding:R,boundary:I.filter(JD),altBoundary:O},{refs:te,floatingStyles:le,placement:ue,isPositioned:he,middlewareData:L}=MD({strategy:"fixed",placement:C,whileElementsMounted:(...gt)=>ND(...gt,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[UD({mainAxis:s+T,alignmentAxis:i}),c&&BD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?$D():void 0,...K}),c&&qD({...K}),VD({...K,apply:({elements:gt,rects:Xe,availableWidth:yr,availableHeight:vt})=>{const{width:je,height:jr}=Xe.reference,kr=gt.floating.style;kr.setProperty("--radix-popper-available-width",`${yr}px`),kr.setProperty("--radix-popper-available-height",`${vt}px`),kr.setProperty("--radix-popper-anchor-width",`${je}px`),kr.setProperty("--radix-popper-anchor-height",`${jr}px`)}}),S&&WD({element:S,padding:l}),ZD({arrowWidth:b,arrowHeight:T}),h&&zD({strategy:"referenceHidden",...K})]}),[U,ne]=UT(ue),be=Hr(g);Zr(()=>{he&&(be==null||be())},[he,be]);const j=(W=L.arrow)==null?void 0:W.x,H=(ce=L.arrow)==null?void 0:ce.y,B=((de=L.arrow)==null?void 0:de.centerOffset)!==0,[z,ee]=_.useState();return Zr(()=>{v&&ee(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:he?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(ie=L.transformOrigin)==null?void 0:ie.x,(Ie=L.transformOrigin)==null?void 0:Ie.y].join(" "),...((Oe=L.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(XD,{scope:r,placedSide:U,onArrowChange:N,arrowX:j,arrowY:H,shouldHideArrow:B,children:o.jsx(Ge.div,{"data-side":U,"data-align":ne,...p,ref:w,style:{...p.style,animation:he?void 0:"none"}})})})});FT.displayName=xy;var MT="PopperArrow",QD={top:"bottom",right:"left",bottom:"top",left:"right"},LT=_.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=YD(MT,n),i=QD[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(KD,{...s,ref:r,style:{...s.style,display:"block"}})})});LT.displayName=MT;function JD(e){return e!==null}var ZD=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:r,rects:n,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=UT(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=i?f:`${h}px`,p=`${-c}px`):u==="top"?(g=i?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=i?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=i?f:`${m}px`),{data:{x:g,y:p}}}});function UT(e){const[t,r="center"]=e.split("-");return[t,r]}var vy=OT,mf=DT,wm=FT,_m=LT,eF="Portal",pf=_.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=_.useState(!1);Zr(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?dT.createPortal(o.jsx(Ge.div,{...n,ref:t}),i):null});pf.displayName=eF;function tF(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var xn=e=>{const{present:t,children:r}=e,n=rF(t),s=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=dt(n.ref,nF(s));return typeof r=="function"||n.isPresent?_.cloneElement(s,{ref:a}):null};xn.displayName="Presence";function rF(e){const[t,r]=_.useState(),n=_.useRef(null),s=_.useRef(e),a=_.useRef("none"),i=e?"mounted":"unmounted",[l,c]=tF(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=th(n.current);a.current=l==="mounted"?u:"none"},[l]),Zr(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,m=th(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Zr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=th(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(a.current=th(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function th(e){return(e==null?void 0:e.animationName)||"none"}function nF(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sF=vv[" useInsertionEffect ".trim().toString()]||Zr;function to({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=aF({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=_.useRef(e!==void 0);_.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=_.useCallback(d=>{var f;if(l){const h=iF(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function aF({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),s=_.useRef(r),a=_.useRef(t);return sF(()=>{a.current=t},[t]),_.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function iF(e){return typeof e=="function"}var BT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oF="VisuallyHidden",$T=_.forwardRef((e,t)=>o.jsx(Ge.span,{...e,ref:t,style:{...BT,...e.style}}));$T.displayName=oF;var lF=$T,[Sm,lQ]=As("Tooltip",[fo]),yy=fo(),qT="TooltipProvider",cF=700,p_="tooltip.open",[uF,VT]=Sm(qT),zT=e=>{const{__scopeTooltip:t,delayDuration:r=cF,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,i=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(uF,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};zT.displayName=qT;var WT="Tooltip",[cQ,bm]=Sm(WT),mx="TooltipTrigger",dF=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=bm(mx,r),a=VT(mx,r),i=yy(r),l=_.useRef(null),c=dt(t,l,s.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(mf,{asChild:!0,...i,children:o.jsx(Ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ce(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ce(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ce(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ce(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ce(e.onBlur,s.onClose),onClick:Ce(e.onClick,s.onClose)})})});dF.displayName=mx;var fF="TooltipPortal",[uQ,hF]=Sm(fF,{forceMount:void 0}),qc="TooltipContent",HT=_.forwardRef((e,t)=>{const r=hF(qc,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=bm(qc,e.__scopeTooltip);return o.jsx(xn,{present:n||i.open,children:i.disableHoverableContent?o.jsx(KT,{side:s,...a,ref:t}):o.jsx(mF,{side:s,...a,ref:t})})}),mF=_.forwardRef((e,t)=>{const r=bm(qc,e.__scopeTooltip),n=VT(qc,e.__scopeTooltip),s=_.useRef(null),a=dt(t,s),[i,l]=_.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=_.useCallback(()=>{l(null),f(!1)},[f]),m=_.useCallback((g,p)=>{const x=g.currentTarget,v={x:g.clientX,y:g.clientY},y=yF(v,x.getBoundingClientRect()),w=wF(v,y),S=_F(p.getBoundingClientRect()),N=bF([...w,...S]);l(N),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(c&&d){const g=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),_.useEffect(()=>{if(i){const g=p=>{const x=p.target,v={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!SF(v,i);y?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,h]),o.jsx(KT,{...e,ref:a})}),[pF,gF]=Sm(WT,{isInside:!1}),xF=_I("TooltipContent"),KT=_.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=bm(qc,r),u=yy(r),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(p_,d),()=>document.removeEventListener(p_,d)),[d]),_.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(ru,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(wm,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(xF,{children:n}),o.jsx(pF,{scope:r,isInside:!0,children:o.jsx(lF,{id:c.contentId,role:"tooltip",children:s||n})})]})})});HT.displayName=qc;var GT="TooltipArrow",vF=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=yy(r);return gF(GT,r).isInside?null:o.jsx(_m,{...s,...n,ref:t})});vF.displayName=GT;function yF(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function wF(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function _F(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function SF(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function bF(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),EF(t)}function EF(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var TF=zT,XT=HT;function YT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=YT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function QT(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=YT(e))&&(n&&(n+=" "),n+=t);return n}const wy="-",CF=e=>{const t=jF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(wy);return l[0]===""&&l.length!==1&&l.shift(),JT(l,t)||NF(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},JT=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?JT(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(wy);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},g_=/^\[(.+)\]$/,NF=e=>{if(g_.test(e)){const t=g_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return AF(Object.entries(e.classGroups),r).forEach(([a,i])=>{px(i,n,a,t)}),n},px=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:x_(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(kF(s)){px(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{px(i,x_(t,a),r,n)})})},x_=(e,t)=>{let r=e;return t.split(wy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},kF=e=>e.isThemeGetter,AF=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,RF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},ZT="!",PF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===s&&(n||l.slice(x,x+a)===t)){c.push(l.slice(d,x)),d=x+a;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(ZT),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},OF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},IF=e=>({cache:RF(e.cacheSize),parseClassName:PF(e),...CF(e)}),DF=/\s+/,FF=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(DF);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=OF(d).join(":"),v=f?x+ZT:x,y=v+p;if(a.includes(y))continue;a.push(y);const w=s(p,g);for(let S=0;S<w.length;++S){const N=w[S];a.push(v+N)}l=u+(l.length>0?" "+l:l)}return l};function MF(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=eC(t))&&(n&&(n+=" "),n+=r);return n}const eC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=eC(e[n]))&&(r&&(r+=" "),r+=t);return r};function LF(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=IF(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=FF(c,r);return s(c,d),d}return function(){return a(MF.apply(null,arguments))}}const zt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},tC=/^\[(?:([a-z-]+):)?(.+)\]$/i,UF=/^\d+\/\d+$/,BF=new Set(["px","full","screen"]),$F=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pa=e=>mc(e)||BF.has(e)||UF.test(e),fi=e=>au(e,"length",ZF),mc=e=>!!e&&!Number.isNaN(Number(e)),Lp=e=>au(e,"number",mc),Iu=e=>!!e&&Number.isInteger(Number(e)),HF=e=>e.endsWith("%")&&mc(e.slice(0,-1)),it=e=>tC.test(e),hi=e=>$F.test(e),KF=new Set(["length","size","percentage"]),GF=e=>au(e,KF,rC),XF=e=>au(e,"position",rC),YF=new Set(["image","url"]),QF=e=>au(e,YF,t3),JF=e=>au(e,"",e3),Du=()=>!0,au=(e,t,r)=>{const n=tC.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ZF=e=>qF.test(e)&&!VF.test(e),rC=()=>!1,e3=e=>zF.test(e),t3=e=>WF.test(e),r3=()=>{const e=zt("colors"),t=zt("spacing"),r=zt("blur"),n=zt("brightness"),s=zt("borderColor"),a=zt("borderRadius"),i=zt("borderSpacing"),l=zt("borderWidth"),c=zt("contrast"),u=zt("grayscale"),d=zt("hueRotate"),f=zt("invert"),h=zt("gap"),m=zt("gradientColorStops"),g=zt("gradientColorStopPositions"),p=zt("inset"),x=zt("margin"),v=zt("opacity"),y=zt("padding"),w=zt("saturate"),S=zt("scale"),N=zt("sepia"),A=zt("skew"),b=zt("space"),T=zt("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",it,t],O=()=>[it,t],K=()=>["",Pa,fi],te=()=>["auto",mc,it],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",it],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],be=()=>[mc,it];return{cacheSize:500,separator:":",theme:{colors:[Du],spacing:[Pa,fi],blur:["none","",hi,it],brightness:be(),borderColor:[e],borderRadius:["none","","full",hi,it],borderSpacing:O(),borderWidth:K(),contrast:be(),grayscale:U(),hueRotate:be(),invert:U(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[HF,fi],inset:I(),margin:I(),opacity:be(),padding:O(),saturate:be(),scale:be(),sepia:U(),skew:be(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[hi]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),it]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Iu,it]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Iu,it]}],"grid-cols":[{"grid-cols":[Du]}],"col-start-end":[{col:["auto",{span:["full",Iu,it]},it]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[Du]}],"row-start-end":[{row:["auto",{span:[Iu,it]},it]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,t]}],"min-w":[{"min-w":[it,t,"min","max","fit"]}],"max-w":[{"max-w":[it,t,"none","full","min","max","fit","prose",{screen:[hi]},hi]}],h:[{h:[it,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hi,fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lp]}],"font-family":[{font:[Du]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",mc,Lp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pa,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pa,fi]}],"underline-offset":[{"underline-offset":["auto",Pa,it]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),XF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ue()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[Pa,it]}],"outline-w":[{outline:[Pa,fi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Pa,fi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hi,JF]}],"shadow-color":[{shadow:[Du]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",hi,it]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:be()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:be()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Iu,it]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pa,fi,Lp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},n3=LF(r3);function Fe(...e){return n3(QT(e))}const p0=["admin","college_dean","department_head","storekeeper","staff"],s3=TF,a3=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(XT,{ref:n,sideOffset:t,className:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));a3.displayName=XT.displayName;var iu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sl=typeof window>"u"||"Deno"in globalThis;function Sn(){}function i3(e,t){return typeof e=="function"?e(t):e}function gx(e){return typeof e=="number"&&e>=0&&e!==1/0}function nC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ki(e,t){return typeof e=="function"?e(t):e}function ws(e,t){return typeof e=="function"?e(t):e}function v_(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==_y(i,t.options))return!1}else if(!Md(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function y_(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(al(t.options.mutationKey)!==al(a))return!1}else if(!Md(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function _y(e,t){return((t==null?void 0:t.queryKeyHashFn)||al)(e)}function al(e){return JSON.stringify(e,(t,r)=>xx(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Md(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Md(e[r],t[r])):!1}function sC(e,t){if(e===t)return e;const r=w_(e)&&w_(t);if(r||xx(e)&&xx(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=sC(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function g0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function w_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xx(e){if(!__(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!__(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function __(e){return Object.prototype.toString.call(e)==="[object Object]"}function o3(e){return new Promise(t=>{setTimeout(t,e)})}function vx(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?sC(e,t):t}function l3(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function c3(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Sy=Symbol();function aC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Sy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function iC(e,t){return typeof e=="function"?e(...t):!!e}var Uo,Ei,Sc,qS,u3=(qS=class extends iu{constructor(){super();Ve(this,Uo);Ve(this,Ei);Ve(this,Sc);Re(this,Sc,t=>{if(!sl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){V(this,Ei)||this.setEventListener(V(this,Sc))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Ei))==null||t.call(this),Re(this,Ei,void 0))}setEventListener(t){var r;Re(this,Sc,t),(r=V(this,Ei))==null||r.call(this),Re(this,Ei,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){V(this,Uo)!==t&&(Re(this,Uo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof V(this,Uo)=="boolean"?V(this,Uo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Uo=new WeakMap,Ei=new WeakMap,Sc=new WeakMap,qS),by=new u3,bc,Ti,Ec,VS,d3=(VS=class extends iu{constructor(){super();Ve(this,bc,!0);Ve(this,Ti);Ve(this,Ec);Re(this,Ec,t=>{if(!sl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){V(this,Ti)||this.setEventListener(V(this,Ec))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Ti))==null||t.call(this),Re(this,Ti,void 0))}setEventListener(t){var r;Re(this,Ec,t),(r=V(this,Ti))==null||r.call(this),Re(this,Ti,t(this.setOnline.bind(this)))}setOnline(t){V(this,bc)!==t&&(Re(this,bc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return V(this,bc)}},bc=new WeakMap,Ti=new WeakMap,Ec=new WeakMap,VS),x0=new d3;function yx(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function f3(e){return Math.min(1e3*2**e,3e4)}function oC(e){return(e??"online")==="online"?x0.isOnline():!0}var lC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Up(e){return e instanceof lC}function cC(e){let t=!1,r=0,n=!1,s;const a=yx(),i=p=>{var x;n||(h(new lC(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>by.isFocused()&&(e.networkMode==="always"||x0.isOnline())&&e.canRun(),d=()=>oC(e.networkMode)&&e.canRun(),f=p=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),a.resolve(p))},h=p=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),a.reject(p))},m=()=>new Promise(p=>{var x;s=v=>{(n||u())&&p(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(f).catch(v=>{var A;if(n)return;const y=e.retry??(sl?0:3),w=e.retryDelay??f3,S=typeof w=="function"?w(r,v):w,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!N){h(v);return}r++,(A=e.onFail)==null||A.call(e,r,v),o3(S).then(()=>u()?void 0:m()).then(()=>{t?h(v):g()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),a)}}var h3=e=>setTimeout(e,0);function m3(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=h3;const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ir=m3(),Bo,zS,uC=(zS=class{constructor(){Ve(this,Bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gx(this.gcTime)&&Re(this,Bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(sl?1/0:5*60*1e3))}clearGcTimeout(){V(this,Bo)&&(clearTimeout(V(this,Bo)),Re(this,Bo,void 0))}},Bo=new WeakMap,zS),Tc,$o,vs,qo,un,nf,Vo,Vs,Ia,WS,p3=(WS=class extends uC{constructor(t){super();Ve(this,Vs);Ve(this,Tc);Ve(this,$o);Ve(this,vs);Ve(this,qo);Ve(this,un);Ve(this,nf);Ve(this,Vo);Re(this,Vo,!1),Re(this,nf,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,qo,t.client),Re(this,vs,V(this,qo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,Tc,g3(this.options)),this.state=t.state??V(this,Tc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,un))==null?void 0:t.promise}setOptions(t){this.options={...V(this,nf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,vs).remove(this)}setData(t,r){const n=vx(this.state.data,t,this.options);return lt(this,Vs,Ia).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){lt(this,Vs,Ia).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=V(this,un))==null?void 0:n.promise;return(s=V(this,un))==null||s.cancel(t),r?r.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Tc))}isActive(){return this.observers.some(t=>ws(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ki(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!nC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,un))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,un))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,vs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(V(this,un)&&(V(this,Vo)?V(this,un).cancel({revert:!0}):V(this,un).cancelRetry()),this.scheduleGc()),V(this,vs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||lt(this,Vs,Ia).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,un))return V(this,un).continueRetry(),V(this,un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Re(this,Vo,!0),n.signal)})},a=()=>{const h=aC(this.options,r),g=(()=>{const p={client:V(this,qo),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return Re(this,Vo,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:V(this,qo),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),Re(this,$o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&lt(this,Vs,Ia).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,p,x;Up(h)&&h.silent||lt(this,Vs,Ia).call(this,{type:"error",error:h}),Up(h)||((g=(m=V(this,vs).config).onError)==null||g.call(m,h,this),(x=(p=V(this,vs).config).onSettled)==null||x.call(p,this.state.data,h,this)),this.scheduleGc()};return Re(this,un,cC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,p,x;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(g=(m=V(this,vs).config).onSuccess)==null||g.call(m,h,this),(x=(p=V(this,vs).config).onSettled)==null||x.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{lt(this,Vs,Ia).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{lt(this,Vs,Ia).call(this,{type:"pause"})},onContinue:()=>{lt(this,Vs,Ia).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),V(this,un).start()}},Tc=new WeakMap,$o=new WeakMap,vs=new WeakMap,qo=new WeakMap,un=new WeakMap,nf=new WeakMap,Vo=new WeakMap,Vs=new WeakSet,Ia=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...dC(n.data,this.options),fetchMeta:t.meta??null};case"success":return Re(this,$o,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Up(s)&&s.revert&&V(this,$o)?{...V(this,$o),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ir.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),V(this,vs).notify({query:this,type:"updated",action:t})})},WS);function dC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function g3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pa,HS,x3=(HS=class extends iu{constructor(t={}){super();Ve(this,pa);this.config=t,Re(this,pa,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??_y(s,r);let i=this.get(a);return i||(i=new p3({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){V(this,pa).has(t.queryHash)||(V(this,pa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=V(this,pa).get(t.queryHash);r&&(t.destroy(),r===t&&V(this,pa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,pa).get(t)}getAll(){return[...V(this,pa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>v_(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>v_(t,n)):r}notify(t){Ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pa=new WeakMap,HS),ga,yn,zo,xa,pi,KS,v3=(KS=class extends uC{constructor(t){super();Ve(this,xa);Ve(this,ga);Ve(this,yn);Ve(this,zo);this.mutationId=t.mutationId,Re(this,yn,t.mutationCache),Re(this,ga,[]),this.state=t.state||fC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,ga).includes(t)||(V(this,ga).push(t),this.clearGcTimeout(),V(this,yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,ga,V(this,ga).filter(r=>r!==t)),this.scheduleGc(),V(this,yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,ga).length||(this.state.status==="pending"?this.scheduleGc():V(this,yn).remove(this))}continue(){var t;return((t=V(this,zo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,l,c,u,d,f,h,m,g,p,x,v,y,w,S,N,A,b,T;const r=()=>{lt(this,xa,pi).call(this,{type:"continue"})};Re(this,zo,cC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,R)=>{lt(this,xa,pi).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{lt(this,xa,pi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,yn).canRun(this)}));const n=this.state.status==="pending",s=!V(this,zo).canStart();try{if(n)r();else{lt(this,xa,pi).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=V(this,yn).config).onMutate)==null?void 0:i.call(a,t,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));R!==this.state.context&&lt(this,xa,pi).call(this,{type:"pending",context:R,variables:t,isPaused:s})}const C=await V(this,zo).start();return await((d=(u=V(this,yn).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,t,this.state.context)),await((g=(m=V(this,yn).config).onSettled)==null?void 0:g.call(m,C,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,C,null,t,this.state.context)),lt(this,xa,pi).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(v=V(this,yn).config).onError)==null?void 0:y.call(v,C,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,C,t,this.state.context)),await((A=(N=V(this,yn).config).onSettled)==null?void 0:A.call(N,void 0,C,this.state.variables,this.state.context,this)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,void 0,C,t,this.state.context)),C}finally{lt(this,xa,pi).call(this,{type:"error",error:C})}}finally{V(this,yn).runNext(this)}}},ga=new WeakMap,yn=new WeakMap,zo=new WeakMap,xa=new WeakSet,pi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ir.batch(()=>{V(this,ga).forEach(n=>{n.onMutationUpdate(t)}),V(this,yn).notify({mutation:this,type:"updated",action:t})})},KS);function fC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var La,zs,sf,GS,y3=(GS=class extends iu{constructor(t={}){super();Ve(this,La);Ve(this,zs);Ve(this,sf);this.config=t,Re(this,La,new Set),Re(this,zs,new Map),Re(this,sf,0)}build(t,r,n){const s=new v3({mutationCache:this,mutationId:++Df(this,sf)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){V(this,La).add(t);const r=rh(t);if(typeof r=="string"){const n=V(this,zs).get(r);n?n.push(t):V(this,zs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(V(this,La).delete(t)){const r=rh(t);if(typeof r=="string"){const n=V(this,zs).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&V(this,zs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=rh(t);if(typeof r=="string"){const n=V(this,zs).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=rh(t);if(typeof r=="string"){const s=(n=V(this,zs).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ir.batch(()=>{V(this,La).forEach(t=>{this.notify({type:"removed",mutation:t})}),V(this,La).clear(),V(this,zs).clear()})}getAll(){return Array.from(V(this,La))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>y_(r,n))}findAll(t={}){return this.getAll().filter(r=>y_(t,r))}notify(t){Ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ir.batch(()=>Promise.all(t.map(r=>r.continue().catch(Sn))))}},La=new WeakMap,zs=new WeakMap,sf=new WeakMap,GS);function rh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function S_(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=aC(t.options,t.fetchOptions),y=async(w,S,N)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const b=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:S,direction:N?"backward":"forward",meta:t.options.meta};return x(I),I})(),T=await v(b),{maxPages:C}=t.options,R=N?c3:l3;return{pages:R(w.pages,T,C),pageParams:R(w.pageParams,S,C)}};if(s&&a.length){const w=s==="backward",S=w?w3:b_,N={pages:a,pageParams:i},A=S(n,N);l=await y(N,A,w)}else{const w=e??a.length;do{const S=c===0?i[0]??n.initialPageParam:b_(n,l);if(c>0&&S==null)break;l=await y(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function b_(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function w3(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ir,Ci,Ni,Cc,Nc,ji,jc,kc,XS,_3=(XS=class{constructor(e={}){Ve(this,ir);Ve(this,Ci);Ve(this,Ni);Ve(this,Cc);Ve(this,Nc);Ve(this,ji);Ve(this,jc);Ve(this,kc);Re(this,ir,e.queryCache||new x3),Re(this,Ci,e.mutationCache||new y3),Re(this,Ni,e.defaultOptions||{}),Re(this,Cc,new Map),Re(this,Nc,new Map),Re(this,ji,0)}mount(){Df(this,ji)._++,V(this,ji)===1&&(Re(this,jc,by.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,ir).onFocus())})),Re(this,kc,x0.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,ir).onOnline())})))}unmount(){var e,t;Df(this,ji)._--,V(this,ji)===0&&((e=V(this,jc))==null||e.call(this),Re(this,jc,void 0),(t=V(this,kc))==null||t.call(this),Re(this,kc,void 0))}isFetching(e){return V(this,ir).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,Ci).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,ir).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=V(this,ir).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ki(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return V(this,ir).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=V(this,ir).get(n.queryHash),a=s==null?void 0:s.state.data,i=i3(t,a);if(i!==void 0)return V(this,ir).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ir.batch(()=>V(this,ir).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,ir).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=V(this,ir);Ir.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=V(this,ir);return Ir.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ir.batch(()=>V(this,ir).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Sn).catch(Sn)}invalidateQueries(e,t={}){return Ir.batch(()=>(V(this,ir).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ir.batch(()=>V(this,ir).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Sn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=V(this,ir).build(this,t);return r.isStaleByTime(Ki(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sn).catch(Sn)}fetchInfiniteQuery(e){return e.behavior=S_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sn).catch(Sn)}ensureInfiniteQueryData(e){return e.behavior=S_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return x0.isOnline()?V(this,Ci).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,ir)}getMutationCache(){return V(this,Ci)}getDefaultOptions(){return V(this,Ni)}setDefaultOptions(e){Re(this,Ni,e)}setQueryDefaults(e,t){V(this,Cc).set(al(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Cc).values()],r={};return t.forEach(n=>{Md(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){V(this,Nc).set(al(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Nc).values()],r={};return t.forEach(n=>{Md(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,Ni).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_y(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Sy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,Ni).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,ir).clear(),V(this,Ci).clear()}},ir=new WeakMap,Ci=new WeakMap,Ni=new WeakMap,Cc=new WeakMap,Nc=new WeakMap,ji=new WeakMap,jc=new WeakMap,kc=new WeakMap,XS),Pn,pt,af,wn,Wo,Ac,ki,Ai,of,Rc,Pc,Ho,Ko,Ri,Oc,At,Ku,wx,_x,Sx,bx,Ex,Tx,Cx,hC,YS,S3=(YS=class extends iu{constructor(t,r){super();Ve(this,At);Ve(this,Pn);Ve(this,pt);Ve(this,af);Ve(this,wn);Ve(this,Wo);Ve(this,Ac);Ve(this,ki);Ve(this,Ai);Ve(this,of);Ve(this,Rc);Ve(this,Pc);Ve(this,Ho);Ve(this,Ko);Ve(this,Ri);Ve(this,Oc,new Set);this.options=r,Re(this,Pn,t),Re(this,Ai,null),Re(this,ki,yx()),this.options.experimental_prefetchInRender||V(this,ki).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,pt).addObserver(this),E_(V(this,pt),this.options)?lt(this,At,Ku).call(this):this.updateResult(),lt(this,At,bx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Nx(V(this,pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Nx(V(this,pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,lt(this,At,Ex).call(this),lt(this,At,Tx).call(this),V(this,pt).removeObserver(this)}setOptions(t){const r=this.options,n=V(this,pt);if(this.options=V(this,Pn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ws(this.options.enabled,V(this,pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");lt(this,At,Cx).call(this),V(this,pt).setOptions(this.options),r._defaulted&&!g0(this.options,r)&&V(this,Pn).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,pt),observer:this});const s=this.hasListeners();s&&T_(V(this,pt),n,this.options,r)&&lt(this,At,Ku).call(this),this.updateResult(),s&&(V(this,pt)!==n||ws(this.options.enabled,V(this,pt))!==ws(r.enabled,V(this,pt))||Ki(this.options.staleTime,V(this,pt))!==Ki(r.staleTime,V(this,pt)))&&lt(this,At,wx).call(this);const a=lt(this,At,_x).call(this);s&&(V(this,pt)!==n||ws(this.options.enabled,V(this,pt))!==ws(r.enabled,V(this,pt))||a!==V(this,Ri))&&lt(this,At,Sx).call(this,a)}getOptimisticResult(t){const r=V(this,Pn).getQueryCache().build(V(this,Pn),t),n=this.createResult(r,t);return E3(this,n)&&(Re(this,wn,n),Re(this,Ac,this.options),Re(this,Wo,V(this,pt).state)),n}getCurrentResult(){return V(this,wn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){V(this,Oc).add(t)}getCurrentQuery(){return V(this,pt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=V(this,Pn).defaultQueryOptions(t),n=V(this,Pn).getQueryCache().build(V(this,Pn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return lt(this,At,Ku).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,wn)))}createResult(t,r){var C;const n=V(this,pt),s=this.options,a=V(this,wn),i=V(this,Wo),l=V(this,Ac),u=t!==n?t.state:V(this,af),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const R=this.hasListeners(),I=!R&&E_(t,r),O=R&&T_(t,n,r,s);(I||O)&&(f={...f,...dC(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=f;m=f.data;let v=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let R;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(R=a.data,v=!0):R=typeof r.placeholderData=="function"?r.placeholderData((C=V(this,Pc))==null?void 0:C.state.data,V(this,Pc)):r.placeholderData,R!==void 0&&(x="success",m=vx(a==null?void 0:a.data,R,r),h=!0)}if(r.select&&m!==void 0&&!v)if(a&&m===(i==null?void 0:i.data)&&r.select===V(this,of))m=V(this,Rc);else try{Re(this,of,r.select),m=r.select(m),m=vx(a==null?void 0:a.data,m,r),Re(this,Rc,m),Re(this,Ai,null)}catch(R){Re(this,Ai,R)}V(this,Ai)&&(g=V(this,Ai),m=V(this,Rc),p=Date.now(),x="error");const y=f.fetchStatus==="fetching",w=x==="pending",S=x==="error",N=w&&y,A=m!==void 0,T={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:S,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:S&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&A,isStale:Ey(t,r),refetch:this.refetch,promise:V(this,ki),isEnabled:ws(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=K=>{T.status==="error"?K.reject(T.error):T.data!==void 0&&K.resolve(T.data)},I=()=>{const K=Re(this,ki,T.promise=yx());R(K)},O=V(this,ki);switch(O.status){case"pending":t.queryHash===n.queryHash&&R(O);break;case"fulfilled":(T.status==="error"||T.data!==O.value)&&I();break;case"rejected":(T.status!=="error"||T.error!==O.reason)&&I();break}}return T}updateResult(){const t=V(this,wn),r=this.createResult(V(this,pt),this.options);if(Re(this,Wo,V(this,pt).state),Re(this,Ac,this.options),V(this,Wo).data!==void 0&&Re(this,Pc,V(this,pt)),g0(r,t))return;Re(this,wn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!V(this,Oc).size)return!0;const i=new Set(a??V(this,Oc));return this.options.throwOnError&&i.add("error"),Object.keys(V(this,wn)).some(l=>{const c=l;return V(this,wn)[c]!==t[c]&&i.has(c)})};lt(this,At,hC).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&lt(this,At,bx).call(this)}},Pn=new WeakMap,pt=new WeakMap,af=new WeakMap,wn=new WeakMap,Wo=new WeakMap,Ac=new WeakMap,ki=new WeakMap,Ai=new WeakMap,of=new WeakMap,Rc=new WeakMap,Pc=new WeakMap,Ho=new WeakMap,Ko=new WeakMap,Ri=new WeakMap,Oc=new WeakMap,At=new WeakSet,Ku=function(t){lt(this,At,Cx).call(this);let r=V(this,pt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Sn)),r},wx=function(){lt(this,At,Ex).call(this);const t=Ki(this.options.staleTime,V(this,pt));if(sl||V(this,wn).isStale||!gx(t))return;const n=nC(V(this,wn).dataUpdatedAt,t)+1;Re(this,Ho,setTimeout(()=>{V(this,wn).isStale||this.updateResult()},n))},_x=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,pt)):this.options.refetchInterval)??!1},Sx=function(t){lt(this,At,Tx).call(this),Re(this,Ri,t),!(sl||ws(this.options.enabled,V(this,pt))===!1||!gx(V(this,Ri))||V(this,Ri)===0)&&Re(this,Ko,setInterval(()=>{(this.options.refetchIntervalInBackground||by.isFocused())&&lt(this,At,Ku).call(this)},V(this,Ri)))},bx=function(){lt(this,At,wx).call(this),lt(this,At,Sx).call(this,lt(this,At,_x).call(this))},Ex=function(){V(this,Ho)&&(clearTimeout(V(this,Ho)),Re(this,Ho,void 0))},Tx=function(){V(this,Ko)&&(clearInterval(V(this,Ko)),Re(this,Ko,void 0))},Cx=function(){const t=V(this,Pn).getQueryCache().build(V(this,Pn),this.options);if(t===V(this,pt))return;const r=V(this,pt);Re(this,pt,t),Re(this,af,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},hC=function(t){Ir.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(V(this,wn))}),V(this,Pn).getQueryCache().notify({query:V(this,pt),type:"observerResultsUpdated"})})},YS);function b3(e,t){return ws(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function E_(e,t){return b3(e,t)||e.state.data!==void 0&&Nx(e,t,t.refetchOnMount)}function Nx(e,t,r){if(ws(t.enabled,e)!==!1&&Ki(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Ey(e,t)}return!1}function T_(e,t,r,n){return(e!==t||ws(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ey(e,r)}function Ey(e,t){return ws(t.enabled,e)!==!1&&e.isStaleByTime(Ki(t.staleTime,e))}function E3(e,t){return!g0(e.getCurrentResult(),t)}var Pi,Oi,On,Ua,Ga,Ih,jx,QS,T3=(QS=class extends iu{constructor(r,n){super();Ve(this,Ga);Ve(this,Pi);Ve(this,Oi);Ve(this,On);Ve(this,Ua);Re(this,Pi,r),this.setOptions(n),this.bindMethods(),lt(this,Ga,Ih).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=V(this,Pi).defaultMutationOptions(r),g0(this.options,n)||V(this,Pi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,On),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&al(n.mutationKey)!==al(this.options.mutationKey)?this.reset():((s=V(this,On))==null?void 0:s.state.status)==="pending"&&V(this,On).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=V(this,On))==null||r.removeObserver(this)}onMutationUpdate(r){lt(this,Ga,Ih).call(this),lt(this,Ga,jx).call(this,r)}getCurrentResult(){return V(this,Oi)}reset(){var r;(r=V(this,On))==null||r.removeObserver(this),Re(this,On,void 0),lt(this,Ga,Ih).call(this),lt(this,Ga,jx).call(this)}mutate(r,n){var s;return Re(this,Ua,n),(s=V(this,On))==null||s.removeObserver(this),Re(this,On,V(this,Pi).getMutationCache().build(V(this,Pi),this.options)),V(this,On).addObserver(this),V(this,On).execute(r)}},Pi=new WeakMap,Oi=new WeakMap,On=new WeakMap,Ua=new WeakMap,Ga=new WeakSet,Ih=function(){var n;const r=((n=V(this,On))==null?void 0:n.state)??fC();Re(this,Oi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},jx=function(r){Ir.batch(()=>{var n,s,a,i,l,c,u,d;if(V(this,Ua)&&this.hasListeners()){const f=V(this,Oi).variables,h=V(this,Oi).context;(r==null?void 0:r.type)==="success"?((s=(n=V(this,Ua)).onSuccess)==null||s.call(n,r.data,f,h),(i=(a=V(this,Ua)).onSettled)==null||i.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=V(this,Ua)).onError)==null||c.call(l,r.error,f,h),(d=(u=V(this,Ua)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(V(this,Oi))})})},QS),mC=_.createContext(void 0),Vt=e=>{const t=_.useContext(mC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},C3=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(mC.Provider,{value:e,children:t})),pC=_.createContext(!1),N3=()=>_.useContext(pC);pC.Provider;function j3(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var k3=_.createContext(j3()),A3=()=>_.useContext(k3),R3=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},P3=e=>{_.useEffect(()=>{e.clearReset()},[e])},O3=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||iC(r,[e.error,n])),I3=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},D3=(e,t)=>e.isLoading&&e.isFetching&&!t,F3=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,C_=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function M3(e,t,r){var f,h,m,g,p;const n=N3(),s=A3(),a=Vt(),i=a.defaultQueryOptions(e);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",I3(i),R3(i,s),P3(s);const l=!a.getQueryCache().get(i.queryHash),[c]=_.useState(()=>new t(a,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(x=>{const v=d?c.subscribe(Ir.batchCalls(x)):Sn;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(i)},[i,c]),F3(i,u))throw C_(i,c,s);if(O3({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((g=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,i,u),i.experimental_prefetchInRender&&!sl&&D3(u,n)){const x=l?C_(i,c,s):(p=a.getQueryCache().get(i.queryHash))==null?void 0:p.promise;x==null||x.catch(Sn).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Le(e,t){return M3(e,S3)}function nt(e,t){const r=Vt(),[n]=_.useState(()=>new T3(r,e));_.useEffect(()=>{n.setOptions(e)},[n,e]);const s=_.useSyncExternalStore(_.useCallback(i=>n.subscribe(Ir.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=_.useCallback((i,l)=>{n.mutate(i,l).catch(Sn)},[n]);if(s.error&&iC(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(this,arguments)}var Fi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fi||(Fi={}));const N_="popstate";function L3(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return kx("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:v0(s)}return B3(t,r,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ty(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U3(){return Math.random().toString(36).substr(2,8)}function j_(e,t){return{usr:e.state,key:e.key,idx:t}}function kx(e,t,r,n){return r===void 0&&(r=null),Ld({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ou(t):t,{state:r,key:t&&t.key||n||U3()})}function v0(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ou(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function B3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=Fi.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Ld({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Fi.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:v})}function h(x,v){l=Fi.Push;let y=kx(p.location,x,v);u=d()+1;let w=j_(y,u),S=p.createHref(y);try{i.pushState(w,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(S)}a&&c&&c({action:l,location:p.location,delta:1})}function m(x,v){l=Fi.Replace;let y=kx(p.location,x,v);u=d();let w=j_(y,u),S=p.createHref(y);i.replaceState(w,"",S),a&&c&&c({action:l,location:p.location,delta:0})}function g(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:v0(x);return y=y.replace(/ $/,"%20"),xr(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let p={get action(){return l},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(N_,f),c=x,()=>{s.removeEventListener(N_,f),c=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(x){return i.go(x)}};return p}var k_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k_||(k_={}));function $3(e,t,r){return r===void 0&&(r="/"),q3(e,t,r,!1)}function q3(e,t,r,n){let s=typeof t=="string"?ou(t):t,a=Cy(s.pathname||"/",r);if(a==null)return null;let i=gC(e);V3(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=e5(a);l=J3(i[c],u,n)}return l}function gC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(xr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Gi([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(xr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gC(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Y3(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of xC(a.path))s(a,i,c)}),t}function xC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=xC(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function V3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Q3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const z3=/^:[\w-]+$/,W3=3,H3=2,K3=1,G3=10,X3=-2,A_=e=>e==="*";function Y3(e,t){let r=e.split("/"),n=r.length;return r.some(A_)&&(n+=X3),t&&(n+=H3),r.filter(s=>!A_(s)).reduce((s,a)=>s+(z3.test(a)?W3:a===""?K3:G3),n)}function Q3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function J3(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=R_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=R_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Gi([a,f.pathname]),pathnameBase:a5(Gi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Gi([a,f.pathnameBase]))}return i}function R_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Z3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";i=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Z3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ty(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function e5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ty(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const t5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r5=e=>t5.test(e);function n5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ou(e):e,a;if(r)if(r5(r))a=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Ty(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?a=P_(r.substring(1),"/"):a=P_(r,t)}else a=t;return{pathname:a,search:i5(n),hash:o5(s)}}function P_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Bp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ny(e,t){let r=s5(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jy(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ou(e):(s=Ld({},e),xr(!s.pathname||!s.pathname.includes("?"),Bp("?","pathname","search",s)),xr(!s.pathname||!s.pathname.includes("#"),Bp("#","pathname","hash",s)),xr(!s.search||!s.search.includes("#"),Bp("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=n5(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gi=e=>e.join("/").replace(/\/\/+/g,"/"),a5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),i5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vC=["post","put","patch","delete"];new Set(vC);const c5=["get",...vC];new Set(c5);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}const ky=_.createContext(null),u5=_.createContext(null),ho=_.createContext(null),Em=_.createContext(null),li=_.createContext({outlet:null,matches:[],isDataRoute:!1}),yC=_.createContext(null);function d5(e,t){let{relative:r}=t===void 0?{}:t;lu()||xr(!1);let{basename:n,navigator:s}=_.useContext(ho),{hash:a,pathname:i,search:l}=_C(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Gi([n,i])),s.createHref({pathname:c,search:l,hash:a})}function lu(){return _.useContext(Em)!=null}function mo(){return lu()||xr(!1),_.useContext(Em).location}function wC(e){_.useContext(ho).static||_.useLayoutEffect(e)}function gf(){let{isDataRoute:e}=_.useContext(li);return e?C5():f5()}function f5(){lu()||xr(!1);let e=_.useContext(ky),{basename:t,future:r,navigator:n}=_.useContext(ho),{matches:s}=_.useContext(li),{pathname:a}=mo(),i=JSON.stringify(Ny(s,r.v7_relativeSplatPath)),l=_.useRef(!1);return wC(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=jy(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,a,e])}const h5=_.createContext(null);function m5(e){let t=_.useContext(li).outlet;return t&&_.createElement(h5.Provider,{value:e},t)}function _C(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(ho),{matches:s}=_.useContext(li),{pathname:a}=mo(),i=JSON.stringify(Ny(s,n.v7_relativeSplatPath));return _.useMemo(()=>jy(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function p5(e,t){return g5(e,t)}function g5(e,t,r,n){lu()||xr(!1);let{navigator:s}=_.useContext(ho),{matches:a}=_.useContext(li),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=mo(),d;if(t){var f;let x=typeof t=="string"?ou(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||xr(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=$3(e,{pathname:m}),p=_5(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Gi([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Gi([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return t&&p?_.createElement(Em.Provider,{value:{location:Ud({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fi.Pop}},p):p}function x5(){let e=T5(),t=l5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,null)}const v5=_.createElement(x5,null);class y5 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(li.Provider,{value:this.props.routeContext},_.createElement(yC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w5(e){let{routeContext:t,match:r,children:n}=e,s=_.useContext(ky);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(li.Provider,{value:t},n)}function _5(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||xr(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,g=!1,p=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||v5,c&&(u<0&&h===0?(g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,h+1)),y=()=>{let w;return m?w=p:g?w=x:f.route.Component?w=_.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,_.createElement(w5,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(y5,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var SC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(SC||{}),y0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(y0||{});function S5(e){let t=_.useContext(ky);return t||xr(!1),t}function b5(e){let t=_.useContext(u5);return t||xr(!1),t}function E5(e){let t=_.useContext(li);return t||xr(!1),t}function bC(e){let t=E5(),r=t.matches[t.matches.length-1];return r.route.id||xr(!1),r.route.id}function T5(){var e;let t=_.useContext(yC),r=b5(y0.UseRouteError),n=bC(y0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function C5(){let{router:e}=S5(SC.UseNavigateStable),t=bC(y0.UseNavigateStable),r=_.useRef(!1);return wC(()=>{r.current=!0}),_.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ud({fromRouteId:t},a)))},[e,t])}function N5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ax(e){let{to:t,replace:r,state:n,relative:s}=e;lu()||xr(!1);let{future:a,static:i}=_.useContext(ho),{matches:l}=_.useContext(li),{pathname:c}=mo(),u=gf(),d=jy(t,Ny(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Rx(e){return m5(e.context)}function $e(e){xr(!1)}function j5(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Fi.Pop,navigator:a,static:i=!1,future:l}=e;lu()&&xr(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:a,static:i,future:Ud({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=ou(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=_.useMemo(()=>{let x=Cy(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:_.createElement(ho.Provider,{value:u},_.createElement(Em.Provider,{children:r,value:p}))}function cu(e){let{children:t,location:r}=e;return p5(Px(t),r)}new Promise(()=>{});function Px(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let a=[...t,s];if(n.type===_.Fragment){r.push.apply(r,Px(n.props.children,a));return}n.type!==$e&&xr(!1),!n.props.index||!n.props.children||xr(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Px(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(this,arguments)}function k5(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function A5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R5(e,t){return e.button===0&&(!t||t==="_self")&&!A5(e)}const P5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O5="6";try{window.__reactRouterVersion=O5}catch{}const I5="startTransition",O_=vv[I5];function D5(e){let{basename:t,children:r,future:n,window:s}=e,a=_.useRef();a.current==null&&(a.current=L3({window:s,v5Compat:!0}));let i=a.current,[l,c]=_.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=_.useCallback(f=>{u&&O_?O_(()=>c(f)):c(f)},[c,u]);return _.useLayoutEffect(()=>i.listen(d),[i,d]),_.useEffect(()=>N5(n),[n]),_.createElement(j5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const F5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I_=_.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=k5(t,P5),{basename:m}=_.useContext(ho),g,p=!1;if(typeof u=="string"&&M5.test(u)&&(g=u,F5))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=Cy(S.pathname,m);S.origin===w.origin&&N!=null?u=N+S.search+S.hash:p=!0}catch{}let x=d5(u,{relative:s}),v=L5(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||v(w)}return _.createElement("a",Ox({},h,{href:g||x,onClick:p||a?n:y,ref:r,target:c}))});var D_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(D_||(D_={}));var F_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(F_||(F_={}));function L5(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=gf(),u=mo(),d=_C(e,{relative:i});return _.useCallback(f=>{if(R5(f,r)){f.preventDefault();let h=n!==void 0?n:v0(u)===v0(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,a,i,l])}var ya=function(){return ya=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ya.apply(this,arguments)};function uu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function U5(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function B5(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const $5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ay extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class q5 extends Ay{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class M_ extends Ay{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class L_ extends Ay{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ix;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ix||(Ix={}));class V5{constructor(t,{headers:r={},customFetch:n,region:s=Ix.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=$5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return U5(this,arguments,void 0,function*(r,n={}){var s;let a,i;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let x=d;f&&(i=new AbortController,a=setTimeout(()=>i.abort(),f),d?(x=i.signal,d.addEventListener("abort",()=>i.abort())):x=i.signal);const v=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:x}).catch(N=>{throw new q5(N)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new M_(v);if(!v.ok)throw new L_(v);let w=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield v.json():w==="application/octet-stream"||w==="application/pdf"?S=yield v.blob():w==="text/event-stream"?S=v:w==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof L_||l instanceof M_?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var z5=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},W5=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let i=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(r.method!=="HEAD"){var m;const v=await a.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(i={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await a.text();try{i=JSON.parse(p),Array.isArray(i)&&a.status===404&&(l=[],i=null,u=200,d="OK")}catch{a.status===404&&p===""?(u=204,d="No Content"):i={message:p}}if(i&&r.isMaybeSingle&&(!(i==null||(g=i.details)===null||g===void 0)&&g.includes("0 rows"))&&(i=null,u=200,d="OK"),i&&r.shouldThrowOnError)throw new z5(i)}return{error:i,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var i;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},H5=class extends W5{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var i;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const U_=new RegExp("[,()]");var ql=class extends H5{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&U_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&U_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},K5=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const i=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",i),n&&c.append("Prefer",`count=${n}`),new ql({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new ql({method:s,url:a,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const i="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new ql({method:i,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new ql({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ql({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},G5=class EC{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new K5(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new EC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new ql({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class X5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Y5="2.91.0",Q5=`realtime-js/${Y5}`,J5="1.0.0",TC="2.0.0",B_=TC,Dx=1e4,Z5=1e3,eM=100;var yi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yi||(yi={}));var Ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ar||(Ar={}));var Hs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hs||(Hs={}));var Fx;(function(e){e.websocket="websocket"})(Fx||(Fx={}));var Ao;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ao||(Ao={}));class tM{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,a;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,i.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,v=>g.setUint8(p++,v.charCodeAt(0))),Array.from(l,v=>g.setUint8(p++,v.charCodeAt(0))),Array.from(i,v=>g.setUint8(p++,v.charCodeAt(0))),Array.from(u,v=>g.setUint8(p++,v.charCodeAt(0))),Array.from(f,v=>g.setUint8(p++,v.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,i,l,c]=n;return r({join_ref:s,ref:a,topic:i,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),i=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+i));c=c+i;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return i>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class CC{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Bt||(Bt={}));const $_=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=rM(i,e,t,s),a),{}):{}},rM=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?NC(a,i):Mx(i)},NC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return iM(t,r)}switch(e){case Bt.bool:return nM(t);case Bt.float4:case Bt.float8:case Bt.int2:case Bt.int4:case Bt.int8:case Bt.numeric:case Bt.oid:return sM(t);case Bt.json:case Bt.jsonb:return aM(t);case Bt.timestamp:return oM(t);case Bt.abstime:case Bt.date:case Bt.daterange:case Bt.int4range:case Bt.int8range:case Bt.money:case Bt.reltime:case Bt.text:case Bt.time:case Bt.timestamptz:case Bt.timetz:case Bt.tsrange:case Bt.tstzrange:return Mx(t);default:return Mx(t)}},Mx=e=>e,nM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},aM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},iM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>NC(t,l))}return e},oM=e=>typeof e=="string"?e.replace(" ","T"):e,jC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class $p{constructor(t,r,n={},s=Dx){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var q_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(q_||(q_={}));class ld{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ld.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=ld.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ld.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var V_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(V_||(V_={}));var cd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cd||(cd={}));var Fa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fa||(Fa={}));class ac{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $p(this,Hs.join,this.params,this.timeout),this.rejoinTimer=new CC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hs.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new ld(this),this.broadcastEndpointURL=jC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[cd.PRESENCE]&&this.bindings[cd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Fa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Fa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Fa.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,v=[];for(let y=0;y<x;y++){const w=p[y],{filter:{event:S,schema:N,table:A,filter:b}}=w,T=m&&m[y];if(T&&T.event===S&&ac.isFilterValueEqual(T.schema,N)&&ac.isFilterValueEqual(T.table,A)&&ac.isFilterValueEqual(T.filter,b))v.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=Ar.errored,t==null||t(Fa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Fa.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ar.errored,t==null||t(Fa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ar.joined&&t===cd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ar.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new $p(this,Hs.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $p(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>eM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Hs;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(a=this.bindings[i])===null||a===void 0||a.filter(m=>{var g,p,x,v,y,w,S,N;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const A=m.id,b=(g=m.filter)===null||g===void 0?void 0:g.event;return A&&((p=r.ids)===null||p===void 0?void 0:p.includes(A))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((v=m.filter)===null||v===void 0)&&v.table)||m.filter.table===((y=r.data)===null||y===void 0?void 0:y.table))}else{const A=(S=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return A==="*"||A===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:x,commit_timestamp:v,type:y,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:v,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ac.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hs.close,{},t)}_onError(t){this._on(Hs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$_(t.columns,t.old_record)),r}}const qp=()=>{},nh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lM=[1e3,2e3,5e3,1e4],cM=1e4,uM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dx,this.transport=null,this.heartbeatIntervalMs=nh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qp,this.ref=0,this.reconnectTimer=null,this.vsn=B_,this.logger=qp,this.conn=null,this.sendBuffer=[],this.serializer=new tM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Fx.websocket}`,this.httpEndpoint=jC(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=X5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yi.connecting:return Ao.Connecting;case yi.open:return Ao.Open;case yi.closing:return Ao.Closing;default:return Ao.Closed}}isConnected(){return this.connectionState()===Ao.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new ac(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Z5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},nh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===yi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yi.open||this.conn.readyState===yi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([uM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:Q5};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Hs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new CC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,i,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Dx,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:nh.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:qp,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:B_,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>lM[g-1]||cM,this.vsn){case J5:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case TC:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Bd=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fM(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function hM(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function mM(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:i}){const l=fM(e.baseUrl,n,s),c=await hM(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...i},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new Bd((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function sh(e){return e.join("")}var pM=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:sh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sh(e.namespace)}`}),!0}catch(t){if(t instanceof Bd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Bd&&r.status===409)return;throw r}}};function kl(e){return e.join("")}var gM=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Bd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Bd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},xM=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=mM({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new pM(this.client,t),this.tableOps=new gM(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Tm=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var vM=class extends Tm{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Lx=class extends Tm{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Ry=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yM=()=>Response,Ux=e=>{if(Array.isArray(e))return e.map(r=>Ux(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Ux(n)}),t},wM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_M=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function SM(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bM(e){var t=SM(e,"string");return $d(t)=="symbol"?t:t+""}function EM(e,t,r){return(t=bM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){EM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Vp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},TM=async(e,t,r)=>{e instanceof await yM()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,a=(n==null?void 0:n.statusCode)||s+"";t(new vM(Vp(n),s,a))}).catch(n=>{t(new Lx(Vp(n),n))}):t(new Lx(Vp(e),e))},CM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(wM(n)?(s.headers=We({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),We(We({},s),r))};async function xf(e,t,r,n,s,a){return new Promise((i,l)=>{e(r,CM(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>TM(c,l,n))})}async function qd(e,t,r,n){return xf(e,"GET",t,r,n)}async function qs(e,t,r,n,s){return xf(e,"POST",t,n,s,r)}async function Bx(e,t,r,n,s){return xf(e,"PUT",t,n,s,r)}async function NM(e,t,r,n){return xf(e,"HEAD",t,We(We({},r),{},{noResolveJson:!0}),n)}async function Py(e,t,r,n,s){return xf(e,"DELETE",t,n,s,r)}var jM=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(er(t))return{data:null,error:t};throw t}}};let kC;kC=Symbol.toStringTag;var kM=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[kC]="BlobDownloadBuilder",this.promise=null}asStream(){return new jM(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(er(t))return{data:null,error:t};throw t}}};const AM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},W_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var RM=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Ry(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let a;const i=We(We({},W_),n);let l=We(We({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",i.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(l=We(We({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Bx:qs)(s.fetch,`${s.url}/object/${d}`,a,We({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(er(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),i=s._getFinalPath(a),l=new URL(s.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let c;const u=We({upsert:W_.upsert},n),d=We(We({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await Bx(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(er(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=We({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await qs(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+a.url),l=i.searchParams.get("token");if(!l)throw new Tm("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await qs(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await qs(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),a=await qs(n.fetch,`${n.url}/object/sign/${s}`,We({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await qs(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>We(We({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e),i=()=>qd(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new kM(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Ux(await qd(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await NM(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(er(n)&&n instanceof Lx){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Py(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=We(We(We({},AM),t),{},{prefix:e||""});return{data:await qs(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=We({},e);return{data:await qs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const AC="2.91.0",RC={"X-Client-Info":`storage-js/${AC}`};var PM=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=We(We({},RC),t),this.fetch=Ry(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await qd(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await qd(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await qs(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Bx(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await qs(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Py(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},OM=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=We(We({},RC),t),this.fetch=Ry(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await qs(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await qd(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Py(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!_M(e))throw new Tm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new xM({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const i=s[a];return typeof i!="function"?i:async(...l)=>{try{return{data:await i.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Oy={"X-Client-Info":`storage-js/${AC}`,"Content-Type":"application/json"};var PC=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function as(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var zp=class extends PC{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},IM=class extends PC{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Iy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},H_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FM=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const i=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new zp(H_(a),n,i))}).catch(()=>{const a=n+"";t(new zp(s.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new zp(s.statusText||`HTTP ${n} error`,n,a))}}else t(new IM(H_(e),e))},MM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(DM(n)?(s.headers=We({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,We(We({},s),r)):s};async function LM(e,t,r,n,s,a){return new Promise((i,l)=>{e(r,MM(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>FM(c,l,n))})}async function is(e,t,r,n,s){return LM(e,"POST",t,n,s,r)}var UM=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=We(We({},Oy),t),this.fetch=Iy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await is(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await is(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(as(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await is(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await is(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(as(n))return{data:null,error:n};throw n}}},BM=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=We(We({},Oy),t),this.fetch=Iy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await is(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await is(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await is(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await is(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await is(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}},$M=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=We(We({},Oy),t),this.fetch=Iy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await is(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await is(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await is(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await is(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(as(r))return{data:null,error:r};throw r}}},qM=class extends $M{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new VM(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},VM=class extends UM{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,We(We({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,We(We({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new zM(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},zM=class extends BM{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,We(We({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,We(We({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,We(We({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,We(We({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,We(We({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},WM=class extends PM{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new RM(this.url,this.headers,e,this.fetch)}get vectors(){return new qM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new OM(this.url+"/iceberg",this.headers,this.fetch)}};const OC="2.91.0",Vl=30*1e3,$x=3,Wp=$x*Vl,HM="http://localhost:9999",KM="supabase.auth.token",GM={"X-Client-Info":`gotrue-js/${OC}`},qx="X-Supabase-Api-Version",IC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YM=10*60*1e3;class Vd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QM extends Vd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function JM(e){return qe(e)&&e.name==="AuthApiError"}class Ro extends Vd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ci extends Vd{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Yn extends ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZM(e){return qe(e)&&e.name==="AuthSessionMissingError"}class Al extends ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ah extends ci{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ih extends ci{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eL(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class K_ extends ci{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tL extends ci{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vx extends ci{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Hp(e){return qe(e)&&e.name==="AuthRetryableFetchError"}class G_ extends ci{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zx extends ci{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const w0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X_=` 	
\r=`.split(""),rL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<X_.length;t+=1)e[X_[t].charCodeAt(0)]=-2;for(let t=0;t<w0.length;t+=1)e[w0[t].charCodeAt(0)]=t;return e})();function Y_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(w0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(w0[n]),t.queuedBits-=6}}function DC(e,t,r){const n=rL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Q_(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{aL(i,n,r)};for(let i=0;i<e.length;i+=1)DC(e.charCodeAt(i),s,a);return t.join("")}function nL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}nL(n,t)}}function aL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function pc(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)DC(e.charCodeAt(s),r,n);return new Uint8Array(t)}function iL(e){const t=[];return sL(e,r=>t.push(r)),new Uint8Array(t)}function Mo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Y_(s,r,n)),Y_(null,r,n),t.join("")}function oL(e){return Math.round(Date.now()/1e3)+e}function lL(){return Symbol("auth-callback")}const qr=()=>typeof window<"u"&&typeof document<"u",To={tested:!1,writable:!1},FC=()=>{if(!qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(To.tested)return To.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),To.tested=!0,To.writable=!0}catch{To.tested=!0,To.writable=!1}return To.writable};function cL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const MC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Co=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$r=async(e,t)=>{await e.removeItem(t)};class Cm{constructor(){this.promise=new Cm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Cm.promiseConstructor=Promise;function Kp(e){const t=e.split(".");if(t.length!==3)throw new zx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!XM.test(t[n]))throw new zx("JWT not in base64url format");return{header:JSON.parse(Q_(t[0])),payload:JSON.parse(Q_(t[1])),signature:pc(t[2]),raw:{header:t[0],payload:t[1]}}}async function dL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fL(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function hL(e){return("0"+e.toString(16)).substr(-2)}function mL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,hL).join("")}async function pL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function gL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await pL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rl(e,t,r=!1){const n=mL();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await zl(e,`${t}-code-verifier`,s);const a=await gL(n);return[a,n===a?"plain":"s256"]}const xL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vL(e){const t=e.headers.get(qx);if(!t||!t.match(xL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _L=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pl(e){if(!_L.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function SL(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function J_(e){return JSON.parse(JSON.stringify(e))}const ko=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bL=[502,503,504];async function Z_(e){var t;if(!uL(e))throw new Vx(ko(e),0);if(bL.includes(e.status))throw new Vx(ko(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ro(ko(a),a)}let n;const s=vL(e);if(s&&s.getTime()>=IC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new G_(ko(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new G_(ko(r),e.status,r.weak_password.reasons);throw new QM(ko(r),e.status||500,n)}const EL=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ze(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[qx]||(a[qx]=IC["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await TL(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function TL(e,t,r,n,s,a){const i=EL(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Vx(ko(c),0)}if(l.ok||await Z_(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Z_(c)}}function Us(e){var t;let r=null;jL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=oL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function e2(e){const t=Us(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CL(e){return{data:e,error:null}}function NL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=uu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function t2(e){return e}function jL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xp=["global","local","others"];class kL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Xp[0]){if(Xp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xp.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bi})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=uu(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:NL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bi})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:t2});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Pl(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bi})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pl(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:bi})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pl(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:bi})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pl(t.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pl(t.userId),Pl(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:t2});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(qe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}}function r2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ol={debug:!!(globalThis&&FC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AL extends LC{}async function RL(e,t,r){Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ol.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function PL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function UC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function OL(e){return parseInt(e,16)}function IL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function DL(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=UC(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}v+=y}return`${x}
${v}`}class Sr extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class _0 extends Sr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function FL({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Sr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Sr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Sr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Sr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Sr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Sr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Sr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(BC(i)){if(a.rp.id!==i)return new Sr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Sr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ML({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Sr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(BC(n)){if(r.rpId!==n)return new Sr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class LL{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const UL=new LL;function BL(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=uu(e,["challenge","user","excludeCredentials"]),a=pc(t).buffer,i=Object.assign(Object.assign({},r),{id:pc(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:pc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function $L(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=uu(e,["challenge","allowCredentials"]),s=pc(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:pc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function qL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mo(new Uint8Array(s.authenticatorData)),clientDataJSON:Mo(new Uint8Array(s.clientDataJSON)),signature:Mo(new Uint8Array(s.signature)),userHandle:s.userHandle?Mo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function n2(){var e,t;return!!(qr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function zL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _0("Browser returned unexpected credential type",t)}:{data:null,error:new _0("Empty credential response",t)}}catch(t){return{data:null,error:FL({error:t,options:e})}}}async function WL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _0("Browser returned unexpected credential type",t)}:{data:null,error:new _0("Empty credential response",t)}}catch(t){return{data:null,error:ML({error:t,options:e})}}}const HL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},KL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function S0(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const l=n[a];t(l)?n[a]=S0(l,i):n[a]=S0(i)}else n[a]=i}return n}function GL(e,t){return S0(HL,e,t||{})}function XL(e,t){return S0(KL,e,t||{})}class YL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=s??UL.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=GL(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await zL({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=XL(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await WL(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return qe(i)?{data:null,error:i}:{data:null,error:new Ro("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Vd("rpId is required for WebAuthn authentication")};try{if(!n2())return{data:null,error:new Ro("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return qe(i)?{data:null,error:i}:{data:null,error:new Ro("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Vd("rpId is required for WebAuthn registration")};try{if(!n2())return{data:null,error:new Ro("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return qe(i)?{data:null,error:i}:{data:null,error:new Ro("Unexpected error in register",i)}}}}PL();const QL={url:HM,storageKey:KM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function s2(e,t,r){return await r()}const Il={};class zd{get jwks(){var t,r;return(r=(t=Il[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Il[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},QL),t);if(this.storageKey=a.storageKey,this.instanceID=(r=zd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,zd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&qr()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new kL({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=MC(a.fetch),this.lock=a.lock||s2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&qr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=RL:this.lock=s2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new YL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:FC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=r2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=r2(this.memoryStorage)),qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${OC}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(qr()&&(r=cL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),qr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),eL(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?this._returnResult({error:r}):this._returnResult({error:new Ro("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Us}),{data:i,error:l}=a;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Rl(this.storage,this.storageKey)),a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Us})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Us})}else throw new ah("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return await $r(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await $r(this.storage,`${this.storageKey}-code-verifier`),qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:e2})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:e2})}else throw new ah("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new Al;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,i,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:x,statement:v,options:y}=t;let w;if(qr())if(typeof x=="object")w=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=UC(N[0]);let b=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!b){const C=await w.request({method:"eth_chainId"});b=OL(C)}const T={domain:S.host,address:A,statement:v,uri:S.href,version:"1",chainId:b,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=DL(T),g=await w.request({method:"personal_sign",params:[IL(m),A]})}try{const{data:p,error:x}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Us});if(x)throw x;if(!p||!p.session||!p.user){const v=new Al;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(qe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:v,statement:y,options:w}=t;let S;if(qr())if(typeof v=="object")S=v;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))S=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const A=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let b;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")b=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)b=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)g=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),p=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const A=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=A}}try{const{data:x,error:v}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Mo(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Us});if(v)throw v;if(!x||!x.session||!x.user){const y=new Al;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(qe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Co(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new tL;const{data:a,error:i}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Us});if(await $r(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!a||!a.session||!a.user){const l=new Al;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",a.session)},0)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(await $r(this.storage,`${this.storageKey}-code-verifier`),qe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Us}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Al;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Rl(this.storage,this.storageKey));const{error:f}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ah("You must provide either an email or phone number.")}catch(l){if(await $r(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Us});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(qe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Rl(this.storage,this.storageKey));const u=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:CL});return!((a=u.data)===null||a===void 0)&&a.url&&qr()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await $r(this.storage,`${this.storageKey}-code-verifier`),qe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yn;const{error:s}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new ah("You must provide either an email or phone number and a type")}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Co(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Co(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Gp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=SL(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bi}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:bi})})}catch(r){if(qe(r))return ZM(r)&&(await this._removeSession(),await $r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Yn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Rl(this.storage,this.storageKey));const{data:u,error:d}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:bi});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await $r(this.storage,`${this.storageKey}-code-verifier`),qe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yn;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Kp(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yn;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(qe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!qr())throw new ih("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ih(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new K_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ih("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new K_("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new ih("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Vl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:x}=await this._getUser(a);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(qe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Co(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({error:a});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(JM(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await $r(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=lL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Rl(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await $r(this.storage,`${this.storageKey}-code-verifier`),qe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return qr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(qe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Us}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Al}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await $r(this.storage,`${this.storageKey}-code-verifier`),qe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await fL(async s=>(s>0&&await dL(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Us})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Hp(a)&&Date.now()+i-n<Vl})}catch(n){if(this._debug(r,"error",n),qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Co(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Co(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await zl(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Gp()}else if(s&&!s.user&&!s.user){const i=await Co(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await $r(this.storage,this.storageKey+"-user"),await zl(this.storage,this.storageKey,s)):s.user=Gp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Wp}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Hp(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cm;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new Yn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),qe(a)){const i={data:null,error:a};return Hp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $r(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=J_(s);await zl(this.storage,this.storageKey,a)}else{const s=J_(r);await zl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $r(this.storage,this.storageKey),await $r(this.storage,this.storageKey+"-code-verifier"),await $r(this.storage,this.storageKey+"-user"),this.userStorage&&await $r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Vl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vl}ms, refresh threshold is ${$x} ticks`),s<=$x&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await Rl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?qL(t.webauthn.credential_response):VL(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:BL(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$L(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Kp(n.access_token);let i=null;a.aal&&(i=a.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Yn});const i=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Yn});const i=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(t){if(qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+YM>s)return n;const{data:a,error:i}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Kp(n);r!=null&&r.allowExpired||yL(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:i},error:null}}const d=wL(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,iL(`${l}.${c}`)))throw new zx("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}}zd.nextInstanceID={};const JL=zd,ZL="2.91.0";let Gu="";typeof Deno<"u"?Gu="deno":typeof document<"u"?Gu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gu="react-native":Gu="node";const e6={"X-Client-Info":`supabase-js-${Gu}/${ZL}`},t6={headers:e6},r6={schema:"public"},n6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s6={};function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function a6(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i6(e){var t=a6(e,"string");return Wd(t)=="symbol"?t:t+""}function o6(e,t,r){return(t=i6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){o6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const l6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),c6=()=>Headers,u6=(e,t,r)=>{const n=l6(r),s=c6();return async(a,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,or(or({},i),{},{headers:u}))}};function d6(e){return e.endsWith("/")?e:e+"/"}function f6(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:or(or({},c),s),auth:or(or({},u),a),realtime:or(or({},d),i),storage:{},global:or(or(or({},f),l),{},{headers:or(or({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function h6(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(d6(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var m6=class extends JL{constructor(e){super(e)}},p6=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=h6(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const i=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:r6,realtime:s6,auth:or(or({},n6),{},{storageKey:i}),global:t6},c=f6(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=u6(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(or({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new G5(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new WM(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new V5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:i,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m6({url:this.authUrl.href,headers:or(or({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new dM(this.realtimeUrl.href,or(or({},e),{},{params:or(or({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const g6=(e,t,r)=>new p6(e,t,r);function x6(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}x6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const v6="https://exnbfflmtqlycqjbvyih.supabase.co",y6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV4bmJmZmxtdHFseWNxamJ2eWloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5Mjg4MjMsImV4cCI6MjA4NDUwNDgyM30.UOnNvu8dLJvspvd2KlVoBvkOPe0i6SVmpIb5BA47jqM",X=g6(v6,y6,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),$C=_.createContext(void 0),w6=({children:e})=>{const[t,r]=_.useState(null),[n,s]=_.useState(null),[a,i]=_.useState(null),[l,c]=_.useState(!0);_.useEffect(()=>{let f=!0;const{data:h}=X.auth.onAuthStateChange(async(m,g)=>{var p;if(f){if(r(g),s((g==null?void 0:g.user)??null),g!=null&&g.user)try{const{data:x,error:v}=await X.from("profiles").select(`
                              *,
                              departments(name, college_id),
                              colleges(name)
                            `).eq("id",g.user.id).maybeSingle();if(f)if(v)console.error("Profile fetch error:",v),i(null);else if(x){const y={...x,college_id:x.college_id||((p=x.departments)==null?void 0:p.college_id)||null};i(y)}else i(null)}catch(x){console.error("Profile fetch error on auth change:",x),f&&i(null)}else i(null);c(!1)}});return()=>{f=!1,h.subscription.unsubscribe()}},[]);const u=async()=>{await X.auth.signOut()},d=_.useMemo(()=>({session:t,user:n,profile:a,loading:l,logout:u}),[t,n,a,l]);return o.jsx($C.Provider,{value:d,children:e})},He=()=>{const e=_.useContext($C);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},_6={admin:"/admin",college_dean:"/dean",department_head:"/department",storekeeper:"/store",staff:"/staff"},S6=()=>{const e=gf(),{profile:t,loading:r,session:n}=He(),s=_.useRef(!1);return _.useEffect(()=>{if(console.log("Index - Auth state:",{loading:r,session:!!n,profile:t}),!r&&!s.current)if(n&&t){const a=_6[t.role]||"/admin";console.log("Navigating to:",a),s.current=!0,e(a,{replace:!0})}else n||(console.log("No session, redirecting to login"),s.current=!0,e("/login",{replace:!0}))},[r,n,t,e]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading application..."})})})},i2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,o2=QT,Dy=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return o2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=i2(d)||i2(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...a,...l}[p]):{...a,...l}[p]===x})?[...u,f,h]:u},[]);return o2(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},b6=Dy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),we=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?hT:"button";return o.jsx(i,{className:Fe(b6({variant:t,size:r,className:e})),ref:a,...s})});we.displayName="Button";const xt=_.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:Fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));xt.displayName="Input";var E6="Label",qC=_.forwardRef((e,t)=>o.jsx(Ge.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));qC.displayName=E6;var VC=qC;const T6=Dy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),br=_.forwardRef(({className:e,...t},r)=>o.jsx(VC,{ref:r,className:Fe(T6(),e),...t}));br.displayName=VC.displayName;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zC=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>_.createElement("svg",{ref:c,...N6,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:zC("lucide",s),...l},[...i.map(([u,d])=>_.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(e,t)=>{const r=_.forwardRef(({className:n,...s},a)=>_.createElement(j6,{ref:a,iconNode:t,className:zC(`lucide-${C6(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Ke("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Ke("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Ke("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Ke("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Ke("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Ke("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Ke("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Ke("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=Ke("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=Ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Ke("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function q6(){var x;const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,a]=_.useState(!1),[i,l]=_.useState(!1),[c,u]=_.useState(""),[d,f]=_.useState(3),h=["/images/pic1.jpg","/images/pic2.jpg","/images/pic3.jpg","/images/pic4.jpg","/images/pic5.jpg"],m=()=>{f(v=>(v+1)%h.length)},{data:g}=Le({queryKey:["login-stats"],queryFn:async()=>{const[v,y,w]=await Promise.all([X.from("items").select("id",{count:"exact",head:!0}),X.from("colleges").select("id",{count:"exact",head:!0}),X.from("departments").select("id",{count:"exact",head:!0})]);return{items:v.count||0,colleges:y.count||0,departments:w.count||0}},refetchInterval:6e4}),p=async v=>{v.preventDefault(),l(!0),u("");const{data:y,error:w}=await X.auth.signInWithPassword({email:e,password:r});if(w){u(w.message),l(!1);return}if(!y.user){u("An unexpected error occurred: user data not found after login."),l(!1);return}const{error:S}=await X.from("profiles").select("id").eq("id",y.user.id).single();if(S){u("Authentication successful, but your user profile was not found. Please contact an administrator to have it created."),await X.auth.signOut(),l(!1);return}};return o.jsxs("div",{className:"min-h-screen flex",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden cursor-pointer",onClick:m,children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:h[d],alt:"DMU Campus",className:"w-full h-full object-cover opacity-80 transition-opacity duration-500",onError:v=>{console.log("Image failed to load:",h[d]),v.currentTarget.style.display="none"},onLoad:()=>console.log("Image loaded:",h[d])}),o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-600 to-blue-800 opacity-20"})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/40 via-primary/30 to-primary/50"}),o.jsxs("div",{className:"relative z-10 flex flex-col justify-between p-12",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/10 backdrop-blur",children:o.jsx("img",{src:"/images/dmu-logo.png",alt:"DMU Logo",className:"h-8 w-8 object-contain",onError:v=>{console.log("Logo failed to load"),v.currentTarget.style.display="none"},onLoad:()=>console.log("Logo loaded successfully")})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:"Debre Markos University"}),o.jsx("p",{className:"text-sm text-white/70",children:"Property Management System"})]})]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Enterprise-Grade Inventory Management"}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:"Comprehensive inventory tracking, multi-level approval workflows, and complete audit trails for institutional accountability."}),o.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:((x=g==null?void 0:g.items)==null?void 0:x.toLocaleString())||"0"}),o.jsx("p",{className:"text-sm text-white/70",children:"Items Tracked"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:(g==null?void 0:g.colleges)||"0"}),o.jsx("p",{className:"text-sm text-white/70",children:"Colleges"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:(g==null?void 0:g.departments)||"0"}),o.jsx("p",{className:"text-sm text-white/70",children:"Departments"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:"100%"}),o.jsx("p",{className:"text-sm text-white/70",children:"Audit Coverage"})]})]}),o.jsx("div",{className:"flex justify-center gap-2 mt-6",children:h.map((v,y)=>o.jsx("button",{onClick:w=>{w.stopPropagation(),f(y)},className:`w-2 h-2 rounded-full transition-all ${y===d?"bg-white":"bg-white/40"}`},y))})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("p",{className:"text-xs text-white/50",children:[" ",new Date().getFullYear()," Debre Markos University. All rights reserved."]}),o.jsx("p",{className:"text-xs text-white/60",children:"Click to view campus images"})]})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"lg:hidden flex items-center gap-3 mb-8",children:[o.jsxs("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary",children:[o.jsx("img",{src:"/images/dmu-logo.png",alt:"DMU Logo",className:"h-6 w-6 object-contain",onError:v=>{var y;v.currentTarget.style.display="none",(y=v.currentTarget.nextElementSibling)==null||y.classList.remove("hidden")}}),o.jsx(Uy,{className:"h-6 w-6 text-primary-foreground hidden"})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-foreground",children:"DMU"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Inventory Management"})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Welcome back"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Sign in to access the Inventory Management System"})]}),o.jsxs("form",{onSubmit:p,className:"space-y-5",children:[c&&o.jsx("div",{className:"rounded-lg bg-destructive/10 border border-destructive/20 px-4 py-3",children:o.jsx("p",{className:"text-sm text-destructive",children:c})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(br,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(L6,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(xt,{id:"email",type:"email",placeholder:"your.email@dmu.edu.et",value:e,onChange:v=>t(v.target.value),className:"pl-10",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(br,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),o.jsx("button",{type:"button",className:"text-xs text-primary hover:underline",children:"Forgot password?"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(F6,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(xt,{id:"password",type:s?"text":"password",placeholder:"",value:r,onChange:v=>n(v.target.value),className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(D6,{className:"h-4 w-4"}):o.jsx(jm,{className:"h-4 w-4"})})]})]}),o.jsx(we,{type:"submit",className:"w-full",disabled:i,children:i?"Signing in...":"Sign In"})]})]})})]})}class ia{static async getProfileWithRelationships(t){const{data:r,error:n}=await X.from("profiles").select(`
        *,
        departments(name, college_id, colleges(name)),
        colleges(name)
      `).eq("id",t).single();if(n)throw n;return r}static async getItems(){const{data:t,error:r}=await X.from("v_items_with_relationships").select("*").order("created_at",{ascending:!1});if(r)throw r;return t||[]}static async getItemCategories(){const{data:t,error:r}=await X.from("item_categories").select("*").order("name");if(r)throw r;return t||[]}static async getInventoryStats(){const{data:t,error:r}=await X.from("items").select("status, category_id, purchase_cost");if(r)throw r;return{total:(t==null?void 0:t.length)||0,available:(t==null?void 0:t.filter(s=>s.status==="Available").length)||0,allocated:(t==null?void 0:t.filter(s=>s.status==="Allocated").length)||0,maintenance:(t==null?void 0:t.filter(s=>s.status==="Under Maintenance").length)||0,damaged:(t==null?void 0:t.filter(s=>s.status==="Damaged").length)||0,totalValue:(t==null?void 0:t.reduce((s,a)=>s+(a.purchase_cost||0),0))||0}}static async getItemsWithRelationships(t){let r=X.from("items").select(`
        *,
        profiles(full_name),
        departments(name),
        colleges(name),
        item_categories(name)
      `);t!=null&&t.collegeId&&(r=r.eq("college_id",t.collegeId)),t!=null&&t.departmentId&&(r=r.eq("department_id",t.departmentId)),t!=null&&t.custodianId&&(r=r.eq("current_custodian_id",t.custodianId));const{data:n,error:s}=await r.order("created_at",{ascending:!1});if(s)throw s;return n}static async getRequestsWithRelationships(t){let r=X.from("item_requests").select(`
        *,
        profiles(full_name),
        departments(name),
        colleges(name),
        item_categories(name)
      `);t!=null&&t.collegeId&&(r=r.eq("college_id",t.collegeId)),t!=null&&t.departmentId&&(r=r.eq("department_id",t.departmentId)),t!=null&&t.requesterId&&(r=r.eq("requester_id",t.requesterId)),t!=null&&t.status&&(r=r.eq("status",t.status));const{data:n,error:s}=await r.order("created_at",{ascending:!1});if(s)throw s;return n}static async getDashboardStats(t,r,n,s){switch(t){case"admin":{const[a,i,l,c]=await Promise.all([X.from("profiles").select("*",{count:"exact",head:!0}),X.from("colleges").select("*",{count:"exact",head:!0}),X.from("departments").select("*",{count:"exact",head:!0}),X.from("items").select("*",{count:"exact",head:!0})]);return{users:a.count||0,colleges:i.count||0,departments:l.count||0,items:c.count||0}}case"college_dean":{const[a,i,l]=await Promise.all([X.from("departments").select("*",{count:"exact",head:!0}).eq("college_id",n),X.from("items").select("*",{count:"exact",head:!0}).eq("college_id",n),X.from("item_requests").select("*",{count:"exact",head:!0}).eq("status","pending_dean")]);return{departments:a.count||0,items:i.count||0,pendingApprovals:l.count||0}}case"department_head":{const[a,i,l]=await Promise.all([X.from("profiles").select("*",{count:"exact",head:!0}).eq("department_id",s),X.from("items").select("*",{count:"exact",head:!0}).eq("department_id",s),X.from("item_requests").select("*",{count:"exact",head:!0}).eq("status","pending_dept_head")]);return{staff:a.count||0,items:i.count||0,pendingApprovals:l.count||0}}case"staff":{const[a,i]=await Promise.all([X.from("items").select("*",{count:"exact",head:!0}).eq("current_custodian_id",r),X.from("item_requests").select("*",{count:"exact",head:!0}).eq("requester_id",r).in("status",["pending_dept_head","pending_dean","pending_storekeeper"])]);return{myItems:a.count||0,activeRequests:i.count||0}}default:return{}}}}Eo(ia,"supabase",X);const V6={admin:[{label:"Dashboard",href:"/admin",icon:Fu},{label:"User Management",href:"/admin/users",icon:il},{label:"Colleges",href:"/admin/colleges",icon:b0},{label:"Departments",href:"/admin/departments",icon:Vc},{label:"Role Assignment",href:"/admin/roles",icon:XC},{label:"System Settings",href:"/admin/settings",icon:Hx},{label:"Database Backup",href:"/admin/backup",icon:HC}],college_dean:[{label:"Dashboard",href:"/dean",icon:Fu},{label:"Pending Approvals",href:"/dean/approvals",icon:Yo},{label:"Departments",href:"/dean/departments",icon:Vc},{label:"College Inventory",href:"/dean/inventory",icon:fn},{label:"Transfer Requests",href:"/dean/transfers",icon:Xt},{label:"Incoming Transfers",href:"/dean/incoming-transfers",icon:Xt},{label:"Reports",href:"/dean/reports",icon:Ts},{label:"Notifications",href:"/dean/notifications",icon:Es}],department_head:[{label:"Dashboard",href:"/department",icon:Fu},{label:"My Items",href:"/department/my-items",icon:fn},{label:"Pending Approvals",href:"/department/approvals",icon:Yo},{label:"Transfer Approvals",href:"/department/transfer-approvals",icon:Xt},{label:"Staff Members",href:"/department/staff",icon:il},{label:"Department Items",href:"/department/items",icon:fn},{label:"Item Requests",href:"/department/requests",icon:Hd},{label:"Transfer Item",href:"/department/transfer",icon:Xt},{label:"Incoming Transfers",href:"/department/incoming-transfers",icon:Xt},{label:"Transfers",href:"/department/transfers",icon:Xt},{label:"Reports",href:"/department/reports",icon:Ts},{label:"Notifications",href:"/department/notifications",icon:Es}],storekeeper:[{label:"Dashboard",href:"/store",icon:Fu},{label:"Pending Allocations",href:"/store/allocations",icon:Yo},{label:"Inventory",href:"/store/inventory",icon:YC},{label:"Item Registry",href:"/store/registry",icon:U6},{label:"Distribution Log",href:"/store/distribution",icon:E0},{label:"Transfer Approvals",href:"/store/transfers",icon:Xt},{label:"Transfer History",href:"/store/transfer-history",icon:l2},{label:"Return Requests",href:"/store/returns",icon:Xt},{label:"Reports",href:"/store/reports",icon:Ts},{label:"Notifications",href:"/store/notifications",icon:Es}],staff:[{label:"My Dashboard",href:"/staff",icon:Fu},{label:"My Items",href:"/staff/items",icon:fn},{label:"Request Item",href:"/staff/request",icon:Hd},{label:"My Requests",href:"/staff/requests",icon:E0},{label:"Transfer Item",href:"/staff/transfer",icon:Xt},{label:"Incoming Transfers",href:"/staff/incoming-transfers",icon:Xt},{label:"Transfer History",href:"/staff/transfer-history",icon:l2},{label:"Notifications",href:"/staff/notifications",icon:Es}]},z6={admin:"System Administrator",college_dean:"College Dean",department_head:"Department Head",storekeeper:"Store Keeper",staff:"Staff Member"};function W6({role:e,userName:t,userEmail:r,collegeName:n,departmentName:s,onLogout:a}){const i=mo(),[l,c]=_.useState([]),u=V6[e],d=f=>{c(h=>h.includes(f)?h.filter(m=>m!==f):[...h,f])};return o.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 flex w-64 flex-col bg-sidebar text-sidebar-foreground",children:[o.jsxs("div",{className:"flex h-16 items-center gap-3 border-b border-sidebar-border px-4",children:[o.jsxs("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg",children:[o.jsx("img",{src:"/images/dmu-logo.png",alt:"DMU Logo",className:"h-6 w-6 object-contain",onError:f=>{var h;f.currentTarget.style.display="none",(h=f.currentTarget.nextElementSibling)==null||h.classList.remove("hidden")}}),o.jsx(Uy,{className:"h-5 w-5 hidden text-sidebar-primary-foreground"})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-sidebar-foreground",children:"DMU"}),o.jsx("span",{className:"text-[10px] text-sidebar-foreground/60",children:"Inventory Management"})]})]}),o.jsxs("div",{className:"border-b border-sidebar-border px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-sidebar-accent text-sidebar-accent-foreground text-sm font-medium",children:t.split(" ").map(f=>f[0]).join("").slice(0,2)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:t}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60 truncate",children:z6[e]})]})]}),(n||s)&&o.jsxs("div",{className:"mt-2 space-y-0.5",children:[n&&o.jsxs("p",{className:"text-[11px] text-sidebar-foreground/50 truncate",children:[o.jsx("span",{className:"font-medium",children:"College:"})," ",n]}),s&&o.jsxs("p",{className:"text-[11px] text-sidebar-foreground/50 truncate",children:[o.jsx("span",{className:"font-medium",children:"Department:"})," ",s]})]})]}),o.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-4",children:o.jsx("ul",{className:"space-y-1",children:u.map(f=>{const h=i.pathname===f.href,m=f.icon,g=f.children&&f.children.length>0,p=l.includes(f.label);return o.jsx("li",{children:g?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>d(f.label),className:Fe("flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors","hover:bg-sidebar-accent hover:text-sidebar-accent-foreground","text-sidebar-foreground/80"),children:[o.jsx(m,{className:"h-4 w-4 shrink-0"}),o.jsx("span",{className:"flex-1 text-left",children:f.label}),o.jsx(Fy,{className:Fe("h-4 w-4 shrink-0 transition-transform",p&&"rotate-180")})]}),p&&o.jsx("ul",{className:"mt-1 ml-4 space-y-1 border-l border-sidebar-border pl-3",children:f.children.map(x=>o.jsx("li",{children:o.jsxs(I_,{to:x.href,className:Fe("flex items-center gap-2 rounded-md px-2 py-1.5 text-sm transition-colors",i.pathname===x.href?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),children:[o.jsx(x.icon,{className:"h-3.5 w-3.5"}),x.label]})},x.label))})]}):o.jsxs(I_,{to:f.href,className:Fe("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",h?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground/80 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[o.jsx(m,{className:"h-4 w-4 shrink-0"}),o.jsx("span",{className:"flex-1",children:f.label}),f.badge&&f.badge>0&&o.jsx("span",{className:"flex h-5 min-w-5 items-center justify-center rounded-full bg-sidebar-primary text-sidebar-primary-foreground text-[10px] font-bold px-1.5",children:f.badge})]})},f.label)})})}),o.jsx("div",{className:"border-t border-sidebar-border p-3",children:o.jsxs("button",{onClick:a,className:"flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium text-sidebar-foreground/70 transition-colors hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:[o.jsx(M6,{className:"h-4 w-4"}),o.jsx("span",{children:"Sign Out"})]})})]})}var H6=_.createContext(void 0);function _f(e){const t=_.useContext(H6);return e||t||"ltr"}function Kx(e,[t,r]){return Math.min(r,Math.max(t,e))}function K6(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var qy="ScrollArea",[QC,fQ]=As(qy),[G6,Rs]=QC(qy),JC=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=_.useState(null),[u,d]=_.useState(null),[f,h]=_.useState(null),[m,g]=_.useState(null),[p,x]=_.useState(null),[v,y]=_.useState(0),[w,S]=_.useState(0),[N,A]=_.useState(!1),[b,T]=_.useState(!1),C=dt(t,I=>c(I)),R=_f(s);return o.jsx(G6,{scope:r,type:n,dir:R,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:A,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:b,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:S,children:o.jsx(Ge.div,{dir:R,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});JC.displayName=qy;var ZC="ScrollAreaViewport",eN=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,i=Rs(ZC,r),l=_.useRef(null),c=dt(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Ge.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});eN.displayName=ZC;var ka="ScrollAreaScrollbar",Vy=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Rs(ka,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return _.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(X6,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(Y6,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(tN,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(zy,{...n,ref:t}):null});Vy.displayName=ka;var X6=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Rs(ka,e.__scopeScrollArea),[a,i]=_.useState(!1);return _.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(xn,{present:r||a,children:o.jsx(tN,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Y6=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Rs(ka,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Am(()=>c("SCROLL_END"),100),[l,c]=K6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),_.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,i]),o.jsx(xn,{present:r||l!=="hidden",children:o.jsx(zy,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),tN=_.forwardRef((e,t)=>{const r=Rs(ka,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=_.useState(!1),l=e.orientation==="horizontal",c=Am(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return zc(r.viewport,c),zc(r.content,c),o.jsx(xn,{present:n||a,children:o.jsx(zy,{"data-state":a?"visible":"hidden",...s,ref:t})})}),zy=_.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Rs(ka,e.__scopeScrollArea),a=_.useRef(null),i=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=iN(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return r8(h,i.current,l,m)}return r==="horizontal"?o.jsx(Q6,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,m=u2(h,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?o.jsx(J6,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,m=u2(h,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),Q6=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Rs(ka,e.__scopeScrollArea),[i,l]=_.useState(),c=_.useRef(null),u=dt(t,c,a.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(nN,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":km(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),lN(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:C0(i.paddingLeft),paddingEnd:C0(i.paddingRight)}})}})}),J6=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Rs(ka,e.__scopeScrollArea),[i,l]=_.useState(),c=_.useRef(null),u=dt(t,c,a.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(nN,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":km(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),lN(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:C0(i.paddingTop),paddingEnd:C0(i.paddingBottom)}})}})}),[Z6,rN]=QC(ka),nN=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Rs(ka,r),[g,p]=_.useState(null),x=dt(t,C=>p(C)),v=_.useRef(null),y=_.useRef(""),w=m.viewport,S=n.content-n.viewport,N=Hr(d),A=Hr(c),b=Am(f,10);function T(C){if(v.current){const R=C.clientX-v.current.left,I=C.clientY-v.current.top;u({x:R,y:I})}}return _.useEffect(()=>{const C=R=>{const I=R.target;(g==null?void 0:g.contains(I))&&N(R,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,S,N]),_.useEffect(A,[n,A]),zc(g,b),zc(m.content,b),o.jsx(Z6,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Hr(a),onThumbPointerUp:Hr(i),onThumbPositionChange:A,onThumbPointerDown:Hr(l),children:o.jsx(Ge.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:Ce(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(C))}),onPointerMove:Ce(e.onPointerMove,T),onPointerUp:Ce(e.onPointerUp,C=>{const R=C.target;R.hasPointerCapture(C.pointerId)&&R.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),T0="ScrollAreaThumb",sN=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=rN(T0,e.__scopeScrollArea);return o.jsx(xn,{present:r||s.hasThumb,children:o.jsx(e8,{ref:t,...n})})}),e8=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Rs(T0,r),i=rN(T0,r),{onThumbPositionChange:l}=i,c=dt(t,f=>i.onThumbChange(f)),u=_.useRef(void 0),d=Am(()=>{u.current&&(u.current(),u.current=void 0)},100);return _.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const m=n8(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),o.jsx(Ge.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ce(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;i.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ce(e.onPointerUp,i.onThumbPointerUp)})});sN.displayName=T0;var Wy="ScrollAreaCorner",aN=_.forwardRef((e,t)=>{const r=Rs(Wy,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(t8,{...e,ref:t}):null});aN.displayName=Wy;var t8=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Rs(Wy,r),[a,i]=_.useState(0),[l,c]=_.useState(0),u=!!(a&&l);return zc(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),zc(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(Ge.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function C0(e){return e?parseInt(e,10):0}function iN(e,t){const r=e/t;return isNaN(r)?0:r}function km(e){const t=iN(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function r8(e,t,r,n="ltr"){const s=km(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return oN([c,u],f)(e)}function u2(e,t,r="ltr"){const n=km(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=Kx(e,c);return oN([0,i],[0,l])(u)}function oN(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function lN(e,t){return e>0&&e<t}var n8=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Am(e,t){const r=Hr(e),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function zc(e,t){const r=Hr(t);Zr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var cN=JC,s8=eN,a8=aN;const uN=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(cN,{ref:n,className:Fe("relative overflow-hidden",e),...r,children:[o.jsx(s8,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(dN,{}),o.jsx(a8,{})]}));uN.displayName=cN.displayName;const dN=_.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(Vy,{ref:n,orientation:t,className:Fe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(sN,{className:"relative flex-1 rounded-full bg-border"})}));dN.displayName=Vy.displayName;const i8=Dy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Rt({className:e,variant:t,...r}){return o.jsx("div",{className:Fe(i8({variant:t}),e),...r})}var Yp=0;function Rm(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??d2()),document.body.insertAdjacentElement("beforeend",e[1]??d2()),Yp++,()=>{Yp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Yp--}},[])}function d2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qp="focusScope.autoFocusOnMount",Jp="focusScope.autoFocusOnUnmount",f2={bubbles:!1,cancelable:!0},o8="FocusScope",Sf=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=_.useState(null),u=Hr(s),d=Hr(a),f=_.useRef(null),h=dt(t,p=>c(p)),m=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:gi(f.current,{select:!0})},x=function(w){if(m.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||gi(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&gi(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,m.paused]),_.useEffect(()=>{if(l){m2.add(m);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(Qp,f2);l.addEventListener(Qp,u),l.dispatchEvent(v),v.defaultPrevented||(l8(h8(fN(l)),{select:!0}),document.activeElement===p&&gi(l))}return()=>{l.removeEventListener(Qp,u),setTimeout(()=>{const v=new CustomEvent(Jp,f2);l.addEventListener(Jp,d),l.dispatchEvent(v),v.defaultPrevented||gi(p??document.body,{select:!0}),l.removeEventListener(Jp,d),m2.remove(m)},0)}}},[l,u,d,m]);const g=_.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const y=p.currentTarget,[w,S]=c8(y);w&&S?!p.shiftKey&&v===S?(p.preventDefault(),r&&gi(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),r&&gi(S,{select:!0})):v===y&&p.preventDefault()}},[r,n,m.paused]);return o.jsx(Ge.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});Sf.displayName=o8;function l8(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(gi(n,{select:t}),document.activeElement!==r)return}function c8(e){const t=fN(e),r=h2(t,e),n=h2(t.reverse(),e);return[r,n]}function fN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function h2(e,t){for(const r of e)if(!u8(r,{upTo:t}))return r}function u8(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function d8(e){return e instanceof HTMLInputElement&&"select"in e}function gi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&d8(e)&&t&&e.select()}}var m2=f8();function f8(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=p2(e,t),e.unshift(t)},remove(t){var r;e=p2(e,t),(r=e[0])==null||r.resume()}}}function p2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function h8(e){return e.filter(t=>t.tagName!=="A")}var m8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dl=new WeakMap,oh=new WeakMap,lh={},Zp=0,hN=function(e){return e&&(e.host||hN(e.parentNode))},p8=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=hN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},g8=function(e,t,r,n){var s=p8(t,Array.isArray(e)?e:[e]);lh[r]||(lh[r]=new WeakMap);var a=lh[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Dl.get(h)||0)+1,x=(a.get(h)||0)+1;Dl.set(h,p),a.set(h,x),i.push(h),p===1&&g&&oh.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),Zp++,function(){i.forEach(function(f){var h=Dl.get(f)-1,m=a.get(f)-1;Dl.set(f,h),a.set(f,m),h||(oh.has(f)||f.removeAttribute(n),oh.delete(f)),m||f.removeAttribute(r)}),Zp--,Zp||(Dl=new WeakMap,Dl=new WeakMap,oh=new WeakMap,lh={})}},Pm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=m8(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),g8(n,s,r,"aria-hidden")):function(){return null}},Dh="right-scroll-bar-position",Fh="width-before-scroll-bar",x8="with-scroll-bars-hidden",v8="--removed-body-scroll-bar-size";function eg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function y8(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var w8=typeof window<"u"?_.useLayoutEffect:_.useEffect,g2=new WeakMap;function _8(e,t){var r=y8(null,function(n){return e.forEach(function(s){return eg(s,n)})});return w8(function(){var n=g2.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||eg(l,null)}),a.forEach(function(l){s.has(l)||eg(l,i)})}g2.set(r,e)},[e]),r}function S8(e){return e}function b8(e,t){t===void 0&&(t=S8);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function E8(e){e===void 0&&(e={});var t=b8(null);return t.options=ya({async:!0,ssr:!1},e),t}var mN=function(e){var t=e.sideCar,r=uu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,ya({},r))};mN.isSideCarExport=!0;function T8(e,t){return e.useMedium(t),mN}var pN=E8(),tg=function(){},Om=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:tg,onWheelCapture:tg,onTouchMoveCapture:tg}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,x=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,w=e.gapMode,S=uu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,A=_8([r,t]),b=ya(ya({},S),s);return _.createElement(_.Fragment,null,d&&_.createElement(N,{sideCar:pN,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:a,allowPinchZoom:!!x,lockRef:r,gapMode:w}),i?_.cloneElement(_.Children.only(l),ya(ya({},b),{ref:A})):_.createElement(y,ya({},b,{className:c,ref:A}),l))});Om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Om.classNames={fullWidth:Fh,zeroRight:Dh};var C8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function N8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=C8();return t&&e.setAttribute("nonce",t),e}function j8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function k8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var A8=function(){var e=0,t=null;return{add:function(r){e==0&&(t=N8())&&(j8(t,r),k8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},R8=function(){var e=A8();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},gN=function(){var e=R8(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},P8={left:0,top:0,right:0,gap:0},rg=function(e){return parseInt(e||"",10)||0},O8=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[rg(r),rg(n),rg(s)]},I8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return P8;var t=O8(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},D8=gN(),gc="data-scroll-locked",F8=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(x8,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(gc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dh,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fh,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Dh," .").concat(Dh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fh," .").concat(Fh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(gc,`] {
    `).concat(v8,": ").concat(l,`px;
  }
`)},x2=function(){var e=parseInt(document.body.getAttribute(gc)||"0",10);return isFinite(e)?e:0},M8=function(){_.useEffect(function(){return document.body.setAttribute(gc,(x2()+1).toString()),function(){var e=x2()-1;e<=0?document.body.removeAttribute(gc):document.body.setAttribute(gc,e.toString())}},[])},L8=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;M8();var a=_.useMemo(function(){return I8(s)},[s]);return _.createElement(D8,{styles:F8(a,!t,s,r?"":"!important")})},Gx=!1;if(typeof window<"u")try{var ch=Object.defineProperty({},"passive",{get:function(){return Gx=!0,!0}});window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{Gx=!1}var Fl=Gx?{passive:!1}:!1,U8=function(e){return e.tagName==="TEXTAREA"},xN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!U8(e)&&r[t]==="visible")},B8=function(e){return xN(e,"overflowY")},$8=function(e){return xN(e,"overflowX")},v2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=vN(e,n);if(s){var a=yN(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},q8=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},V8=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},vN=function(e,t){return e==="v"?B8(t):$8(t)},yN=function(e,t){return e==="v"?q8(t):V8(t)},z8=function(e,t){return e==="h"&&t==="rtl"?-1:1},W8=function(e,t,r,n,s){var a=z8(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var m=yN(e,l),g=m[0],p=m[1],x=m[2],v=p-x-a*g;(g||v)&&vN(e,l)&&(f+=v,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},uh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},y2=function(e){return[e.deltaX,e.deltaY]},w2=function(e){return e&&"current"in e?e.current:e},H8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},K8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},G8=0,Ml=[];function X8(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),s=_.useState(G8++)[0],a=_.useState(gN)[0],i=_.useRef(e);_.useEffect(function(){i.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=B5([e.lockRef.current],(e.shards||[]).map(w2),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var v=uh(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-v[0],S="deltaY"in p?p.deltaY:y[1]-v[1],N,A=p.target,b=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&b==="h"&&A.type==="range")return!1;var T=v2(b,A);if(!T)return!0;if(T?N=b:(N=b==="v"?"h":"v",T=v2(b,A)),!T)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=N),!N)return!0;var C=n.current||N;return W8(C,x,p,C==="h"?w:S,!0)},[]),c=_.useCallback(function(p){var x=p;if(!(!Ml.length||Ml[Ml.length-1]!==a)){var v="deltaY"in x?y2(x):uh(x),y=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&H8(N.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(w2).filter(Boolean).filter(function(N){return N.contains(x.target)}),S=w.length>0?l(x,w[0]):!i.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=_.useCallback(function(p,x,v,y){var w={name:p,delta:x,target:v,should:y,shadowParent:Y8(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=_.useCallback(function(p){r.current=uh(p),n.current=void 0},[]),f=_.useCallback(function(p){u(p.type,y2(p),p.target,l(p,e.lockRef.current))},[]),h=_.useCallback(function(p){u(p.type,uh(p),p.target,l(p,e.lockRef.current))},[]);_.useEffect(function(){return Ml.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Fl),document.addEventListener("touchmove",c,Fl),document.addEventListener("touchstart",d,Fl),function(){Ml=Ml.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Fl),document.removeEventListener("touchmove",c,Fl),document.removeEventListener("touchstart",d,Fl)}},[]);var m=e.removeScrollBar,g=e.inert;return _.createElement(_.Fragment,null,g?_.createElement(a,{styles:K8(s)}):null,m?_.createElement(L8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Y8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Q8=T8(pN,X8);var bf=_.forwardRef(function(e,t){return _.createElement(Om,ya({},e,{ref:t,sideCar:Q8}))});bf.classNames=Om.classNames;var Im="Popover",[wN,hQ]=As(Im,[fo]),Ef=fo(),[J8,po]=wN(Im),_N=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,l=Ef(t),c=_.useRef(null),[u,d]=_.useState(!1),[f,h]=to({prop:n,defaultProp:s??!1,onChange:a,caller:Im});return o.jsx(vy,{...l,children:o.jsx(J8,{scope:t,contentId:ta(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:_.useCallback(()=>d(!0),[]),onCustomAnchorRemove:_.useCallback(()=>d(!1),[]),modal:i,children:r})})};_N.displayName=Im;var SN="PopoverAnchor",Z8=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=po(SN,r),a=Ef(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return _.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(mf,{...a,...n,ref:t})});Z8.displayName=SN;var bN="PopoverTrigger",EN=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=po(bN,r),a=Ef(r),i=dt(t,s.triggerRef),l=o.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kN(s.open),...n,ref:i,onClick:Ce(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(mf,{asChild:!0,...a,children:l})});EN.displayName=bN;var Hy="PopoverPortal",[eU,tU]=wN(Hy,{forceMount:void 0}),TN=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=po(Hy,t);return o.jsx(eU,{scope:t,forceMount:r,children:o.jsx(xn,{present:r||a.open,children:o.jsx(pf,{asChild:!0,container:s,children:n})})})};TN.displayName=Hy;var Wc="PopoverContent",CN=_.forwardRef((e,t)=>{const r=tU(Wc,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=po(Wc,e.__scopePopover);return o.jsx(xn,{present:n||a.open,children:a.modal?o.jsx(nU,{...s,ref:t}):o.jsx(sU,{...s,ref:t})})});CN.displayName=Wc;var rU=Ji("PopoverContent.RemoveScroll"),nU=_.forwardRef((e,t)=>{const r=po(Wc,e.__scopePopover),n=_.useRef(null),s=dt(t,n),a=_.useRef(!1);return _.useEffect(()=>{const i=n.current;if(i)return Pm(i)},[]),o.jsx(bf,{as:rU,allowPinchZoom:!0,children:o.jsx(NN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),sU=_.forwardRef((e,t)=>{const r=po(Wc,e.__scopePopover),n=_.useRef(!1),s=_.useRef(!1);return o.jsx(NN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),NN=_.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=po(Wc,r),m=Ef(r);return Rm(),o.jsx(Sf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(ru,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(wm,{"data-state":kN(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),jN="PopoverClose",aU=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=po(jN,r);return o.jsx(Ge.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>s.onOpenChange(!1))})});aU.displayName=jN;var iU="PopoverArrow",oU=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ef(r);return o.jsx(_m,{...s,...n,ref:t})});oU.displayName=iU;function kN(e){return e?"open":"closed"}var lU=_N,cU=EN,uU=TN,AN=CN;const dU=lU,fU=cU,RN=_.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>o.jsx(uU,{children:o.jsx(AN,{ref:s,align:t,sideOffset:r,className:Fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));RN.displayName=AN.displayName;function Xr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function hU(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const dh=43200,_2=1440;let mU={};function pU(){return mU}function S2(e){const t=Xr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Mh(e,t){const r=Xr(e),n=Xr(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function gU(e){return hU(e,Date.now())}function xU(e,t){const r=Xr(e),n=Xr(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function vU(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function yU(e,t){return+Xr(e)-+Xr(t)}function wU(e){const t=Xr(e);return t.setHours(23,59,59,999),t}function _U(e){const t=Xr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function SU(e){const t=Xr(e);return+wU(t)==+_U(t)}function bU(e,t){const r=Xr(e),n=Xr(t),s=Mh(r,n),a=Math.abs(xU(r,n));let i;if(a<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=Mh(r,n)===-s;SU(Xr(e))&&a===1&&Mh(e,n)===1&&(l=!1),i=s*(a-Number(l))}return i===0?0:i}function EU(e,t,r){const n=yU(e,t)/1e3;return vU(r==null?void 0:r.roundingMethod)(n)}const TU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},CU=(e,t,r)=>{let n;const s=TU[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ng(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const NU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},AU={date:ng({formats:NU,defaultWidth:"full"}),time:ng({formats:jU,defaultWidth:"full"}),dateTime:ng({formats:kU,defaultWidth:"full"})},RU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PU=(e,t,r,n)=>RU[e];function Mu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const OU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},BU={ordinalNumber:UU,era:Mu({values:OU,defaultWidth:"wide"}),quarter:Mu({values:IU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mu({values:DU,defaultWidth:"wide"}),day:Mu({values:FU,defaultWidth:"wide"}),dayPeriod:Mu({values:MU,defaultWidth:"wide",formattingValues:LU,defaultFormattingWidth:"wide"})};function Lu(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?qU(l,f=>f.test(i)):$U(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function $U(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function qU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function VU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const zU=/^(\d+)(th|st|nd|rd)?/i,WU=/\d+/i,HU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KU={any:[/^b/i,/^(a|c)/i]},GU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XU={any:[/1/i,/2/i,/3/i,/4/i]},YU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rB={ordinalNumber:VU({matchPattern:zU,parsePattern:WU,valueCallback:e=>parseInt(e,10)}),era:Lu({matchPatterns:HU,defaultMatchWidth:"wide",parsePatterns:KU,defaultParseWidth:"any"}),quarter:Lu({matchPatterns:GU,defaultMatchWidth:"wide",parsePatterns:XU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Lu({matchPatterns:YU,defaultMatchWidth:"wide",parsePatterns:QU,defaultParseWidth:"any"}),day:Lu({matchPatterns:JU,defaultMatchWidth:"wide",parsePatterns:ZU,defaultParseWidth:"any"}),dayPeriod:Lu({matchPatterns:eB,defaultMatchWidth:"any",parsePatterns:tB,defaultParseWidth:"any"})},nB={code:"en-US",formatDistance:CU,formatLong:AU,formatRelative:PU,localize:BU,match:rB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sB(e,t,r){const n=pU(),s=(r==null?void 0:r.locale)??n.locale??nB,a=2520,i=Mh(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=Xr(t),u=Xr(e)):(c=Xr(e),u=Xr(t));const d=EU(u,c),f=(S2(u)-S2(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<_2){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<dh){const g=Math.round(h/_2);return s.formatDistance("xDays",g,l)}else if(h<dh*2)return m=Math.round(h/dh),s.formatDistance("aboutXMonths",m,l)}if(m=bU(u,c),m<12){const g=Math.round(h/dh);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function aB(e,t){return sB(e,gU(e),t)}const iB=async e=>{const{data:t,error:r}=await X.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(20);if(r)throw new Error(r.message);return t},oB=e=>{switch(e){case"success":case"approval_received":return o.jsx(fu,{className:"h-4 w-4 text-success"});case"warning":case"approval_required":return o.jsx(By,{className:"h-4 w-4 text-warning"});case"error":return o.jsx(ro,{className:"h-4 w-4 text-destructive"});default:return o.jsx(KC,{className:"h-4 w-4 text-info"})}};function lB(){const{profile:e}=He(),t=Vt(),{data:r=[]}=Le({queryKey:["notifications",e==null?void 0:e.id],queryFn:()=>iB((e==null?void 0:e.id)||""),enabled:!!(e!=null&&e.id),refetchInterval:3e4}),n=nt({mutationFn:async i=>{const{error:l}=await X.from("notifications").update({is_read:!0}).eq("id",i);if(l)throw new Error(l.message)},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]})}}),s=nt({mutationFn:async()=>{const{error:i}=await X.from("notifications").update({is_read:!0}).eq("user_id",e==null?void 0:e.id).eq("is_read",!1);if(i)throw new Error(i.message)},onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]})}}),a=r.filter(i=>!i.is_read).length;return o.jsxs(dU,{children:[o.jsx(fU,{asChild:!0,children:o.jsxs(we,{variant:"ghost",size:"sm",className:"relative",children:[o.jsx(Es,{className:"h-4 w-4"}),a>0&&o.jsx(Rt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs flex items-center justify-center",children:a>9?"9+":a})]})}),o.jsxs(RN,{className:"w-80 p-0",align:"end",children:[o.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[o.jsx("h4",{className:"text-sm font-semibold",children:"Notifications"}),a>0&&o.jsx(we,{variant:"ghost",size:"sm",onClick:()=>s.mutate(),disabled:s.isPending,children:"Mark all read"})]}),o.jsx(uN,{className:"h-80",children:r.length===0?o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications yet"}):o.jsx("div",{className:"divide-y",children:r.map(i=>o.jsx("div",{className:`p-4 hover:bg-muted/50 cursor-pointer ${i.is_read?"":"bg-muted/30"}`,onClick:()=>{i.is_read||n.mutate(i.id)},children:o.jsxs("div",{className:"flex items-start gap-3",children:[oB(i.type),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:i.title}),!i.is_read&&o.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:i.message}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:aB(new Date(i.created_at),{addSuffix:!0})})]})]})},i.id))})})]})]})}function cB({title:e,subtitle:t,actions:r,showSearch:n=!1,searchPlaceholder:s="Search...",onSearch:a,notificationCount:i=0,className:l}){return o.jsx("header",{className:Fe("sticky top-0 z-40 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",l),children:o.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-lg font-semibold text-foreground truncate",children:e}),t&&o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:t})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[n&&o.jsxs("div",{className:"relative hidden md:block",children:[o.jsx(yf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(xt,{type:"search",placeholder:s,className:"w-64 pl-9 bg-muted/50",onChange:c=>a==null?void 0:a(c.target.value)})]}),r,o.jsx(lB,{})]})]})})}function uB(){return o.jsx("footer",{className:"bg-gray-900 text-gray-300 py-6 border-t border-gray-800",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Uy,{className:"h-5 w-5 text-blue-400"}),o.jsx("span",{className:"text-sm font-medium text-white",children:"Debre Markos University"})]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["University Asset Guardian  ",new Date().getFullYear()," - All rights reserved"]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[o.jsx("span",{children:"info@dmu.edu.et"}),o.jsx("span",{children:""}),o.jsx("span",{children:"+251-58-771-1021"})]})]})})})}function st({children:e,role:t,userName:r,userEmail:n,collegeName:s,departmentName:a,pageTitle:i,pageSubtitle:l,headerActions:c,showSearch:u,searchPlaceholder:d,onSearch:f,notificationCount:h}){const m=gf(),{logout:g}=He(),p=async()=>{await g(),m("/login")};return o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsx(W6,{role:t,userName:r,userEmail:n,collegeName:s,departmentName:a,onLogout:p}),o.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[o.jsx(cB,{title:i,subtitle:l,actions:c,showSearch:u,searchPlaceholder:d,onSearch:f,notificationCount:h}),o.jsx("main",{className:"flex-1 p-6",children:e}),o.jsx(uB,{})]})]})}const dB={default:{card:"bg-card border-border",icon:"bg-muted text-muted-foreground",value:"text-foreground"},primary:{card:"bg-primary/5 border-primary/20",icon:"bg-primary/10 text-primary",value:"text-primary"},success:{card:"bg-success/5 border-success/20",icon:"bg-success/10 text-success",value:"text-success"},warning:{card:"bg-warning/5 border-warning/20",icon:"bg-warning/10 text-warning",value:"text-warning"},danger:{card:"bg-destructive/5 border-destructive/20",icon:"bg-destructive/10 text-destructive",value:"text-destructive"},info:{card:"bg-info/5 border-info/20",icon:"bg-info/10 text-info",value:"text-info"}};function Tr({title:e,value:t,subtitle:r,icon:n,trend:s,variant:a="default",className:i}){const l=dB[a];return o.jsx("div",{className:Fe("relative overflow-hidden rounded-lg border p-4 shadow-institutional transition-shadow hover:shadow-card",l.card,i),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:e}),o.jsx("p",{className:Fe("text-2xl font-bold tabular-nums",l.value),children:t}),r&&o.jsx("p",{className:"text-xs text-muted-foreground",children:r}),s&&o.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[o.jsxs("span",{className:Fe("font-medium",s.isPositive?"text-success":"text-destructive"),children:[s.isPositive?"+":"-",Math.abs(s.value),"%"]}),o.jsx("span",{className:"text-muted-foreground",children:"vs last month"})]})]}),o.jsx("div",{className:Fe("rounded-lg p-2.5",l.icon),children:o.jsx(n,{className:"h-5 w-5"})})]})})}function Ky(e){const t=e+"CollectionProvider",[r,n]=As(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:x,children:v}=p,y=oe.useRef(null),w=oe.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=Ji(l),u=oe.forwardRef((p,x)=>{const{scope:v,children:y}=p,w=a(l,v),S=dt(x,w.collectionRef);return o.jsx(c,{ref:S,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ji(d),m=oe.forwardRef((p,x)=>{const{scope:v,children:y,...w}=p,S=oe.useRef(null),N=dt(x,S),A=a(d,v);return oe.useEffect(()=>(A.itemMap.set(S,{ref:S,...w}),()=>void A.itemMap.delete(S))),o.jsx(h,{[f]:"",ref:N,children:y})});m.displayName=d;function g(p){const x=a(e+"CollectionConsumer",p);return oe.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((A,b)=>w.indexOf(A.ref.current)-w.indexOf(b.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},g,n]}var sg="rovingFocusGroup.onEntryFocus",fB={bubbles:!1,cancelable:!0},Tf="RovingFocusGroup",[Xx,PN,hB]=Ky(Tf),[mB,Dm]=As(Tf,[hB]),[pB,gB]=mB(Tf),ON=_.forwardRef((e,t)=>o.jsx(Xx.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Xx.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(xB,{...e,ref:t})})}));ON.displayName=Tf;var xB=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=_.useRef(null),m=dt(t,h),g=_f(a),[p,x]=to({prop:i,defaultProp:l??null,onChange:c,caller:Tf}),[v,y]=_.useState(!1),w=Hr(u),S=PN(r),N=_.useRef(!1),[A,b]=_.useState(0);return _.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(sg,w),()=>T.removeEventListener(sg,w)},[w]),o.jsx(pB,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:_.useCallback(T=>x(T),[x]),onItemShiftTab:_.useCallback(()=>y(!0),[]),onFocusableItemAdd:_.useCallback(()=>b(T=>T+1),[]),onFocusableItemRemove:_.useCallback(()=>b(T=>T-1),[]),children:o.jsx(Ge.div,{tabIndex:v||A===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{N.current=!0}),onFocus:Ce(e.onFocus,T=>{const C=!N.current;if(T.target===T.currentTarget&&C&&!v){const R=new CustomEvent(sg,fB);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const I=S().filter(ue=>ue.focusable),O=I.find(ue=>ue.active),K=I.find(ue=>ue.id===p),le=[O,K,...I].filter(Boolean).map(ue=>ue.ref.current);FN(le,d)}}N.current=!1}),onBlur:Ce(e.onBlur,()=>y(!1))})})}),IN="RovingFocusGroupItem",DN=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=ta(),u=a||c,d=gB(IN,r),f=d.currentTabStopId===u,h=PN(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return _.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),o.jsx(Xx.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Ge.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ce(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:Ce(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ce(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=wB(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const S=w.indexOf(x.currentTarget);w=d.loop?_B(w,S+1):w.slice(S+1)}setTimeout(()=>FN(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});DN.displayName=IN;var vB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wB(e,t,r){const n=yB(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vB[n]}function FN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function _B(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var MN=ON,LN=DN,Fm="Tabs",[SB,mQ]=As(Fm,[Dm]),UN=Dm(),[bB,Gy]=SB(Fm),BN=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=_f(l),[f,h]=to({prop:n,onChange:s,defaultProp:a??"",caller:Fm});return o.jsx(bB,{scope:r,baseId:ta(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(Ge.div,{dir:d,"data-orientation":i,...u,ref:t})})});BN.displayName=Fm;var $N="TabsList",qN=_.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=Gy($N,r),i=UN(r);return o.jsx(MN,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(Ge.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});qN.displayName=$N;var VN="TabsTrigger",zN=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=Gy(VN,r),l=UN(r),c=KN(i.baseId,n),u=GN(i.baseId,n),d=n===i.value;return o.jsx(LN,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Ge.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Ce(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Ce(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Ce(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});zN.displayName=VN;var WN="TabsContent",HN=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,l=Gy(WN,r),c=KN(l.baseId,n),u=GN(l.baseId,n),d=n===l.value,f=_.useRef(d);return _.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(xn,{present:s||d,children:({present:h})=>o.jsx(Ge.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});HN.displayName=WN;function KN(e,t){return`${e}-trigger-${t}`}function GN(e,t){return`${e}-content-${t}`}var EB=BN,XN=qN,YN=zN,QN=HN;const TB=EB,JN=_.forwardRef(({className:e,...t},r)=>o.jsx(XN,{ref:r,className:Fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));JN.displayName=XN.displayName;const Lh=_.forwardRef(({className:e,...t},r)=>o.jsx(YN,{ref:r,className:Fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Lh.displayName=YN.displayName;const Uh=_.forwardRef(({className:e,...t},r)=>o.jsx(QN,{ref:r,className:Fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Uh.displayName=QN.displayName;const Qe=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Fe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Qe.displayName="Card";const tt=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Fe("flex flex-col space-y-1.5 p-6",e),...t}));tt.displayName="CardHeader";const rt=_.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:Fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));rt.displayName="CardTitle";const CB=_.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:Fe("text-sm text-muted-foreground",e),...t}));CB.displayName="CardDescription";const Je=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Fe("p-6 pt-0",e),...t}));Je.displayName="CardContent";const NB=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:Fe("flex items-center p-6 pt-0",e),...t}));NB.displayName="CardFooter";var Mm="Dialog",[ZN,pQ]=As(Mm),[jB,oa]=ZN(Mm),ej=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=_.useRef(null),c=_.useRef(null),[u,d]=to({prop:n,defaultProp:s??!1,onChange:a,caller:Mm});return o.jsx(jB,{scope:t,triggerRef:l,contentRef:c,contentId:ta(),titleId:ta(),descriptionId:ta(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};ej.displayName=Mm;var tj="DialogTrigger",rj=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(tj,r),a=dt(t,s.triggerRef);return o.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Qy(s.open),...n,ref:a,onClick:Ce(e.onClick,s.onOpenToggle)})});rj.displayName=tj;var Xy="DialogPortal",[kB,nj]=ZN(Xy,{forceMount:void 0}),sj=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=oa(Xy,t);return o.jsx(kB,{scope:t,forceMount:r,children:_.Children.map(n,i=>o.jsx(xn,{present:r||a.open,children:o.jsx(pf,{asChild:!0,container:s,children:i})}))})};sj.displayName=Xy;var N0="DialogOverlay",aj=_.forwardRef((e,t)=>{const r=nj(N0,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=oa(N0,e.__scopeDialog);return a.modal?o.jsx(xn,{present:n||a.open,children:o.jsx(RB,{...s,ref:t})}):null});aj.displayName=N0;var AB=Ji("DialogOverlay.RemoveScroll"),RB=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(N0,r);return o.jsx(bf,{as:AB,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ge.div,{"data-state":Qy(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ol="DialogContent",ij=_.forwardRef((e,t)=>{const r=nj(ol,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=oa(ol,e.__scopeDialog);return o.jsx(xn,{present:n||a.open,children:a.modal?o.jsx(PB,{...s,ref:t}):o.jsx(OB,{...s,ref:t})})});ij.displayName=ol;var PB=_.forwardRef((e,t)=>{const r=oa(ol,e.__scopeDialog),n=_.useRef(null),s=dt(t,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return Pm(a)},[]),o.jsx(oj,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,a=>a.preventDefault())})}),OB=_.forwardRef((e,t)=>{const r=oa(ol,e.__scopeDialog),n=_.useRef(!1),s=_.useRef(!1);return o.jsx(oj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),oj=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=oa(ol,r),c=_.useRef(null),u=dt(t,c);return Rm(),o.jsxs(o.Fragment,{children:[o.jsx(Sf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(ru,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Qy(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(IB,{titleId:l.titleId}),o.jsx(FB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Yy="DialogTitle",lj=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(Yy,r);return o.jsx(Ge.h2,{id:s.titleId,...n,ref:t})});lj.displayName=Yy;var cj="DialogDescription",uj=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(cj,r);return o.jsx(Ge.p,{id:s.descriptionId,...n,ref:t})});uj.displayName=cj;var dj="DialogClose",fj=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=oa(dj,r);return o.jsx(Ge.button,{type:"button",...n,ref:t,onClick:Ce(e.onClick,()=>s.onOpenChange(!1))})});fj.displayName=dj;function Qy(e){return e?"open":"closed"}var hj="DialogTitleWarning",[gQ,mj]=vI(hj,{contentName:ol,titleName:Yy,docsSlug:"dialog"}),IB=({titleId:e})=>{const t=mj(hj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},DB="DialogDescriptionWarning",FB=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mj(DB).contentName}}.`;return _.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},MB=ej,LB=rj,UB=sj,pj=aj,gj=ij,xj=lj,vj=uj,BB=fj;const gn=MB,Lm=LB,$B=UB,yj=_.forwardRef(({className:e,...t},r)=>o.jsx(pj,{ref:r,className:Fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yj.displayName=pj.displayName;const en=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs($B,{children:[o.jsx(yj,{}),o.jsxs(gj,{ref:n,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(BB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(ro,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));en.displayName=gj.displayName;const tn=({className:e,...t})=>o.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tn.displayName="DialogHeader";const ds=({className:e,...t})=>o.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ds.displayName="DialogFooter";const rn=_.forwardRef(({className:e,...t},r)=>o.jsx(xj,{ref:r,className:Fe("text-lg font-semibold leading-none tracking-tight",e),...t}));rn.displayName=xj.displayName;const ll=_.forwardRef(({className:e,...t},r)=>o.jsx(vj,{ref:r,className:Fe("text-sm text-muted-foreground",e),...t}));ll.displayName=vj.displayName;var Cf=e=>e.type==="checkbox",Lo=e=>e instanceof Date,bn=e=>e==null;const wj=e=>typeof e=="object";var vr=e=>!bn(e)&&!Array.isArray(e)&&wj(e)&&!Lo(e),_j=e=>vr(e)&&e.target?Cf(e.target)?e.target.checked:e.target.value:e,qB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Sj=(e,t)=>e.has(qB(t)),VB=e=>{const t=e.constructor&&e.constructor.prototype;return vr(t)&&t.hasOwnProperty("isPrototypeOf")},Jy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Jy&&(e instanceof Blob||n))&&(r||vr(e)))if(t=r?[]:{},!r&&!VB(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Rr(e[s]));else return e;return t}var Um=e=>/^\w*$/.test(e),mr=e=>e===void 0,Zy=e=>Array.isArray(e)?e.filter(Boolean):[],e1=e=>Zy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(e,t,r)=>{if(!t||!vr(e))return r;const n=(Um(t)?[t]:e1(t)).reduce((s,a)=>bn(s)?s:s[a],e);return mr(n)||n===e?mr(e[t])?r:e[t]:n},Zn=e=>typeof e=="boolean",Pt=(e,t,r)=>{let n=-1;const s=Um(t)?[t]:e1(t),a=s.length,i=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==i){const u=e[l];c=vr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const j0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},t1=oe.createContext(null);t1.displayName="HookFormContext";const Bm=()=>oe.useContext(t1),zB=e=>{const{children:t,...r}=e;return oe.createElement(t1.Provider,{value:r},t)};var bj=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Gs.all&&(t._proxyFormState[i]=!n||Gs.all),r&&(r[i]=!0),e[i]}});return s};const r1=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function WB(e){const t=Bm(),{control:r=t.control,disabled:n,name:s,exact:a}=e||{},[i,l]=oe.useState(r._formState),c=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return r1(()=>r._subscribe({name:s,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,a]),oe.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),oe.useMemo(()=>bj(i,r,c.current,!1),[i,r])}var _a=e=>typeof e=="string",Ej=(e,t,r,n,s)=>_a(e)?(n&&t.watch.add(e),Ne(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ne(r,a))):(n&&(t.watchAll=!0),r),Yx=e=>bn(e)||!wj(e);function Ba(e,t,r=new WeakSet){if(Yx(e)||Yx(t))return e===t;if(Lo(e)&&Lo(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Lo(i)&&Lo(l)||vr(i)&&vr(l)||Array.isArray(i)&&Array.isArray(l)?!Ba(i,l,r):i!==l)return!1}}return!0}function HB(e){const t=Bm(),{control:r=t.control,name:n,defaultValue:s,disabled:a,exact:i,compute:l}=e||{},c=oe.useRef(s),u=oe.useRef(l),d=oe.useRef(void 0);u.current=l;const f=oe.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=oe.useState(u.current?u.current(f):f);return r1(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:g=>{if(!a){const p=Ej(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const x=u.current(p);Ba(x,d.current)||(m(x),d.current=x)}else m(p)}}}),[r,a,n,i]),oe.useEffect(()=>r._removeUnmounted()),h}function KB(e){const t=Bm(),{name:r,disabled:n,control:s=t.control,shouldUnregister:a,defaultValue:i}=e,l=Sj(s._names.array,r),c=oe.useMemo(()=>Ne(s._formValues,r,Ne(s._defaultValues,r,i)),[s,r,i]),u=HB({control:s,name:r,defaultValue:c,exact:!0}),d=WB({control:s,name:r,exact:!0}),f=oe.useRef(e),h=oe.useRef(s.register(r,{...e.rules,value:u,...Zn(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ne(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ne(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ne(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ne(d.errors,r)}}),[d,r]),g=oe.useCallback(y=>h.current.onChange({target:{value:_j(y),name:r},type:j0.CHANGE}),[r]),p=oe.useCallback(()=>h.current.onBlur({target:{value:Ne(s._formValues,r),name:r},type:j0.BLUR}),[r,s._formValues]),x=oe.useCallback(y=>{const w=Ne(s._fields,r);w&&y&&(w._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:S=>y.setCustomValidity(S),reportValidity:()=>y.reportValidity()})},[s._fields,r]),v=oe.useMemo(()=>({name:r,value:u,...Zn(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:p,ref:x}),[r,n,d.disabled,g,p,x,u]);return oe.useEffect(()=>{const y=s._options.shouldUnregister||a;s.register(r,{...f.current.rules,...Zn(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(S,N)=>{const A=Ne(s._fields,S);A&&A._f&&(A._f.mount=N)};if(w(r,!0),y){const S=Rr(Ne(s._options.defaultValues,r));Pt(s._defaultValues,r,S),mr(Ne(s._formValues,r))&&Pt(s._formValues,r,S)}return!l&&s.register(r),()=>{(l?y&&!s._state.action:y)?s.unregister(r):w(r,!1)}},[r,s,l,a]),oe.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),oe.useMemo(()=>({field:v,formState:d,fieldState:m}),[v,d,m])}const GB=e=>e.render(KB(e));var Tj=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},ud=e=>Array.isArray(e)?e:[e],b2=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},In=e=>vr(e)&&!Object.keys(e).length,n1=e=>e.type==="file",Xs=e=>typeof e=="function",k0=e=>{if(!Jy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Cj=e=>e.type==="select-multiple",s1=e=>e.type==="radio",XB=e=>s1(e)||Cf(e),ag=e=>k0(e)&&e.isConnected;function YB(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=mr(e)?n++:e[t[n++]];return e}function QB(e){for(const t in e)if(e.hasOwnProperty(t)&&!mr(e[t]))return!1;return!0}function _r(e,t){const r=Array.isArray(t)?t:Um(t)?[t]:e1(t),n=r.length===1?e:YB(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(vr(n)&&In(n)||Array.isArray(n)&&QB(n))&&_r(e,r.slice(0,-1)),e}var Nj=e=>{for(const t in e)if(Xs(e[t]))return!0;return!1};function A0(e,t={}){const r=Array.isArray(e);if(vr(e)||r)for(const n in e)Array.isArray(e[n])||vr(e[n])&&!Nj(e[n])?(t[n]=Array.isArray(e[n])?[]:{},A0(e[n],t[n])):bn(e[n])||(t[n]=!0);return t}function jj(e,t,r){const n=Array.isArray(e);if(vr(e)||n)for(const s in e)Array.isArray(e[s])||vr(e[s])&&!Nj(e[s])?mr(t)||Yx(r[s])?r[s]=Array.isArray(e[s])?A0(e[s],[]):{...A0(e[s])}:jj(e[s],bn(t)?{}:t[s],r[s]):r[s]=!Ba(e[s],t[s]);return r}var Uu=(e,t)=>jj(e,t,A0(t));const E2={value:!1,isValid:!1},T2={value:!0,isValid:!0};var kj=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!mr(e[0].attributes.value)?mr(e[0].value)||e[0].value===""?T2:{value:e[0].value,isValid:!0}:T2:E2}return E2},Aj=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>mr(e)?e:t?e===""?NaN:e&&+e:r&&_a(e)?new Date(e):n?n(e):e;const C2={isValid:!1,value:null};var Rj=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,C2):C2;function N2(e){const t=e.ref;return n1(t)?t.files:s1(t)?Rj(e.refs).value:Cj(t)?[...t.selectedOptions].map(({value:r})=>r):Cf(t)?kj(e.refs).value:Aj(mr(t.value)?e.ref.value:t.value,e)}var JB=(e,t,r,n)=>{const s={};for(const a of e){const i=Ne(t,a);i&&Pt(s,a,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},R0=e=>e instanceof RegExp,Bu=e=>mr(e)?e:R0(e)?e.source:vr(e)?R0(e.value)?e.value.source:e.value:e,j2=e=>({isOnSubmit:!e||e===Gs.onSubmit,isOnBlur:e===Gs.onBlur,isOnChange:e===Gs.onChange,isOnAll:e===Gs.all,isOnTouch:e===Gs.onTouched});const k2="AsyncFunction";var ZB=e=>!!e&&!!e.validate&&!!(Xs(e.validate)&&e.validate.constructor.name===k2||vr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===k2)),e9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),A2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const dd=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Ne(e,s);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(dd(l,t))break}else if(vr(l)&&dd(l,t))break}}};function R2(e,t,r){const n=Ne(e,r);if(n||Um(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),i=Ne(t,a),l=Ne(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var t9=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return In(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!n||Gs.all))},r9=(e,t,r)=>!e||!t||e===t||ud(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),n9=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,s9=(e,t)=>!Zy(Ne(e,t)).length&&_r(e,t),a9=(e,t,r)=>{const n=ud(Ne(e,r));return Pt(n,"root",t[r]),Pt(e,r,n),e},Bh=e=>_a(e);function P2(e,t,r="validate"){if(Bh(e)||Array.isArray(e)&&e.every(Bh)||Zn(e)&&!e)return{type:r,message:Bh(e)?e:"",ref:t}}var Ll=e=>vr(e)&&!R0(e)?e:{value:e,message:""},O2=async(e,t,r,n,s,a)=>{const{ref:i,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:x,mount:v}=e._f,y=Ne(r,p);if(!v||t.has(p))return{};const w=l?l[0]:i,S=O=>{s&&w.reportValidity&&(w.setCustomValidity(Zn(O)?"":O||""),w.reportValidity())},N={},A=s1(i),b=Cf(i),T=A||b,C=(x||n1(i))&&mr(i.value)&&mr(y)||k0(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,R=Tj.bind(null,p,n,N),I=(O,K,te,le=Oa.maxLength,ue=Oa.minLength)=>{const he=O?K:te;N[p]={type:O?le:ue,message:he,ref:i,...R(O?le:ue,he)}};if(a?!Array.isArray(y)||!y.length:c&&(!T&&(C||bn(y))||Zn(y)&&!y||b&&!kj(l).isValid||A&&!Rj(l).isValid)){const{value:O,message:K}=Bh(c)?{value:!!c,message:c}:Ll(c);if(O&&(N[p]={type:Oa.required,message:K,ref:w,...R(Oa.required,K)},!n))return S(K),N}if(!C&&(!bn(f)||!bn(h))){let O,K;const te=Ll(h),le=Ll(f);if(!bn(y)&&!isNaN(y)){const ue=i.valueAsNumber||y&&+y;bn(te.value)||(O=ue>te.value),bn(le.value)||(K=ue<le.value)}else{const ue=i.valueAsDate||new Date(y),he=ne=>new Date(new Date().toDateString()+" "+ne),L=i.type=="time",U=i.type=="week";_a(te.value)&&y&&(O=L?he(y)>he(te.value):U?y>te.value:ue>new Date(te.value)),_a(le.value)&&y&&(K=L?he(y)<he(le.value):U?y<le.value:ue<new Date(le.value))}if((O||K)&&(I(!!O,te.message,le.message,Oa.max,Oa.min),!n))return S(N[p].message),N}if((u||d)&&!C&&(_a(y)||a&&Array.isArray(y))){const O=Ll(u),K=Ll(d),te=!bn(O.value)&&y.length>+O.value,le=!bn(K.value)&&y.length<+K.value;if((te||le)&&(I(te,O.message,K.message),!n))return S(N[p].message),N}if(m&&!C&&_a(y)){const{value:O,message:K}=Ll(m);if(R0(O)&&!y.match(O)&&(N[p]={type:Oa.pattern,message:K,ref:i,...R(Oa.pattern,K)},!n))return S(K),N}if(g){if(Xs(g)){const O=await g(y,r),K=P2(O,w);if(K&&(N[p]={...K,...R(Oa.validate,K.message)},!n))return S(K.message),N}else if(vr(g)){let O={};for(const K in g){if(!In(O)&&!n)break;const te=P2(await g[K](y,r),w,K);te&&(O={...te,...R(K,te.message)},S(te.message),n&&(N[p]=O))}if(!In(O)&&(N[p]={ref:w,...O},!n))return N}}return S(!0),N};const i9={mode:Gs.onSubmit,reValidateMode:Gs.onChange,shouldFocusError:!0};function o9(e={}){let t={...i9,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=vr(t.defaultValues)||vr(t.values)?Rr(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Rr(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:b2(),state:b2()},m=t.criteriaMode===Gs.all,g=q=>G=>{clearTimeout(u),u=setTimeout(q,G)},p=async q=>{if(!t.disabled&&(d.isValid||f.isValid||q)){const G=t.resolver?In((await b()).errors):await C(n,!0);G!==r.isValid&&h.state.next({isValid:G})}},x=(q,G)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((q||Array.from(l.mount)).forEach(se=>{se&&(G?Pt(r.validatingFields,se,G):_r(r.validatingFields,se))}),h.state.next({validatingFields:r.validatingFields,isValidating:!In(r.validatingFields)}))},v=(q,G=[],se,Ee,xe=!0,ge=!0)=>{if(Ee&&se&&!t.disabled){if(i.action=!0,ge&&Array.isArray(Ne(n,q))){const ke=se(Ne(n,q),Ee.argA,Ee.argB);xe&&Pt(n,q,ke)}if(ge&&Array.isArray(Ne(r.errors,q))){const ke=se(Ne(r.errors,q),Ee.argA,Ee.argB);xe&&Pt(r.errors,q,ke),s9(r.errors,q)}if((d.touchedFields||f.touchedFields)&&ge&&Array.isArray(Ne(r.touchedFields,q))){const ke=se(Ne(r.touchedFields,q),Ee.argA,Ee.argB);xe&&Pt(r.touchedFields,q,ke)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Uu(s,a)),h.state.next({name:q,isDirty:I(q,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Pt(a,q,G)},y=(q,G)=>{Pt(r.errors,q,G),h.state.next({errors:r.errors})},w=q=>{r.errors=q,h.state.next({errors:r.errors,isValid:!1})},S=(q,G,se,Ee)=>{const xe=Ne(n,q);if(xe){const ge=Ne(a,q,mr(se)?Ne(s,q):se);mr(ge)||Ee&&Ee.defaultChecked||G?Pt(a,q,G?ge:N2(xe._f)):te(q,ge),i.mount&&p()}},N=(q,G,se,Ee,xe)=>{let ge=!1,ke=!1;const ot={name:q};if(!t.disabled){if(!se||Ee){(d.isDirty||f.isDirty)&&(ke=r.isDirty,r.isDirty=ot.isDirty=I(),ge=ke!==ot.isDirty);const mt=Ba(Ne(s,q),G);ke=!!Ne(r.dirtyFields,q),mt?_r(r.dirtyFields,q):Pt(r.dirtyFields,q,!0),ot.dirtyFields=r.dirtyFields,ge=ge||(d.dirtyFields||f.dirtyFields)&&ke!==!mt}if(se){const mt=Ne(r.touchedFields,q);mt||(Pt(r.touchedFields,q,se),ot.touchedFields=r.touchedFields,ge=ge||(d.touchedFields||f.touchedFields)&&mt!==se)}ge&&xe&&h.state.next(ot)}return ge?ot:{}},A=(q,G,se,Ee)=>{const xe=Ne(r.errors,q),ge=(d.isValid||f.isValid)&&Zn(G)&&r.isValid!==G;if(t.delayError&&se?(c=g(()=>y(q,se)),c(t.delayError)):(clearTimeout(u),c=null,se?Pt(r.errors,q,se):_r(r.errors,q)),(se?!Ba(xe,se):xe)||!In(Ee)||ge){const ke={...Ee,...ge&&Zn(G)?{isValid:G}:{},errors:r.errors,name:q};r={...r,...ke},h.state.next(ke)}},b=async q=>{x(q,!0);const G=await t.resolver(a,t.context,JB(q||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(q),G},T=async q=>{const{errors:G}=await b(q);if(q)for(const se of q){const Ee=Ne(G,se);Ee?Pt(r.errors,se,Ee):_r(r.errors,se)}else r.errors=G;return G},C=async(q,G,se={valid:!0})=>{for(const Ee in q){const xe=q[Ee];if(xe){const{_f:ge,...ke}=xe;if(ge){const ot=l.array.has(ge.name),mt=xe._f&&ZB(xe._f);mt&&d.validatingFields&&x([Ee],!0);const an=await O2(xe,l.disabled,a,m,t.shouldUseNativeValidation&&!G,ot);if(mt&&d.validatingFields&&x([Ee]),an[ge.name]&&(se.valid=!1,G))break;!G&&(Ne(an,ge.name)?ot?a9(r.errors,an,ge.name):Pt(r.errors,ge.name,an[ge.name]):_r(r.errors,ge.name))}!In(ke)&&await C(ke,G,se)}}return se.valid},R=()=>{for(const q of l.unMount){const G=Ne(n,q);G&&(G._f.refs?G._f.refs.every(se=>!ag(se)):!ag(G._f.ref))&&W(q)}l.unMount=new Set},I=(q,G)=>!t.disabled&&(q&&G&&Pt(a,q,G),!Ba(ne(),s)),O=(q,G,se)=>Ej(q,l,{...i.mount?a:mr(G)?s:_a(q)?{[q]:G}:G},se,G),K=q=>Zy(Ne(i.mount?a:s,q,t.shouldUnregister?Ne(s,q,[]):[])),te=(q,G,se={})=>{const Ee=Ne(n,q);let xe=G;if(Ee){const ge=Ee._f;ge&&(!ge.disabled&&Pt(a,q,Aj(G,ge)),xe=k0(ge.ref)&&bn(G)?"":G,Cj(ge.ref)?[...ge.ref.options].forEach(ke=>ke.selected=xe.includes(ke.value)):ge.refs?Cf(ge.ref)?ge.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(xe)?ke.checked=!!xe.find(ot=>ot===ke.value):ke.checked=xe===ke.value||!!xe)}):ge.refs.forEach(ke=>ke.checked=ke.value===xe):n1(ge.ref)?ge.ref.value="":(ge.ref.value=xe,ge.ref.type||h.state.next({name:q,values:Rr(a)})))}(se.shouldDirty||se.shouldTouch)&&N(q,xe,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&U(q)},le=(q,G,se)=>{for(const Ee in G){if(!G.hasOwnProperty(Ee))return;const xe=G[Ee],ge=q+"."+Ee,ke=Ne(n,ge);(l.array.has(q)||vr(xe)||ke&&!ke._f)&&!Lo(xe)?le(ge,xe,se):te(ge,xe,se)}},ue=(q,G,se={})=>{const Ee=Ne(n,q),xe=l.array.has(q),ge=Rr(G);Pt(a,q,ge),xe?(h.array.next({name:q,values:Rr(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&se.shouldDirty&&h.state.next({name:q,dirtyFields:Uu(s,a),isDirty:I(q,ge)})):Ee&&!Ee._f&&!bn(ge)?le(q,ge,se):te(q,ge,se),A2(q,l)&&h.state.next({...r,name:q}),h.state.next({name:i.mount?q:void 0,values:Rr(a)})},he=async q=>{i.mount=!0;const G=q.target;let se=G.name,Ee=!0;const xe=Ne(n,se),ge=mt=>{Ee=Number.isNaN(mt)||Lo(mt)&&isNaN(mt.getTime())||Ba(mt,Ne(a,se,mt))},ke=j2(t.mode),ot=j2(t.reValidateMode);if(xe){let mt,an;const gs=G.type?N2(xe._f):_j(q),Wn=q.type===j0.BLUR||q.type===j0.FOCUS_OUT,wo=!e9(xe._f)&&!t.resolver&&!Ne(r.errors,se)&&!xe._f.deps||n9(Wn,Ne(r.touchedFields,se),r.isSubmitted,ot,ke),la=A2(se,l,Wn);Pt(a,se,gs),Wn?(xe._f.onBlur&&xe._f.onBlur(q),c&&c(0)):xe._f.onChange&&xe._f.onChange(q);const Hn=N(se,gs,Wn),_o=!In(Hn)||la;if(!Wn&&h.state.next({name:se,type:q.type,values:Rr(a)}),wo)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Wn&&p():Wn||p()),_o&&h.state.next({name:se,...la?{}:Hn});if(!Wn&&la&&h.state.next({...r}),t.resolver){const{errors:Is}=await b([se]);if(ge(gs),Ee){const yu=R2(r.errors,n,se),So=R2(Is,n,yu.name||se);mt=So.error,se=So.name,an=In(Is)}}else x([se],!0),mt=(await O2(xe,l.disabled,a,m,t.shouldUseNativeValidation))[se],x([se]),ge(gs),Ee&&(mt?an=!1:(d.isValid||f.isValid)&&(an=await C(n,!0)));Ee&&(xe._f.deps&&U(xe._f.deps),A(se,an,mt,Hn))}},L=(q,G)=>{if(Ne(r.errors,G)&&q.focus)return q.focus(),1},U=async(q,G={})=>{let se,Ee;const xe=ud(q);if(t.resolver){const ge=await T(mr(q)?q:xe);se=In(ge),Ee=q?!xe.some(ke=>Ne(ge,ke)):se}else q?(Ee=(await Promise.all(xe.map(async ge=>{const ke=Ne(n,ge);return await C(ke&&ke._f?{[ge]:ke}:ke)}))).every(Boolean),!(!Ee&&!r.isValid)&&p()):Ee=se=await C(n);return h.state.next({...!_a(q)||(d.isValid||f.isValid)&&se!==r.isValid?{}:{name:q},...t.resolver||!q?{isValid:se}:{},errors:r.errors}),G.shouldFocus&&!Ee&&dd(n,L,q?xe:l.mount),Ee},ne=q=>{const G={...i.mount?a:s};return mr(q)?G:_a(q)?Ne(G,q):q.map(se=>Ne(G,se))},be=(q,G)=>({invalid:!!Ne((G||r).errors,q),isDirty:!!Ne((G||r).dirtyFields,q),error:Ne((G||r).errors,q),isValidating:!!Ne(r.validatingFields,q),isTouched:!!Ne((G||r).touchedFields,q)}),j=q=>{q&&ud(q).forEach(G=>_r(r.errors,G)),h.state.next({errors:q?r.errors:{}})},H=(q,G,se)=>{const Ee=(Ne(n,q,{_f:{}})._f||{}).ref,xe=Ne(r.errors,q)||{},{ref:ge,message:ke,type:ot,...mt}=xe;Pt(r.errors,q,{...mt,...G,ref:Ee}),h.state.next({name:q,errors:r.errors,isValid:!1}),se&&se.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},B=(q,G)=>Xs(q)?h.state.subscribe({next:se=>"values"in se&&q(O(void 0,G),se)}):O(q,G,!0),z=q=>h.state.subscribe({next:G=>{r9(q.name,G.name,q.exact)&&t9(G,q.formState||d,je,q.reRenderRoot)&&q.callback({values:{...a},...r,...G,defaultValues:s})}}).unsubscribe,ee=q=>(i.mount=!0,f={...f,...q.formState},z({...q,formState:f})),W=(q,G={})=>{for(const se of q?ud(q):l.mount)l.mount.delete(se),l.array.delete(se),G.keepValue||(_r(n,se),_r(a,se)),!G.keepError&&_r(r.errors,se),!G.keepDirty&&_r(r.dirtyFields,se),!G.keepTouched&&_r(r.touchedFields,se),!G.keepIsValidating&&_r(r.validatingFields,se),!t.shouldUnregister&&!G.keepDefaultValue&&_r(s,se);h.state.next({values:Rr(a)}),h.state.next({...r,...G.keepDirty?{isDirty:I()}:{}}),!G.keepIsValid&&p()},ce=({disabled:q,name:G})=>{(Zn(q)&&i.mount||q||l.disabled.has(G))&&(q?l.disabled.add(G):l.disabled.delete(G))},de=(q,G={})=>{let se=Ne(n,q);const Ee=Zn(G.disabled)||Zn(t.disabled);return Pt(n,q,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:q}},name:q,mount:!0,...G}}),l.mount.add(q),se?ce({disabled:Zn(G.disabled)?G.disabled:t.disabled,name:q}):S(q,!0,G.value),{...Ee?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Bu(G.min),max:Bu(G.max),minLength:Bu(G.minLength),maxLength:Bu(G.maxLength),pattern:Bu(G.pattern)}:{},name:q,onChange:he,onBlur:he,ref:xe=>{if(xe){de(q,G),se=Ne(n,q);const ge=mr(xe.value)&&xe.querySelectorAll&&xe.querySelectorAll("input,select,textarea")[0]||xe,ke=XB(ge),ot=se._f.refs||[];if(ke?ot.find(mt=>mt===ge):ge===se._f.ref)return;Pt(n,q,{_f:{...se._f,...ke?{refs:[...ot.filter(ag),ge,...Array.isArray(Ne(s,q))?[{}]:[]],ref:{type:ge.type,name:q}}:{ref:ge}}}),S(q,!1,void 0,ge)}else se=Ne(n,q,{}),se._f&&(se._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(Sj(l.array,q)&&i.action)&&l.unMount.add(q)}}},ie=()=>t.shouldFocusError&&dd(n,L,l.mount),Ie=q=>{Zn(q)&&(h.state.next({disabled:q}),dd(n,(G,se)=>{const Ee=Ne(n,se);Ee&&(G.disabled=Ee._f.disabled||q,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(xe=>{xe.disabled=Ee._f.disabled||q}))},0,!1))},Oe=(q,G)=>async se=>{let Ee;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let xe=Rr(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ge,values:ke}=await b();r.errors=ge,xe=Rr(ke)}else await C(n);if(l.disabled.size)for(const ge of l.disabled)_r(xe,ge);if(_r(r.errors,"root"),In(r.errors)){h.state.next({errors:{}});try{await q(xe,se)}catch(ge){Ee=ge}}else G&&await G({...r.errors},se),ie(),setTimeout(ie);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:In(r.errors)&&!Ee,submitCount:r.submitCount+1,errors:r.errors}),Ee)throw Ee},gt=(q,G={})=>{Ne(n,q)&&(mr(G.defaultValue)?ue(q,Rr(Ne(s,q))):(ue(q,G.defaultValue),Pt(s,q,Rr(G.defaultValue))),G.keepTouched||_r(r.touchedFields,q),G.keepDirty||(_r(r.dirtyFields,q),r.isDirty=G.defaultValue?I(q,Rr(Ne(s,q))):I()),G.keepError||(_r(r.errors,q),d.isValid&&p()),h.state.next({...r}))},Xe=(q,G={})=>{const se=q?Rr(q):s,Ee=Rr(se),xe=In(q),ge=xe?s:Ee;if(G.keepDefaultValues||(s=se),!G.keepValues){if(G.keepDirtyValues){const ke=new Set([...l.mount,...Object.keys(Uu(s,a))]);for(const ot of Array.from(ke))Ne(r.dirtyFields,ot)?Pt(ge,ot,Ne(a,ot)):ue(ot,Ne(ge,ot))}else{if(Jy&&mr(q))for(const ke of l.mount){const ot=Ne(n,ke);if(ot&&ot._f){const mt=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(k0(mt)){const an=mt.closest("form");if(an){an.reset();break}}}}if(G.keepFieldsRef)for(const ke of l.mount)ue(ke,Ne(ge,ke));else n={}}a=t.shouldUnregister?G.keepDefaultValues?Rr(s):{}:Rr(ge),h.array.next({values:{...ge}}),h.state.next({values:{...ge}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!G.keepIsValid||!!G.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:xe?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Ba(q,s)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:xe?{}:G.keepDirtyValues?G.keepDefaultValues&&a?Uu(s,a):r.dirtyFields:G.keepDefaultValues&&q?Uu(s,q):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},yr=(q,G)=>Xe(Xs(q)?q(a):q,G),vt=(q,G={})=>{const se=Ne(n,q),Ee=se&&se._f;if(Ee){const xe=Ee.refs?Ee.refs[0]:Ee.ref;xe.focus&&(xe.focus(),G.shouldSelect&&Xs(xe.select)&&xe.select())}},je=q=>{r={...r,...q}},kr={control:{register:de,unregister:W,getFieldState:be,handleSubmit:Oe,setError:H,_subscribe:z,_runSchema:b,_focusError:ie,_getWatch:O,_getDirty:I,_setValid:p,_setFieldArray:v,_setDisabledField:ce,_setErrors:w,_getFieldArray:K,_reset:Xe,_resetDefaultValues:()=>Xs(t.defaultValues)&&t.defaultValues().then(q=>{yr(q,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Ie,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(q){i=q},get _defaultValues(){return s},get _names(){return l},set _names(q){l=q},get _formState(){return r},get _options(){return t},set _options(q){t={...t,...q}}},subscribe:ee,trigger:U,register:de,handleSubmit:Oe,watch:B,setValue:ue,getValues:ne,reset:yr,resetField:gt,clearErrors:j,unregister:W,setError:H,setFocus:vt,getFieldState:be};return{...kr,formControl:kr}}function ti(e={}){const t=oe.useRef(void 0),r=oe.useRef(void 0),[n,s]=oe.useState({isDirty:!1,isValidating:!1,isLoading:Xs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Xs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Xs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...l}=o9(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,r1(()=>{const i=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,i},[a]),oe.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),oe.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),oe.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),oe.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),oe.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),oe.useEffect(()=>{e.values&&!Ba(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[a,e.values]),oe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=bj(n,a),t.current}const ri=zB,Pj=_.createContext({}),kt=({...e})=>o.jsx(Pj.Provider,{value:{name:e.name},children:o.jsx(GB,{...e})}),$m=()=>{const e=_.useContext(Pj),t=_.useContext(Oj),{getFieldState:r,formState:n}=Bm(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},Oj=_.createContext({}),bt=_.forwardRef(({className:e,...t},r)=>{const n=_.useId();return o.jsx(Oj.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:Fe("space-y-2",e),...t})})});bt.displayName="FormItem";const Et=_.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=$m();return o.jsx(br,{ref:r,className:Fe(n&&"text-destructive",e),htmlFor:s,...t})});Et.displayName="FormLabel";const Tt=_.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=$m();return o.jsx(hT,{ref:t,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...e})});Tt.displayName="FormControl";const l9=_.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=$m();return o.jsx("p",{ref:r,id:n,className:Fe("text-sm text-muted-foreground",e),...t})});l9.displayName="FormDescription";const Ct=_.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:a}=$m(),i=s?String(s==null?void 0:s.message):t;return i?o.jsx("p",{ref:n,id:a,className:Fe("text-sm font-medium text-destructive",e),...r,children:i}):null});Ct.displayName="FormMessage";const I2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ne(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Ij=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?I2(n.ref,r,e):n.refs&&n.refs.forEach(s=>I2(s,r,e))}},c9=(e,t)=>{t.shouldUseNativeValidation&&Ij(e,t);const r={};for(const n in e){const s=Ne(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(u9(t.names||Object.keys(e),n)){const i=Object.assign({},Ne(r,n));Pt(i,"root",a),Pt(r,n,i)}else Pt(r,n,a)}return r},u9=(e,t)=>e.some(r=>r.startsWith(t+"."));var d9=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=Tj(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},ni=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&Ij({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:c9(d9(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}},St;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),i={};for(const l of a)i[l]=s[l];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(St||(St={}));var D2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(D2||(D2={}));const Ue=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wi=e=>{switch(typeof e){case"undefined":return Ue.undefined;case"string":return Ue.string;case"number":return Number.isNaN(e)?Ue.nan:Ue.number;case"boolean":return Ue.boolean;case"function":return Ue.function;case"bigint":return Ue.bigint;case"symbol":return Ue.symbol;case"object":return Array.isArray(e)?Ue.array:e===null?Ue.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ue.promise:typeof Map<"u"&&e instanceof Map?Ue.map:typeof Set<"u"&&e instanceof Set?Ue.set:typeof Date<"u"&&e instanceof Date?Ue.date:Ue.object;default:return Ue.unknown}},ve=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class si extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof si))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}si.create=e=>new si(e);const Qx=(e,t)=>{let r;switch(e.code){case ve.invalid_type:e.received===Ue.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,St.jsonStringifyReplacer)}`;break;case ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${St.joinValues(e.keys,", ")}`;break;case ve.invalid_union:r="Invalid input";break;case ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${St.joinValues(e.options)}`;break;case ve.invalid_enum_value:r=`Invalid enum value. Expected ${St.joinValues(e.options)}, received '${e.received}'`;break;case ve.invalid_arguments:r="Invalid function arguments";break;case ve.invalid_return_type:r="Invalid function return type";break;case ve.invalid_date:r="Invalid date";break;case ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:St.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ve.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ve.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ve.custom:r="Invalid input";break;case ve.invalid_intersection_types:r="Intersection results could not be merged";break;case ve.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ve.not_finite:r="Number must be finite";break;default:r=t.defaultError,St.assertNever(e)}return{message:r}};let f9=Qx;function h9(){return f9}const m9=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function Pe(e,t){const r=h9(),n=m9({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Qx?void 0:Qx].filter(s=>!!s)});e.common.issues.push(n)}class fs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ze;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,i=await s.value;n.push({key:a,value:i})}return fs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return Ze;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),Xu=e=>({status:"dirty",value:e}),Ps=e=>({status:"valid",value:e}),F2=e=>e.status==="aborted",M2=e=>e.status==="dirty",Hc=e=>e.status==="valid",P0=e=>typeof Promise<"u"&&e instanceof Promise;var Be;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Be||(Be={}));class no{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const L2=(e,t)=>{if(Hc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new si(e.common.issues);return this._error=r,this._error}}};function ft(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,l)=>{const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class wt{get description(){return this._def.description}_getType(t){return wi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:wi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new fs,ctx:{common:t.parent.common,data:t.data,parsedType:wi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(P0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wi(t)},s=this._parseSync({data:t,path:n.path,parent:n});return L2(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wi(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Hc(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Hc(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wi(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(P0(s)?s:Promise.resolve(s));return L2(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const i=t(s),l=()=>a.addIssue({code:ve.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Xc({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Xi.create(this,this._def)}nullable(){return Yc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ta.create(this)}promise(){return F0.create(this,this._def)}or(t){return I0.create([this,t],this._def)}and(t){return D0.create(this,t,this._def)}transform(t){return new Xc({...ft(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ev({...ft(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new M9({typeName:et.ZodBranded,type:this,...ft(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new tv({...ft(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return a1.create(this,t)}readonly(){return rv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const p9=/^c[^\s-]{8,}$/i,g9=/^[0-9a-z]+$/,x9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,v9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y9=/^[a-z0-9_-]{21}$/i,w9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,S9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,b9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ig;const E9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,C9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,N9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,j9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,k9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Dj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",A9=new RegExp(`^${Dj}$`);function Fj(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function R9(e){return new RegExp(`^${Fj(e)}$`)}function P9(e){let t=`${Dj}T${Fj(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function O9(e,t){return!!((t==="v4"||!t)&&E9.test(e)||(t==="v6"||!t)&&C9.test(e))}function I9(e,t){if(!w9.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function D9(e,t){return!!((t==="v4"||!t)&&T9.test(e)||(t==="v6"||!t)&&N9.test(e))}class Va extends wt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ue.string){const a=this._getOrReturnCtx(t);return Pe(a,{code:ve.invalid_type,expected:Ue.string,received:a.parsedType}),Ze}const n=new fs;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,l=t.data.length<a.value;(i||l)&&(s=this._getOrReturnCtx(t,s),i?Pe(s,{code:ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pe(s,{code:ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")S9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"email",code:ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")ig||(ig=new RegExp(b9,"u")),ig.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"emoji",code:ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")v9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"uuid",code:ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")y9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"nanoid",code:ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")p9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cuid",code:ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")g9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cuid2",code:ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")x9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"ulid",code:ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Pe(s,{validation:"url",code:ve.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"regex",code:ve.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?P9(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?A9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?R9(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?_9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"duration",code:ve.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?O9(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"ip",code:ve.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?I9(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"jwt",code:ve.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?D9(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cidr",code:ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?j9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"base64",code:ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?k9.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"base64url",code:ve.invalid_string,message:a.message}),n.dirty()):St.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ve.invalid_string,...Be.errToObj(n)})}_addCheck(t){return new Va({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Be.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Be.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Be.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Be.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Be.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Be.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Be.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Be.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Be.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Be.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Be.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Be.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Be.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Be.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Be.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Be.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Be.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Be.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Be.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Be.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Be.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Be.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Be.errToObj(r)})}nonempty(t){return this.min(1,Be.errToObj(t))}trim(){return new Va({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Va({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Va({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Va.create=e=>new Va({checks:[],typeName:et.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ft(e)});function F9(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return a%i/10**s}class cl extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ue.number){const a=this._getOrReturnCtx(t);return Pe(a,{code:ve.invalid_type,expected:Ue.number,received:a.parsedType}),Ze}let n;const s=new fs;for(const a of this._def.checks)a.kind==="int"?St.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:ve.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:ve.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:ve.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?F9(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:ve.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:ve.not_finite,message:a.message}),s.dirty()):St.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Be.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Be.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Be.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Be.toString(r))}setLimit(t,r,n,s){return new cl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Be.toString(s)}]})}_addCheck(t){return new cl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Be.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Be.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Be.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&St.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}cl.create=e=>new cl({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ft(e)});class ul extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ue.bigint)return this._getInvalidInput(t);let n;const s=new fs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:ve.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:ve.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:ve.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):St.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:ve.invalid_type,expected:Ue.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,Be.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Be.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Be.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Be.toString(r))}setLimit(t,r,n,s){return new ul({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Be.toString(s)}]})}_addCheck(t){return new ul({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Be.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ul.create=e=>new ul({checks:[],typeName:et.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ft(e)});class O0 extends wt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ue.boolean){const n=this._getOrReturnCtx(t);return Pe(n,{code:ve.invalid_type,expected:Ue.boolean,received:n.parsedType}),Ze}return Ps(t.data)}}O0.create=e=>new O0({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ft(e)});class Kc extends wt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ue.date){const a=this._getOrReturnCtx(t);return Pe(a,{code:ve.invalid_type,expected:Ue.date,received:a.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Pe(a,{code:ve.invalid_date}),Ze}const n=new fs;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:ve.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):St.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Kc({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Be.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Be.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Kc.create=e=>new Kc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...ft(e)});class U2 extends wt{_parse(t){if(this._getType(t)!==Ue.symbol){const n=this._getOrReturnCtx(t);return Pe(n,{code:ve.invalid_type,expected:Ue.symbol,received:n.parsedType}),Ze}return Ps(t.data)}}U2.create=e=>new U2({typeName:et.ZodSymbol,...ft(e)});class B2 extends wt{_parse(t){if(this._getType(t)!==Ue.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:ve.invalid_type,expected:Ue.undefined,received:n.parsedType}),Ze}return Ps(t.data)}}B2.create=e=>new B2({typeName:et.ZodUndefined,...ft(e)});class $2 extends wt{_parse(t){if(this._getType(t)!==Ue.null){const n=this._getOrReturnCtx(t);return Pe(n,{code:ve.invalid_type,expected:Ue.null,received:n.parsedType}),Ze}return Ps(t.data)}}$2.create=e=>new $2({typeName:et.ZodNull,...ft(e)});class q2 extends wt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ps(t.data)}}q2.create=e=>new q2({typeName:et.ZodAny,...ft(e)});class V2 extends wt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ps(t.data)}}V2.create=e=>new V2({typeName:et.ZodUnknown,...ft(e)});class so extends wt{_parse(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:ve.invalid_type,expected:Ue.never,received:r.parsedType}),Ze}}so.create=e=>new so({typeName:et.ZodNever,...ft(e)});class z2 extends wt{_parse(t){if(this._getType(t)!==Ue.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:ve.invalid_type,expected:Ue.void,received:n.parsedType}),Ze}return Ps(t.data)}}z2.create=e=>new z2({typeName:et.ZodVoid,...ft(e)});class Ta extends wt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Ue.array)return Pe(r,{code:ve.invalid_type,expected:Ue.array,received:r.parsedType}),Ze;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(i||l)&&(Pe(r,{code:i?ve.too_big:ve.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Pe(r,{code:ve.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Pe(r,{code:ve.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>s.type._parseAsync(new no(r,i,r.path,l)))).then(i=>fs.mergeArray(n,i));const a=[...r.data].map((i,l)=>s.type._parseSync(new no(r,i,r.path,l)));return fs.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Ta({...this._def,minLength:{value:t,message:Be.toString(r)}})}max(t,r){return new Ta({...this._def,maxLength:{value:t,message:Be.toString(r)}})}length(t,r){return new Ta({...this._def,exactLength:{value:t,message:Be.toString(r)}})}nonempty(t){return this.min(1,t)}}Ta.create=(e,t)=>new Ta({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...ft(t)});function Wl(e){if(e instanceof lr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Xi.create(Wl(n))}return new lr({...e._def,shape:()=>t})}else return e instanceof Ta?new Ta({...e._def,type:Wl(e.element)}):e instanceof Xi?Xi.create(Wl(e.unwrap())):e instanceof Yc?Yc.create(Wl(e.unwrap())):e instanceof dl?dl.create(e.items.map(t=>Wl(t))):e}class lr extends wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=St.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ue.object){const u=this._getOrReturnCtx(t);return Pe(u,{code:ve.invalid_type,expected:Ue.object,received:u.parsedType}),Ze}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof so&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new no(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof so){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Pe(s,{code:ve.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new no(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>fs.mergeObjectSync(n,u)):fs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Be.errToObj,new lr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i;const s=((i=(a=this._def).errorMap)==null?void 0:i.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Be.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new lr({...this._def,unknownKeys:"strip"})}passthrough(){return new lr({...this._def,unknownKeys:"passthrough"})}extend(t){return new lr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new lr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new lr({...this._def,catchall:t})}pick(t){const r={};for(const n of St.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new lr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of St.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new lr({...this._def,shape:()=>r})}deepPartial(){return Wl(this)}partial(t){const r={};for(const n of St.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new lr({...this._def,shape:()=>r})}required(t){const r={};for(const n of St.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Xi;)a=a._def.innerType;r[n]=a}return new lr({...this._def,shape:()=>r})}keyof(){return Mj(St.objectKeys(this.shape))}}lr.create=(e,t)=>new lr({shape:()=>e,unknownKeys:"strip",catchall:so.create(),typeName:et.ZodObject,...ft(t)});lr.strictCreate=(e,t)=>new lr({shape:()=>e,unknownKeys:"strict",catchall:so.create(),typeName:et.ZodObject,...ft(t)});lr.lazycreate=(e,t)=>new lr({shape:e,unknownKeys:"strip",catchall:so.create(),typeName:et.ZodObject,...ft(t)});class I0 extends wt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=a.map(l=>new si(l.ctx.common.issues));return Pe(r,{code:ve.invalid_union,unionErrors:i}),Ze}if(r.common.async)return Promise.all(n.map(async a=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=i.map(c=>new si(c));return Pe(r,{code:ve.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}I0.create=(e,t)=>new I0({options:e,typeName:et.ZodUnion,...ft(t)});function Jx(e,t){const r=wi(e),n=wi(t);if(e===t)return{valid:!0,data:e};if(r===Ue.object&&n===Ue.object){const s=St.objectKeys(t),a=St.objectKeys(e).filter(l=>s.indexOf(l)!==-1),i={...e,...t};for(const l of a){const c=Jx(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===Ue.array&&n===Ue.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],l=t[a],c=Jx(i,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Ue.date&&n===Ue.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class D0 extends wt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,i)=>{if(F2(a)||F2(i))return Ze;const l=Jx(a.value,i.value);return l.valid?((M2(a)||M2(i))&&r.dirty(),{status:r.value,value:l.data}):(Pe(n,{code:ve.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}D0.create=(e,t,r)=>new D0({left:e,right:t,typeName:et.ZodIntersection,...ft(r)});class dl extends wt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ue.array)return Pe(n,{code:ve.invalid_type,expected:Ue.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return Pe(n,{code:ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(Pe(n,{code:ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new no(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>fs.mergeArray(r,i)):fs.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new dl({...this._def,rest:t})}}dl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dl({items:e,typeName:et.ZodTuple,rest:null,...ft(t)})};class W2 extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ue.map)return Pe(n,{code:ve.invalid_type,expected:Ue.map,received:n.parsedType}),Ze;const s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new no(n,l,n.path,[u,"key"])),value:a._parse(new no(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}W2.create=(e,t,r)=>new W2({valueType:t,keyType:e,typeName:et.ZodMap,...ft(r)});class Kd extends wt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ue.set)return Pe(n,{code:ve.invalid_type,expected:Ue.set,received:n.parsedType}),Ze;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Pe(n,{code:ve.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Pe(n,{code:ve.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new no(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new Kd({...this._def,minSize:{value:t,message:Be.toString(r)}})}max(t,r){return new Kd({...this._def,maxSize:{value:t,message:Be.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Kd.create=(e,t)=>new Kd({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...ft(t)});class H2 extends wt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}H2.create=(e,t)=>new H2({getter:e,typeName:et.ZodLazy,...ft(t)});class Zx extends wt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Pe(r,{received:r.data,code:ve.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}Zx.create=(e,t)=>new Zx({value:e,typeName:et.ZodLiteral,...ft(t)});function Mj(e,t){return new Gc({values:e,typeName:et.ZodEnum,...ft(t)})}class Gc extends wt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{expected:St.joinValues(n),received:r.parsedType,code:ve.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{received:r.data,code:ve.invalid_enum_value,options:n}),Ze}return Ps(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Gc.create(t,{...this._def,...r})}exclude(t,r=this._def){return Gc.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Gc.create=Mj;class K2 extends wt{_parse(t){const r=St.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ue.string&&n.parsedType!==Ue.number){const s=St.objectValues(r);return Pe(n,{expected:St.joinValues(s),received:n.parsedType,code:ve.invalid_type}),Ze}if(this._cache||(this._cache=new Set(St.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=St.objectValues(r);return Pe(n,{received:n.data,code:ve.invalid_enum_value,options:s}),Ze}return Ps(t.data)}get enum(){return this._def.values}}K2.create=(e,t)=>new K2({values:e,typeName:et.ZodNativeEnum,...ft(t)});class F0 extends wt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ue.promise&&r.common.async===!1)return Pe(r,{code:ve.invalid_type,expected:Ue.promise,received:r.parsedType}),Ze;const n=r.parsedType===Ue.promise?r.data:Promise.resolve(r.data);return Ps(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}F0.create=(e,t)=>new F0({type:e,typeName:et.ZodPromise,...ft(t)});class Xc extends wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{Pe(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?Xu(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?Xu(l.value):l}}if(s.type==="refinement"){const i=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Hc(i))return Ze;const l=s.transform(i.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Hc(i)?Promise.resolve(s.transform(i.value,a)).then(l=>({status:r.value,value:l})):Ze);St.assertNever(s)}}Xc.create=(e,t,r)=>new Xc({schema:e,typeName:et.ZodEffects,effect:t,...ft(r)});Xc.createWithPreprocess=(e,t,r)=>new Xc({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...ft(r)});class Xi extends wt{_parse(t){return this._getType(t)===Ue.undefined?Ps(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xi.create=(e,t)=>new Xi({innerType:e,typeName:et.ZodOptional,...ft(t)});class Yc extends wt{_parse(t){return this._getType(t)===Ue.null?Ps(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yc.create=(e,t)=>new Yc({innerType:e,typeName:et.ZodNullable,...ft(t)});class ev extends wt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ue.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ev.create=(e,t)=>new ev({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ft(t)});class tv extends wt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return P0(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new si(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new si(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}tv.create=(e,t)=>new tv({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ft(t)});class G2 extends wt{_parse(t){if(this._getType(t)!==Ue.nan){const n=this._getOrReturnCtx(t);return Pe(n,{code:ve.invalid_type,expected:Ue.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}G2.create=e=>new G2({typeName:et.ZodNaN,...ft(e)});class M9 extends wt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class a1 extends wt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ze:a.status==="dirty"?(r.dirty(),Xu(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ze:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new a1({in:t,out:r,typeName:et.ZodPipeline})}}class rv extends wt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Hc(s)&&(s.value=Object.freeze(s.value)),s);return P0(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}rv.create=(e,t)=>new rv({innerType:e,typeName:et.ZodReadonly,...ft(t)});lr.lazycreate;var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const pr=Va.create;cl.create;ul.create;O0.create;Kc.create;so.create;Ta.create;const wl=lr.create;lr.strictCreate;I0.create;D0.create;dl.create;const X2=Zx.create,qm=Gc.create;F0.create;Xi.create;Yc.create;const L9={string:e=>Va.create({...e,coerce:!0}),number:e=>cl.create({...e,coerce:!0}),boolean:e=>O0.create({...e,coerce:!0}),bigint:e=>ul.create({...e,coerce:!0}),date:e=>Kc.create({...e,coerce:!0})},Qt=({title:e,description:t,variant:r})=>{r==="destructive"?console.error(e,t):console.log(e,t)};function Kt(e,t=25){const[r,n]=_.useState(1),[s,a]=_.useState(t),i=_.useMemo(()=>Array.isArray(e)?e:[],[e]),l=Math.ceil(i.length/s),c=_.useMemo(()=>{const f=(r-1)*s,h=f+s;return i.slice(f,h)},[i,r,s]),u=f=>{n(Math.max(1,Math.min(f,l)))},d=f=>{a(f),n(1)};return{currentPage:r,pageSize:s,totalPages:l,totalItems:i.length,paginatedData:c,handlePageChange:u,handlePageSizeChange:d}}function Lj(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var U9=[" ","Enter","ArrowUp","ArrowDown"],B9=[" ","Enter"],fl="Select",[Vm,zm,$9]=Ky(fl),[mu,xQ]=As(fl,[$9,fo]),Wm=fo(),[q9,go]=mu(fl),[V9,z9]=mu(fl),Uj=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Wm(t),[x,v]=_.useState(null),[y,w]=_.useState(null),[S,N]=_.useState(!1),A=_f(u),[b,T]=to({prop:n,defaultProp:s??!1,onChange:a,caller:fl}),[C,R]=to({prop:i,defaultProp:l,onChange:c,caller:fl}),I=_.useRef(null),O=x?g||!!x.closest("form"):!0,[K,te]=_.useState(new Set),le=Array.from(K).map(ue=>ue.props.value).join(";");return o.jsx(vy,{...p,children:o.jsxs(q9,{required:m,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:ta(),value:C,onValueChange:R,open:b,onOpenChange:T,dir:A,triggerPointerDownPosRef:I,disabled:h,children:[o.jsx(Vm.Provider,{scope:t,children:o.jsx(V9,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(ue=>{te(he=>new Set(he).add(ue))},[]),onNativeOptionRemove:_.useCallback(ue=>{te(he=>{const L=new Set(he);return L.delete(ue),L})},[]),children:r})}),O?o.jsxs(ck,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:ue=>R(ue.target.value),disabled:h,form:g,children:[C===void 0?o.jsx("option",{value:""}):null,Array.from(K)]},le):null]})})};Uj.displayName=fl;var Bj="SelectTrigger",$j=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Wm(r),i=go(Bj,r),l=i.disabled||n,c=dt(t,i.onTriggerChange),u=zm(r),d=_.useRef("touch"),[f,h,m]=dk(p=>{const x=u().filter(w=>!w.disabled),v=x.find(w=>w.value===i.value),y=fk(x,p,v);y!==void 0&&i.onValueChange(y.value)}),g=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(mf,{asChild:!0,...a,children:o.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uk(i.value)?"":void 0,...s,ref:c,onClick:Ce(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ce(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ce(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&U9.includes(p.key)&&(g(),p.preventDefault())})})})});$j.displayName=Bj;var qj="SelectValue",Vj=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=go(qj,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=dt(t,c.onValueNodeChange);return Zr(()=>{u(d)},[u,d]),o.jsx(Ge.span,{...l,ref:f,style:{pointerEvents:"none"},children:uk(c.value)?o.jsx(o.Fragment,{children:i}):a})});Vj.displayName=qj;var W9="SelectIcon",zj=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(Ge.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});zj.displayName=W9;var H9="SelectPortal",Wj=e=>o.jsx(pf,{asChild:!0,...e});Wj.displayName=H9;var hl="SelectContent",Hj=_.forwardRef((e,t)=>{const r=go(hl,e.__scopeSelect),[n,s]=_.useState();if(Zr(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?tu.createPortal(o.jsx(Kj,{scope:e.__scopeSelect,children:o.jsx(Vm.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(Gj,{...e,ref:t})});Hj.displayName=hl;var Bs=10,[Kj,xo]=mu(hl),K9="SelectContentImpl",G9=Ji("SelectContent.RemoveScroll"),Gj=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...v}=e,y=go(hl,r),[w,S]=_.useState(null),[N,A]=_.useState(null),b=dt(t,W=>S(W)),[T,C]=_.useState(null),[R,I]=_.useState(null),O=zm(r),[K,te]=_.useState(!1),le=_.useRef(!1);_.useEffect(()=>{if(w)return Pm(w)},[w]),Rm();const ue=_.useCallback(W=>{const[ce,...de]=O().map(Oe=>Oe.ref.current),[ie]=de.slice(-1),Ie=document.activeElement;for(const Oe of W)if(Oe===Ie||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===ce&&N&&(N.scrollTop=0),Oe===ie&&N&&(N.scrollTop=N.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Ie))return},[O,N]),he=_.useCallback(()=>ue([T,w]),[ue,T,w]);_.useEffect(()=>{K&&he()},[K,he]);const{onOpenChange:L,triggerPointerDownPosRef:U}=y;_.useEffect(()=>{if(w){let W={x:0,y:0};const ce=ie=>{var Ie,Oe;W={x:Math.abs(Math.round(ie.pageX)-(((Ie=U.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((Oe=U.current)==null?void 0:Oe.y)??0))}},de=ie=>{W.x<=10&&W.y<=10?ie.preventDefault():w.contains(ie.target)||L(!1),document.removeEventListener("pointermove",ce),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",de,{capture:!0})}}},[w,L,U]),_.useEffect(()=>{const W=()=>L(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[L]);const[ne,be]=dk(W=>{const ce=O().filter(Ie=>!Ie.disabled),de=ce.find(Ie=>Ie.ref.current===document.activeElement),ie=fk(ce,W,de);ie&&setTimeout(()=>ie.ref.current.focus())}),j=_.useCallback((W,ce,de)=>{const ie=!le.current&&!de;(y.value!==void 0&&y.value===ce||ie)&&(C(W),ie&&(le.current=!0))},[y.value]),H=_.useCallback(()=>w==null?void 0:w.focus(),[w]),B=_.useCallback((W,ce,de)=>{const ie=!le.current&&!de;(y.value!==void 0&&y.value===ce||ie)&&I(W)},[y.value]),z=n==="popper"?nv:Xj,ee=z===nv?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return o.jsx(Kj,{scope:r,content:w,viewport:N,onViewportChange:A,itemRefCallback:j,selectedItem:T,onItemLeave:H,itemTextRefCallback:B,focusSelectedItem:he,selectedItemText:R,position:n,isPositioned:K,searchRef:ne,children:o.jsx(bf,{as:G9,allowPinchZoom:!0,children:o.jsx(Sf,{asChild:!0,trapped:y.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Ce(s,W=>{var ce;(ce=y.trigger)==null||ce.focus({preventScroll:!0}),W.preventDefault()}),children:o.jsx(ru,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(z,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:W=>W.preventDefault(),...v,...ee,onPlaced:()=>te(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ce(v.onKeyDown,W=>{const ce=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!ce&&W.key.length===1&&be(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ie=O().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const Ie=W.target,Oe=ie.indexOf(Ie);ie=ie.slice(Oe+1)}setTimeout(()=>ue(ie)),W.preventDefault()}})})})})})})});Gj.displayName=K9;var X9="SelectItemAlignedPosition",Xj=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=go(hl,r),i=xo(hl,r),[l,c]=_.useState(null),[u,d]=_.useState(null),f=dt(t,b=>d(b)),h=zm(r),m=_.useRef(!1),g=_.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=i,w=_.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&x&&v){const b=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(a.dir!=="rtl"){const Ie=R.left-T.left,Oe=C.left-Ie,gt=b.left-Oe,Xe=b.width+gt,yr=Math.max(Xe,T.width),vt=window.innerWidth-Bs,je=Kx(Oe,[Bs,Math.max(Bs,vt-yr)]);l.style.minWidth=Xe+"px",l.style.left=je+"px"}else{const Ie=T.right-R.right,Oe=window.innerWidth-C.right-Ie,gt=window.innerWidth-b.right-Oe,Xe=b.width+gt,yr=Math.max(Xe,T.width),vt=window.innerWidth-Bs,je=Kx(Oe,[Bs,Math.max(Bs,vt-yr)]);l.style.minWidth=Xe+"px",l.style.right=je+"px"}const I=h(),O=window.innerHeight-Bs*2,K=p.scrollHeight,te=window.getComputedStyle(u),le=parseInt(te.borderTopWidth,10),ue=parseInt(te.paddingTop,10),he=parseInt(te.borderBottomWidth,10),L=parseInt(te.paddingBottom,10),U=le+ue+K+L+he,ne=Math.min(x.offsetHeight*5,U),be=window.getComputedStyle(p),j=parseInt(be.paddingTop,10),H=parseInt(be.paddingBottom,10),B=b.top+b.height/2-Bs,z=O-B,ee=x.offsetHeight/2,W=x.offsetTop+ee,ce=le+ue+W,de=U-ce;if(ce<=B){const Ie=I.length>0&&x===I[I.length-1].ref.current;l.style.bottom="0px";const Oe=u.clientHeight-p.offsetTop-p.offsetHeight,gt=Math.max(z,ee+(Ie?H:0)+Oe+he),Xe=ce+gt;l.style.height=Xe+"px"}else{const Ie=I.length>0&&x===I[0].ref.current;l.style.top="0px";const gt=Math.max(B,le+p.offsetTop+(Ie?j:0)+ee)+de;l.style.height=gt+"px",p.scrollTop=ce-B+p.offsetTop}l.style.margin=`${Bs}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,l,u,p,x,v,a.dir,n]);Zr(()=>w(),[w]);const[S,N]=_.useState();Zr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const A=_.useCallback(b=>{b&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return o.jsx(Q9,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:A,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(Ge.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Xj.displayName=X9;var Y9="SelectPopperPosition",nv=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Bs,...a}=e,i=Wm(r);return o.jsx(wm,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nv.displayName=Y9;var[Q9,i1]=mu(hl,{}),sv="SelectViewport",Yj=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=xo(sv,r),i=i1(sv,r),l=dt(t,a.onViewportChange),c=_.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Vm.Slot,{scope:r,children:o.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ce(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Bs*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(p,x);if(v<g){const y=v+m,w=Math.min(g,y),S=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Yj.displayName=sv;var Qj="SelectGroup",[J9,Z9]=mu(Qj),e7=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ta();return o.jsx(J9,{scope:r,id:s,children:o.jsx(Ge.div,{role:"group","aria-labelledby":s,...n,ref:t})})});e7.displayName=Qj;var Jj="SelectLabel",Zj=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Z9(Jj,r);return o.jsx(Ge.div,{id:s.id,...n,ref:t})});Zj.displayName=Jj;var M0="SelectItem",[t7,ek]=mu(M0),tk=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=go(M0,r),c=xo(M0,r),u=l.value===n,[d,f]=_.useState(a??""),[h,m]=_.useState(!1),g=dt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,s)}),p=ta(),x=_.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(t7,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:_.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(Vm.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(Ge.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:Ce(i.onFocus,()=>m(!0)),onBlur:Ce(i.onBlur,()=>m(!1)),onClick:Ce(i.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:Ce(i.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:Ce(i.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Ce(i.onPointerMove,y=>{var w;x.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(i.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ce(i.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(B9.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});tk.displayName=M0;var Yu="SelectItemText",rk=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=go(Yu,r),l=xo(Yu,r),c=ek(Yu,r),u=z9(Yu,r),[d,f]=_.useState(null),h=dt(t,v=>f(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=_.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return Zr(()=>(p(g),()=>x(g)),[p,x,g]),o.jsxs(o.Fragment,{children:[o.jsx(Ge.span,{id:c.textId,...a,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?tu.createPortal(a.children,i.valueNode):null]})});rk.displayName=Yu;var nk="SelectItemIndicator",sk=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return ek(nk,r).isSelected?o.jsx(Ge.span,{"aria-hidden":!0,...n,ref:t}):null});sk.displayName=nk;var av="SelectScrollUpButton",ak=_.forwardRef((e,t)=>{const r=xo(av,e.__scopeSelect),n=i1(av,e.__scopeSelect),[s,a]=_.useState(!1),i=dt(t,n.onScrollButtonChange);return Zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(ok,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ak.displayName=av;var iv="SelectScrollDownButton",ik=_.forwardRef((e,t)=>{const r=xo(iv,e.__scopeSelect),n=i1(iv,e.__scopeSelect),[s,a]=_.useState(!1),i=dt(t,n.onScrollButtonChange);return Zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(ok,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ik.displayName=iv;var ok=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=xo("SelectScrollButton",r),i=_.useRef(null),l=zm(r),c=_.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Zr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ge.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ce(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ce(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ce(s.onPointerLeave,()=>{c()})})}),r7="SelectSeparator",lk=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Ge.div,{"aria-hidden":!0,...n,ref:t})});lk.displayName=r7;var ov="SelectArrow",n7=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Wm(r),a=go(ov,r),i=xo(ov,r);return a.open&&i.position==="popper"?o.jsx(_m,{...s,...n,ref:t}):null});n7.displayName=ov;var s7="SelectBubbleInput",ck=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=_.useRef(null),a=dt(n,s),i=Lj(t);return _.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(Ge.select,{...r,style:{...BT,...r.style},ref:a,defaultValue:t})});ck.displayName=s7;function uk(e){return e===""||e===void 0}function dk(e){const t=Hr(e),r=_.useRef(""),n=_.useRef(0),s=_.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function fk(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=a7(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function a7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var i7=Uj,hk=$j,o7=Vj,l7=zj,c7=Wj,mk=Hj,u7=Yj,pk=Zj,gk=tk,d7=rk,f7=sk,xk=ak,vk=ik,yk=lk;const dr=i7,fr=o7,rr=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(hk,{ref:n,className:Fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(l7,{asChild:!0,children:o.jsx(Fy,{className:"h-4 w-4 opacity-50"})})]}));rr.displayName=hk.displayName;const wk=_.forwardRef(({className:e,...t},r)=>o.jsx(xk,{ref:r,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(A6,{className:"h-4 w-4"})}));wk.displayName=xk.displayName;const _k=_.forwardRef(({className:e,...t},r)=>o.jsx(vk,{ref:r,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Fy,{className:"h-4 w-4"})}));_k.displayName=vk.displayName;const nr=_.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(c7,{children:o.jsxs(mk,{ref:s,className:Fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(wk,{}),o.jsx(u7,{className:Fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(_k,{})]})}));nr.displayName=mk.displayName;const h7=_.forwardRef(({className:e,...t},r)=>o.jsx(pk,{ref:r,className:Fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));h7.displayName=pk.displayName;const ut=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(gk,{ref:n,className:Fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(f7,{children:o.jsx(jn,{className:"h-4 w-4"})})}),o.jsx(d7,{children:t})]}));ut.displayName=gk.displayName;const m7=_.forwardRef(({className:e,...t},r)=>o.jsx(yk,{ref:r,className:Fe("-mx-1 my-1 h-px bg-muted",e),...t}));m7.displayName=yk.displayName;function qt({currentPage:e,totalPages:t,pageSize:r,totalItems:n,onPageChange:s,onPageSizeChange:a}){const i=n===0?0:(e-1)*r+1,l=Math.min(e*r,n);return o.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx("span",{children:"Rows per page:"}),o.jsxs(dr,{value:r.toString(),onValueChange:c=>a(Number(c)),children:[o.jsx(rr,{className:"h-7 w-16 text-xs",children:o.jsx(fr,{})}),o.jsxs(nr,{children:[o.jsx(ut,{value:"10",children:"10"}),o.jsx(ut,{value:"25",children:"25"}),o.jsx(ut,{value:"50",children:"50"}),o.jsx(ut,{value:"100",children:"100"})]})]}),o.jsxs("span",{className:"ml-2",children:[i,"-",l," of ",n]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(we,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>s(1),disabled:e===1,children:o.jsx(R6,{className:"h-3 w-3"})}),o.jsx(we,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>s(e-1),disabled:e===1,children:o.jsx(k6,{className:"h-3 w-3"})}),o.jsxs("span",{className:"text-xs px-2",children:["Page ",e," of ",t||1]}),o.jsx(we,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>s(e+1),disabled:e>=t,children:o.jsx(WC,{className:"h-3 w-3"})}),o.jsx(we,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>s(t),disabled:e>=t,children:o.jsx(P6,{className:"h-3 w-3"})})]})]})}var lv=["Enter"," "],p7=["ArrowDown","PageUp","Home"],Sk=["ArrowUp","PageDown","End"],g7=[...p7,...Sk],x7={ltr:[...lv,"ArrowRight"],rtl:[...lv,"ArrowLeft"]},v7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nf="Menu",[Gd,y7,w7]=Ky(Nf),[_l,bk]=As(Nf,[w7,fo,Dm]),Hm=fo(),Ek=Dm(),[_7,Sl]=_l(Nf),[S7,jf]=_l(Nf),Tk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=Hm(t),[c,u]=_.useState(null),d=_.useRef(!1),f=Hr(a),h=_f(s);return _.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(vy,{...l,children:o.jsx(_7,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(S7,{scope:t,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};Tk.displayName=Nf;var b7="MenuAnchor",o1=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Hm(r);return o.jsx(mf,{...s,...n,ref:t})});o1.displayName=b7;var l1="MenuPortal",[E7,Ck]=_l(l1,{forceMount:void 0}),Nk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Sl(l1,t);return o.jsx(E7,{scope:t,forceMount:r,children:o.jsx(xn,{present:r||a.open,children:o.jsx(pf,{asChild:!0,container:s,children:n})})})};Nk.displayName=l1;var Ns="MenuContent",[T7,c1]=_l(Ns),jk=_.forwardRef((e,t)=>{const r=Ck(Ns,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Sl(Ns,e.__scopeMenu),i=jf(Ns,e.__scopeMenu);return o.jsx(Gd.Provider,{scope:e.__scopeMenu,children:o.jsx(xn,{present:n||a.open,children:o.jsx(Gd.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(C7,{...s,ref:t}):o.jsx(N7,{...s,ref:t})})})})}),C7=_.forwardRef((e,t)=>{const r=Sl(Ns,e.__scopeMenu),n=_.useRef(null),s=dt(t,n);return _.useEffect(()=>{const a=n.current;if(a)return Pm(a)},[]),o.jsx(u1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ce(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),N7=_.forwardRef((e,t)=>{const r=Sl(Ns,e.__scopeMenu);return o.jsx(u1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),j7=Ji("MenuContent.ScrollLock"),u1=_.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,x=Sl(Ns,r),v=jf(Ns,r),y=Hm(r),w=Ek(r),S=y7(r),[N,A]=_.useState(null),b=_.useRef(null),T=dt(t,b,x.onContentChange),C=_.useRef(0),R=_.useRef(""),I=_.useRef(0),O=_.useRef(null),K=_.useRef("right"),te=_.useRef(0),le=g?bf:_.Fragment,ue=g?{as:j7,allowPinchZoom:!0}:void 0,he=U=>{var W,ce;const ne=R.current+U,be=S().filter(de=>!de.disabled),j=document.activeElement,H=(W=be.find(de=>de.ref.current===j))==null?void 0:W.textValue,B=be.map(de=>de.textValue),z=B7(B,ne,H),ee=(ce=be.find(de=>de.textValue===z))==null?void 0:ce.ref.current;(function de(ie){R.current=ie,window.clearTimeout(C.current),ie!==""&&(C.current=window.setTimeout(()=>de(""),1e3))})(ne),ee&&setTimeout(()=>ee.focus())};_.useEffect(()=>()=>window.clearTimeout(C.current),[]),Rm();const L=_.useCallback(U=>{var be,j;return K.current===((be=O.current)==null?void 0:be.side)&&q7(U,(j=O.current)==null?void 0:j.area)},[]);return o.jsx(T7,{scope:r,searchRef:R,onItemEnter:_.useCallback(U=>{L(U)&&U.preventDefault()},[L]),onItemLeave:_.useCallback(U=>{var ne;L(U)||((ne=b.current)==null||ne.focus(),A(null))},[L]),onTriggerLeave:_.useCallback(U=>{L(U)&&U.preventDefault()},[L]),pointerGraceTimerRef:I,onPointerGraceIntentChange:_.useCallback(U=>{O.current=U},[]),children:o.jsx(le,{...ue,children:o.jsx(Sf,{asChild:!0,trapped:s,onMountAutoFocus:Ce(a,U=>{var ne;U.preventDefault(),(ne=b.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(ru,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(MN,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:A,onEntryFocus:Ce(c,U=>{v.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(wm,{role:"menu","aria-orientation":"vertical","data-state":zk(x.open),"data-radix-menu-content":"",dir:v.dir,...y,...p,ref:T,style:{outline:"none",...p.style},onKeyDown:Ce(p.onKeyDown,U=>{const be=U.target.closest("[data-radix-menu-content]")===U.currentTarget,j=U.ctrlKey||U.altKey||U.metaKey,H=U.key.length===1;be&&(U.key==="Tab"&&U.preventDefault(),!j&&H&&he(U.key));const B=b.current;if(U.target!==B||!g7.includes(U.key))return;U.preventDefault();const ee=S().filter(W=>!W.disabled).map(W=>W.ref.current);Sk.includes(U.key)&&ee.reverse(),L7(ee)}),onBlur:Ce(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:Ce(e.onPointerMove,Xd(U=>{const ne=U.target,be=te.current!==U.clientX;if(U.currentTarget.contains(ne)&&be){const j=U.clientX>te.current?"right":"left";K.current=j,te.current=U.clientX}}))})})})})})})});jk.displayName=Ns;var k7="MenuGroup",d1=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Ge.div,{role:"group",...n,ref:t})});d1.displayName=k7;var A7="MenuLabel",kk=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Ge.div,{...n,ref:t})});kk.displayName=A7;var L0="MenuItem",Y2="menu.itemSelect",Km=_.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=_.useRef(null),i=jf(L0,e.__scopeMenu),l=c1(L0,e.__scopeMenu),c=dt(t,a),u=_.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(Y2,{bubbles:!0,cancelable:!0});f.addEventListener(Y2,m=>n==null?void 0:n(m),{once:!0}),pT(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(Ak,{...s,ref:c,disabled:r,onClick:Ce(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ce(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ce(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||lv.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Km.displayName=L0;var Ak=_.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=c1(L0,r),l=Ek(r),c=_.useRef(null),u=dt(t,c),[d,f]=_.useState(!1),[h,m]=_.useState("");return _.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[a.children]),o.jsx(Gd.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:o.jsx(LN,{asChild:!0,...l,focusable:!n,children:o.jsx(Ge.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Ce(e.onPointerMove,Xd(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(e.onPointerLeave,Xd(g=>i.onItemLeave(g))),onFocus:Ce(e.onFocus,()=>f(!0)),onBlur:Ce(e.onBlur,()=>f(!1))})})})}),R7="MenuCheckboxItem",Rk=_.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(Fk,{scope:e.__scopeMenu,checked:r,children:o.jsx(Km,{role:"menuitemcheckbox","aria-checked":U0(r)?"mixed":r,...s,ref:t,"data-state":h1(r),onSelect:Ce(s.onSelect,()=>n==null?void 0:n(U0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Rk.displayName=R7;var Pk="MenuRadioGroup",[P7,O7]=_l(Pk,{value:void 0,onValueChange:()=>{}}),Ok=_.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Hr(n);return o.jsx(P7,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(d1,{...s,ref:t})})});Ok.displayName=Pk;var Ik="MenuRadioItem",Dk=_.forwardRef((e,t)=>{const{value:r,...n}=e,s=O7(Ik,e.__scopeMenu),a=r===s.value;return o.jsx(Fk,{scope:e.__scopeMenu,checked:a,children:o.jsx(Km,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":h1(a),onSelect:Ce(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});Dk.displayName=Ik;var f1="MenuItemIndicator",[Fk,I7]=_l(f1,{checked:!1}),Mk=_.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=I7(f1,r);return o.jsx(xn,{present:n||U0(a.checked)||a.checked===!0,children:o.jsx(Ge.span,{...s,ref:t,"data-state":h1(a.checked)})})});Mk.displayName=f1;var D7="MenuSeparator",Lk=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Ge.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Lk.displayName=D7;var F7="MenuArrow",Uk=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Hm(r);return o.jsx(_m,{...s,...n,ref:t})});Uk.displayName=F7;var M7="MenuSub",[vQ,Bk]=_l(M7),Qu="MenuSubTrigger",$k=_.forwardRef((e,t)=>{const r=Sl(Qu,e.__scopeMenu),n=jf(Qu,e.__scopeMenu),s=Bk(Qu,e.__scopeMenu),a=c1(Qu,e.__scopeMenu),i=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=_.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return _.useEffect(()=>d,[d]),_.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(o1,{asChild:!0,...u,children:o.jsx(Ak,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":zk(r.open),...e,ref:gm(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ce(e.onPointerMove,Xd(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ce(e.onPointerLeave,Xd(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,x=p==="right",v=x?-5:5,y=h[x?"left":"right"],w=h[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||x7[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});$k.displayName=Qu;var qk="MenuSubContent",Vk=_.forwardRef((e,t)=>{const r=Ck(Ns,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Sl(Ns,e.__scopeMenu),i=jf(Ns,e.__scopeMenu),l=Bk(qk,e.__scopeMenu),c=_.useRef(null),u=dt(t,c);return o.jsx(Gd.Provider,{scope:e.__scopeMenu,children:o.jsx(xn,{present:n||a.open,children:o.jsx(Gd.Slot,{scope:e.__scopeMenu,children:o.jsx(u1,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ce(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ce(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Ce(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=v7[i.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});Vk.displayName=qk;function zk(e){return e?"open":"closed"}function U0(e){return e==="indeterminate"}function h1(e){return U0(e)?"indeterminate":e?"checked":"unchecked"}function L7(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function U7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function B7(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=U7(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function $7(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function q7(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return $7(r,t)}function Xd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var V7=Tk,z7=o1,W7=Nk,H7=jk,K7=d1,G7=kk,X7=Km,Y7=Rk,Q7=Ok,J7=Dk,Z7=Mk,e$=Lk,t$=Uk,r$=$k,n$=Vk,Gm="DropdownMenu",[s$,yQ]=As(Gm,[bk]),Rn=bk(),[a$,Wk]=s$(Gm),Hk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Rn(t),u=_.useRef(null),[d,f]=to({prop:s,defaultProp:a??!1,onChange:i,caller:Gm});return o.jsx(a$,{scope:t,triggerId:ta(),triggerRef:u,contentId:ta(),open:d,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(V7,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};Hk.displayName=Gm;var Kk="DropdownMenuTrigger",Gk=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=Wk(Kk,r),i=Rn(r);return o.jsx(z7,{asChild:!0,...i,children:o.jsx(Ge.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:gm(t,a.triggerRef),onPointerDown:Ce(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ce(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Gk.displayName=Kk;var i$="DropdownMenuPortal",Xk=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Rn(t);return o.jsx(W7,{...n,...r})};Xk.displayName=i$;var Yk="DropdownMenuContent",Qk=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Wk(Yk,r),a=Rn(r),i=_.useRef(!1);return o.jsx(H7,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Ce(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qk.displayName=Yk;var o$="DropdownMenuGroup",l$=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(K7,{...s,...n,ref:t})});l$.displayName=o$;var c$="DropdownMenuLabel",Jk=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(G7,{...s,...n,ref:t})});Jk.displayName=c$;var u$="DropdownMenuItem",Zk=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(X7,{...s,...n,ref:t})});Zk.displayName=u$;var d$="DropdownMenuCheckboxItem",eA=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Y7,{...s,...n,ref:t})});eA.displayName=d$;var f$="DropdownMenuRadioGroup",h$=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Q7,{...s,...n,ref:t})});h$.displayName=f$;var m$="DropdownMenuRadioItem",tA=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(J7,{...s,...n,ref:t})});tA.displayName=m$;var p$="DropdownMenuItemIndicator",rA=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(Z7,{...s,...n,ref:t})});rA.displayName=p$;var g$="DropdownMenuSeparator",nA=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(e$,{...s,...n,ref:t})});nA.displayName=g$;var x$="DropdownMenuArrow",v$=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(t$,{...s,...n,ref:t})});v$.displayName=x$;var y$="DropdownMenuSubTrigger",sA=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(r$,{...s,...n,ref:t})});sA.displayName=y$;var w$="DropdownMenuSubContent",aA=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return o.jsx(n$,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aA.displayName=w$;var _$=Hk,S$=Gk,b$=Xk,iA=Qk,oA=Jk,lA=Zk,cA=eA,uA=tA,dA=rA,fA=nA,hA=sA,mA=aA;const m1=_$,p1=S$,E$=_.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(hA,{ref:s,className:Fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(WC,{className:"ml-auto h-4 w-4"})]}));E$.displayName=hA.displayName;const T$=_.forwardRef(({className:e,...t},r)=>o.jsx(mA,{ref:r,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));T$.displayName=mA.displayName;const Xm=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(b$,{children:o.jsx(iA,{ref:n,sideOffset:t,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Xm.displayName=iA.displayName;const ml=_.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(lA,{ref:n,className:Fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ml.displayName=lA.displayName;const C$=_.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(cA,{ref:s,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(dA,{children:o.jsx(jn,{className:"h-4 w-4"})})}),t]}));C$.displayName=cA.displayName;const N$=_.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(uA,{ref:n,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(dA,{children:o.jsx(I6,{className:"h-2 w-2 fill-current"})})}),t]}));N$.displayName=uA.displayName;const j$=_.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(oA,{ref:n,className:Fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));j$.displayName=oA.displayName;const k$=_.forwardRef(({className:e,...t},r)=>o.jsx(fA,{ref:r,className:Fe("-mx-1 my-1 h-px bg-muted",e),...t}));k$.displayName=fA.displayName;const Q2=wl({id:pr().optional(),name:pr().min(3,"College name must be at least 3 characters long")}),A$=async()=>{const{data:e,error:t}=await X.from("colleges").select("*").order("name");if(t)throw new Error(t.message);return e};function pA(){const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[s,a]=_.useState(null),i=Vt(),{data:l,isLoading:c}=Le({queryKey:["colleges"],queryFn:A$}),u=ti({resolver:ni(Q2),defaultValues:{name:""}}),d=ti({resolver:ni(Q2),defaultValues:{id:"",name:""}});_.useEffect(()=>{s&&d.reset({id:s.id,name:s.name})},[s,d]);const f=nt({mutationFn:async C=>{const{data:R,error:I}=await X.from("colleges").insert([{name:C.name}]).select();if(I)throw new Error(I.message);return R},onSuccess:()=>{i.invalidateQueries({queryKey:["colleges"]}),Qt({title:"Success",description:"College created successfully."}),t(!1),u.reset()},onError:C=>{Qt({title:"Error",description:C.message,variant:"destructive"})}}),h=nt({mutationFn:async C=>{if(!C.id)throw new Error("College ID is missing for update.");const{data:R,error:I}=await X.from("colleges").update({name:C.name}).eq("id",C.id).select();if(I)throw new Error(I.message);return R},onSuccess:()=>{i.invalidateQueries({queryKey:["colleges"]}),Qt({title:"Success",description:"College updated successfully."}),n(!1),a(null)},onError:C=>{Qt({title:"Error",description:C.message,variant:"destructive"})}}),m=nt({mutationFn:async C=>{const{error:R}=await X.from("colleges").delete().eq("id",C);if(R)throw new Error(R.message);return C},onSuccess:()=>{i.invalidateQueries({queryKey:["colleges"]}),Qt({title:"Success",description:"College deleted successfully."})},onError:C=>{Qt({title:"Error",description:C.message,variant:"destructive"})}}),g=C=>{confirm("Are you sure you want to delete this college?")&&m.mutate(C)},p=C=>{a(C),n(!0)},x=C=>{f.mutate(C)},v=C=>{h.mutate(C)},{paginatedData:y,currentPage:w,pageSize:S,totalPages:N,totalItems:A,handlePageChange:b,handlePageSizeChange:T}=Kt(l||[],25);return o.jsxs(Qe,{children:[o.jsxs(tt,{className:"flex flex-row items-center justify-between",children:[o.jsx(rt,{children:"Manage Colleges"}),o.jsxs(gn,{open:e,onOpenChange:t,children:[o.jsx(Lm,{asChild:!0,children:o.jsxs(we,{size:"sm",children:[o.jsx(My,{className:"h-4 w-4 mr-2"}),"New College"]})}),o.jsxs(en,{children:[o.jsx(tn,{children:o.jsx(rn,{children:"Create a New College"})}),o.jsx(ri,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(x),className:"space-y-4",children:[o.jsx(kt,{control:u.control,name:"name",render:({field:C})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"College Name"}),o.jsx(Tt,{children:o.jsx(xt,{placeholder:"e.g., College of Technology",...C})}),o.jsx(Ct,{})]})}),o.jsx(ds,{children:o.jsx(we,{type:"submit",disabled:f.isPending,children:f.isPending?"Creating...":"Create College"})})]})})]})]}),o.jsx(gn,{open:r,onOpenChange:C=>{n(C),C||(a(null),d.reset())},children:o.jsxs(en,{children:[o.jsx(tn,{children:o.jsx(rn,{children:"Edit College"})}),o.jsx(ri,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(v),className:"space-y-4",children:[o.jsx(kt,{control:d.control,name:"name",render:({field:C})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"College Name"}),o.jsx(Tt,{children:o.jsx(xt,{...C})}),o.jsx(Ct,{})]})}),o.jsx(ds,{children:o.jsx(we,{type:"submit",disabled:h.isPending,children:h.isPending?"Saving...":"Save Changes"})})]})})]})})]}),o.jsx(Je,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"College Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Created"}),o.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[c?o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"px-2 py-4 text-center text-gray-500",children:"Loading colleges..."})}):y.map(C=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 font-medium text-sm",children:C.name}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(C.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-2 py-1 text-right",children:o.jsxs(m1,{children:[o.jsx(p1,{asChild:!0,children:o.jsx(we,{variant:"ghost",className:"h-6 w-6 p-0",children:o.jsx(Ly,{className:"h-3 w-3"})})}),o.jsxs(Xm,{align:"end",children:[o.jsxs(ml,{onClick:()=>p(C),children:[o.jsx(wf,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsx(ml,{className:"text-destructive",onClick:()=>g(C.id),children:"Delete"})]})]})})]},C.id)),!c&&(!l||l.length===0)&&o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"px-2 py-4 text-center text-gray-500",children:"No colleges found"})})]})]}),l&&l.length>0&&o.jsx(qt,{currentPage:w,totalPages:N,pageSize:S,totalItems:A,onPageChange:b,onPageSizeChange:T})]})})]})}const J2=wl({id:pr().optional(),name:pr().min(3,"Department name must be at least 3 characters long"),college_id:pr().uuid("Please select a college")}),R$=async()=>{const{data:e,error:t}=await X.from("departments").select("*, colleges(name)").order("name");if(t)throw new Error(t.message);return e},P$=async()=>{const{data:e,error:t}=await X.from("colleges").select("id, name").order("name");if(t)throw new Error(t.message);return e};function gA(){const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[s,a]=_.useState(null),i=Vt(),{data:l,isLoading:c}=Le({queryKey:["departments"],queryFn:R$}),{data:u,isLoading:d}=Le({queryKey:["colleges"],queryFn:P$}),f=ti({resolver:ni(J2),defaultValues:{name:"",college_id:""}}),h=ti({resolver:ni(J2),defaultValues:{id:"",name:"",college_id:""}});_.useEffect(()=>{s&&h.reset({id:s.id,name:s.name,college_id:s.colleges&&s.college_id||""})},[s,h]);const m=nt({mutationFn:async I=>{const{data:O,error:K}=await X.from("departments").insert([I]).select();if(K)throw new Error(K.message);return O},onSuccess:()=>{i.invalidateQueries({queryKey:["departments"]}),Qt({title:"Success",description:"Department created successfully."}),t(!1),f.reset()},onError:I=>{Qt({title:"Error",description:I.message,variant:"destructive"})}}),g=nt({mutationFn:async I=>{if(!I.id)throw new Error("Department ID is missing for update.");const{data:O,error:K}=await X.from("departments").update({name:I.name,college_id:I.college_id}).eq("id",I.id).select();if(K)throw new Error(K.message);return O},onSuccess:()=>{i.invalidateQueries({queryKey:["departments"]}),Qt({title:"Success",description:"Department updated successfully."}),n(!1),a(null)},onError:I=>{Qt({title:"Error",description:I.message,variant:"destructive"})}}),p=nt({mutationFn:async I=>{const{error:O}=await X.from("departments").delete().eq("id",I);if(O)throw new Error(O.message);return I},onSuccess:()=>{i.invalidateQueries({queryKey:["departments"]}),Qt({title:"Success",description:"Department deleted successfully."})},onError:I=>{Qt({title:"Error",description:I.message,variant:"destructive"})}}),x=I=>{confirm("Are you sure you want to delete this department?")&&p.mutate(I)},v=I=>{a(I),n(!0)},y=I=>{m.mutate(I)},w=I=>{g.mutate(I)},{paginatedData:S,currentPage:N,pageSize:A,totalPages:b,totalItems:T,handlePageChange:C,handlePageSizeChange:R}=Kt(l||[],25);return o.jsxs(Qe,{children:[o.jsxs(tt,{className:"flex flex-row items-center justify-between",children:[o.jsx(rt,{children:"Manage Departments"}),o.jsxs(gn,{open:e,onOpenChange:t,children:[o.jsx(Lm,{asChild:!0,children:o.jsxs(we,{size:"sm",disabled:d,children:[o.jsx(My,{className:"h-4 w-4 mr-2"}),"New Department"]})}),o.jsxs(en,{children:[o.jsx(tn,{children:o.jsx(rn,{children:"Create a New Department"})}),o.jsx(ri,{...f,children:o.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-4",children:[o.jsx(kt,{control:f.control,name:"name",render:({field:I})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Department Name"}),o.jsx(Tt,{children:o.jsx(xt,{placeholder:"e.g., Computer Science",...I})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:f.control,name:"college_id",render:({field:I})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"College"}),o.jsxs(dr,{onValueChange:I.onChange,defaultValue:I.value,children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:"Select a college"})})}),o.jsx(nr,{children:u==null?void 0:u.map(O=>o.jsx(ut,{value:O.id,children:O.name},O.id))})]}),o.jsx(Ct,{})]})}),o.jsx(ds,{children:o.jsx(we,{type:"submit",disabled:m.isPending,children:m.isPending?"Creating...":"Create Department"})})]})})]})]}),o.jsx(gn,{open:r,onOpenChange:I=>{n(I),I||(a(null),h.reset())},children:o.jsxs(en,{children:[o.jsx(tn,{children:o.jsx(rn,{children:"Edit Department"})}),o.jsx(ri,{...h,children:o.jsxs("form",{onSubmit:h.handleSubmit(w),className:"space-y-4",children:[o.jsx(kt,{control:h.control,name:"name",render:({field:I})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Department Name"}),o.jsx(Tt,{children:o.jsx(xt,{...I})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:h.control,name:"college_id",render:({field:I})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"College"}),o.jsxs(dr,{onValueChange:I.onChange,value:I.value,children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:"Select a college"})})}),o.jsx(nr,{children:u==null?void 0:u.map(O=>o.jsx(ut,{value:O.id,children:O.name},O.id))})]}),o.jsx(Ct,{})]})}),o.jsx(ds,{children:o.jsx(we,{type:"submit",disabled:g.isPending,children:g.isPending?"Saving...":"Save Changes"})})]})})]})})]}),o.jsx(Je,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"College"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Created"}),o.jsx("th",{className:"px-2 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[c?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-2 py-4 text-center text-gray-500",children:"Loading departments..."})}):S.map(I=>{var O;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 font-medium text-sm",children:I.name}),o.jsx("td",{className:"px-2 py-1 text-sm",children:((O=I.colleges)==null?void 0:O.name)||"N/A"}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(I.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-2 py-1 text-right",children:o.jsxs(m1,{children:[o.jsx(p1,{asChild:!0,children:o.jsx(we,{variant:"ghost",className:"h-6 w-6 p-0",children:o.jsx(Ly,{className:"h-3 w-3"})})}),o.jsxs(Xm,{align:"end",children:[o.jsxs(ml,{onClick:()=>v(I),children:[o.jsx(wf,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsx(ml,{className:"text-destructive",onClick:()=>x(I.id),children:"Delete"})]})]})})]},I.id)}),!c&&(!l||l.length===0)&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-2 py-4 text-center text-gray-500",children:"No departments found"})})]})]}),l&&l.length>0&&o.jsx(qt,{currentPage:N,totalPages:b,pageSize:A,totalItems:T,onPageChange:C,onPageSizeChange:R})]})})]})}const sn=()=>({toast:({title:e,description:t,variant:r})=>{r==="destructive"?console.error(e,t):console.log(e,t)}}),xA=async()=>{const{data:e,error:t}=await X.from("profiles").select("*, colleges(name), departments(name)");if(t)throw new Error(t.message);return await Promise.all((e||[]).map(async n=>{const{data:s}=await X.rpc("get_user_email",{user_id:n.id});return{...n,email:s||"No email found"}}))},Z2=wl({id:pr().optional(),full_name:pr().min(3,"Full name is required"),email:pr().email("Invalid email address").optional(),password:pr().min(8,"Password must be at least 8 characters").optional().or(X2("")),confirm_password:pr().optional().or(X2("")),role:qm(["admin","college_dean","department_head","storekeeper","staff"]),college_id:pr().uuid().optional().nullable(),department_id:pr().uuid().optional().nullable()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}).refine(e=>e.id?!0:!!e.email,{message:"Email is required for new users",path:["email"]}),O$=async()=>(await X.from("colleges").select("id, name")).data,I$=async()=>(await X.from("departments").select("id, name, college_id")).data;function vA(){const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[s,a]=_.useState(null),i=Vt(),{toast:l}=sn(),c=ti({resolver:ni(Z2),defaultValues:{full_name:"",email:"",password:"",confirm_password:"",role:"staff",college_id:null,department_id:null}}),u=c.watch("college_id"),d=ti({resolver:ni(Z2),defaultValues:{id:"",full_name:"",role:"staff",college_id:null,department_id:null,password:"",confirm_password:""}}),f=d.watch("college_id"),{data:h,isLoading:m}=Le({queryKey:["profiles"],queryFn:xA}),{data:g}=Le({queryKey:["colleges"],queryFn:O$}),{data:p}=Le({queryKey:["departments"],queryFn:I$}),[x,v]=_.useState([]),[y,w]=_.useState([]);_.useEffect(()=>{v(u&&p?p.filter(L=>L.college_id===u):[])},[u,p]),_.useEffect(()=>{w(f&&p?p.filter(L=>L.college_id===f):[])},[f,p]),_.useEffect(()=>{s&&(async()=>{const{data:U,error:ne}=await X.from("profiles").select("id").eq("id",s.id).single();if(!ne){const{data:be}=await X.rpc("get_user_email",{user_id:s.id});d.reset({id:s.id,full_name:s.full_name,email:be||"",role:s.role,college_id:s.college_id,department_id:s.department_id,password:"",confirm_password:""})}})()},[s,d]);const S=nt({mutationFn:async L=>{if(!L.password)throw new Error("Password is required for new user creation.");const{data:U,error:ne}=await X.rpc("create_new_user",{user_email:L.email,user_password:L.password,user_full_name:L.full_name,user_role:L.role,user_college_id:L.college_id||null,user_department_id:L.department_id||null});if(ne)throw console.error("RPC error:",ne),new Error(ne.message||"Failed to create user");if(!U.success)throw new Error(U.error||"Failed to create user");return U},onSuccess:()=>{i.invalidateQueries({queryKey:["profiles"]}),l({title:"Success",description:"User created successfully."}),t(!1),c.reset()},onError:L=>{l({title:"Error Creating User",description:L.message,variant:"destructive"})}}),N=nt({mutationFn:async L=>{if(!L.id)throw new Error("User ID is missing for update.");if(L.email){const{error:ne}=await X.rpc("update_user_email",{user_id_input:L.id,new_email:L.email});if(ne)throw new Error(`Email update failed: ${ne.message}`)}if(L.password){const{error:ne}=await X.rpc("update_user_password",{user_id_input:L.id,new_password:L.password});if(ne)throw new Error(`Password update failed: ${ne.message}`)}const{error:U}=await X.from("profiles").update({full_name:L.full_name,role:L.role,college_id:L.college_id,department_id:L.department_id}).eq("id",L.id);if(U)throw new Error(U.message);return L},onSuccess:()=>{i.invalidateQueries({queryKey:["profiles"]}),l({title:"Success",description:"User updated successfully."}),n(!1),a(null)},onError:L=>{l({title:"Error Updating User",description:L.message,variant:"destructive"})}}),A=nt({mutationFn:async L=>{const{error:U}=await X.from("profiles").delete().eq("id",L);if(U)throw new Error(U.message);return L},onSuccess:()=>{i.invalidateQueries({queryKey:["profiles"]}),l({title:"Success",description:"User deleted successfully."})},onError:L=>{l({title:"Error Deleting User",description:L.message,variant:"destructive"})}}),b=L=>{confirm("Are you sure you want to delete this user?")&&A.mutate(L)},T=L=>{a(L),n(!0)},C=L=>S.mutate(L),R=L=>N.mutate(L),{paginatedData:I,currentPage:O,pageSize:K,totalPages:te,totalItems:le,handlePageChange:ue,handlePageSizeChange:he}=Kt(h||[],25);return o.jsxs(Qe,{children:[o.jsxs(tt,{className:"flex flex-row items-center justify-between",children:[o.jsx(rt,{children:"Manage Users"}),o.jsxs(gn,{open:e,onOpenChange:t,children:[o.jsx(Lm,{asChild:!0,children:o.jsxs(we,{size:"sm",children:[o.jsx(My,{className:"h-4 w-4 mr-2"})," New User"]})}),o.jsxs(en,{className:"sm:max-w-[425px] max-h-[90vh] flex flex-col",children:[o.jsx(tn,{children:o.jsx(rn,{children:"Create a New User"})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:o.jsx(ri,{...c,children:o.jsxs("form",{id:"new-user-form",onSubmit:c.handleSubmit(C),className:"space-y-4",children:[o.jsx(kt,{control:c.control,name:"full_name",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Full Name"}),o.jsx(Tt,{children:o.jsx(xt,{...L})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:c.control,name:"email",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Email"}),o.jsx(Tt,{children:o.jsx(xt,{type:"email",...L})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:c.control,name:"password",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Password"}),o.jsx(Tt,{children:o.jsx(xt,{type:"password",...L})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:c.control,name:"confirm_password",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Confirm Password"}),o.jsx(Tt,{children:o.jsx(xt,{type:"password",...L})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:c.control,name:"role",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Role"}),o.jsxs(dr,{onValueChange:L.onChange,defaultValue:L.value,children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{})})}),o.jsx(nr,{children:p0.map(U=>o.jsx(ut,{value:U,children:U.replace(/_/g," ").replace(/\b\w/g,ne=>ne.toUpperCase())},U))})]}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:c.control,name:"college_id",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"College"}),o.jsxs(dr,{onValueChange:U=>{L.onChange(U),c.setValue("department_id",null)},defaultValue:L.value||"",children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:"Assign a college"})})}),o.jsx(nr,{children:g==null?void 0:g.map(U=>o.jsx(ut,{value:U.id,children:U.name},U.id))})]}),o.jsx(Ct,{})]})}),u&&o.jsx(kt,{control:c.control,name:"department_id",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Department"}),o.jsxs(dr,{onValueChange:L.onChange,defaultValue:L.value||"",children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:"Assign a department"})})}),o.jsx(nr,{children:x.map(U=>o.jsx(ut,{value:U.id,children:U.name},U.id))})]}),o.jsx(Ct,{})]})})]})})}),o.jsx(ds,{children:o.jsx(we,{type:"submit",form:"new-user-form",disabled:S.isPending,children:S.isPending?"Creating...":"Create User"})})]})]}),o.jsx(gn,{open:r,onOpenChange:L=>{n(L),L||(a(null),d.reset())},children:o.jsxs(en,{className:"sm:max-w-[425px] max-h-[90vh] flex flex-col",children:[o.jsx(tn,{children:o.jsx(rn,{children:"Edit User"})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:o.jsx(ri,{...d,children:o.jsxs("form",{id:"edit-user-form",onSubmit:d.handleSubmit(R),className:"space-y-4",children:[o.jsx(kt,{control:d.control,name:"full_name",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Full Name"}),o.jsx(Tt,{children:o.jsx(xt,{...L})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:d.control,name:"email",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Email"}),o.jsx(Tt,{children:o.jsx(xt,{type:"email",...L})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:d.control,name:"password",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Password"}),o.jsx(Tt,{children:o.jsx(xt,{type:"password",...L})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:d.control,name:"confirm_password",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Confirm Password"}),o.jsx(Tt,{children:o.jsx(xt,{type:"password",...L})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:d.control,name:"role",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Role"}),o.jsxs(dr,{onValueChange:L.onChange,value:L.value,children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{})})}),o.jsx(nr,{children:p0.map(U=>o.jsx(ut,{value:U,children:U.replace(/_/g," ").replace(/\b\w/g,ne=>ne.toUpperCase())},U))})]}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:d.control,name:"college_id",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"College"}),o.jsxs(dr,{onValueChange:U=>{L.onChange(U),d.setValue("department_id",null)},value:L.value||"",children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:"Assign a college"})})}),o.jsx(nr,{children:g==null?void 0:g.map(U=>o.jsx(ut,{value:U.id,children:U.name},U.id))})]}),o.jsx(Ct,{})]})}),f&&o.jsx(kt,{control:d.control,name:"department_id",render:({field:L})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Department"}),o.jsxs(dr,{onValueChange:L.onChange,value:L.value||"",children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:"Assign a department"})})}),o.jsx(nr,{children:y.map(U=>o.jsx(ut,{value:U.id,children:U.name},U.id))})]}),o.jsx(Ct,{})]})})]})})}),o.jsx(ds,{children:o.jsx(we,{type:"submit",form:"edit-user-form",disabled:N.isPending,children:N.isPending?"Saving...":"Save Changes"})})]})})]}),o.jsx(Je,{children:m?o.jsx("p",{children:"Loading users..."}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"College"}),o.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),o.jsx("th",{className:"px-2 py-1 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(L=>{var U,ne;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 font-medium text-xs",children:L.full_name}),o.jsx("td",{className:"px-2 py-1 text-xs",children:L.email||"N/A"}),o.jsx("td",{className:"px-2 py-1 text-xs",children:L.role.replace(/_/g," ").replace(/\b\w/g,be=>be.toUpperCase())}),o.jsx("td",{className:"px-2 py-1 text-xs",children:((U=L.colleges)==null?void 0:U.name)||"N/A"}),o.jsx("td",{className:"px-2 py-1 text-xs",children:((ne=L.departments)==null?void 0:ne.name)||"N/A"}),o.jsx("td",{className:"px-2 py-1 text-right",children:o.jsxs(m1,{children:[o.jsx(p1,{asChild:!0,children:o.jsx(we,{variant:"ghost",className:"h-6 w-6 p-0",children:o.jsx(Ly,{className:"h-3 w-3"})})}),o.jsxs(Xm,{align:"end",children:[o.jsxs(ml,{onClick:()=>T(L),children:[o.jsx(wf,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsx(ml,{className:"text-destructive",onClick:()=>b(L.id),children:"Delete"})]})]})})]},L.id)})})]}),h&&h.length>0&&o.jsx(qt,{currentPage:O,totalPages:te,pageSize:K,totalItems:le,onPageChange:ue,onPageSizeChange:he})]})})]})}function D$(){const{profile:e,user:t}=He();return o.jsx(st,{role:"admin",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Admin",userEmail:(t==null?void 0:t.email)||"",pageTitle:"User Management",pageSubtitle:"Manage system users and their roles",children:o.jsx(vA,{})})}function F$(){const{profile:e,user:t}=He();return o.jsx(st,{role:"admin",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Admin",userEmail:(t==null?void 0:t.email)||"",pageTitle:"College Management",pageSubtitle:"Manage university colleges",children:o.jsx(pA,{})})}function M$(){const{profile:e,user:t}=He();return o.jsx(st,{role:"admin",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Admin",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Department Management",pageSubtitle:"Manage university departments",children:o.jsx(gA,{})})}wl({id:pr().uuid(),role:qm(p0)});function L$(){const{profile:e,user:t}=He(),r=Vt(),{data:n,isLoading:s,error:a}=Le({queryKey:["user_profiles"],queryFn:xA}),i=nt({mutationFn:async({id:g,role:p})=>{const{error:x}=await X.from("profiles").update({role:p}).eq("id",g);if(x)throw new Error(x.message)},onSuccess:()=>{r.invalidateQueries({queryKey:["user_profiles"]}),Qt({title:"Success",description:"User role updated successfully."})},onError:g=>{Qt({title:"Error",description:g.message,variant:"destructive"})}}),{paginatedData:l,currentPage:c,pageSize:u,totalPages:d,totalItems:f,handlePageChange:h,handlePageSizeChange:m}=Kt(n||[],25);return o.jsx(st,{role:(e==null?void 0:e.role)||"admin",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Admin",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Role Assignment",pageSubtitle:"Manage user roles and permissions",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(XC,{className:"h-5 w-5"}),"Role Assignment"]})}),o.jsxs(Je,{children:[s&&o.jsx("p",{children:"Loading user profiles..."}),a&&o.jsxs("p",{className:"text-destructive",children:["Error loading user profiles: ",a.message]}),n&&n.length>0?o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Name"}),o.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(g=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 font-medium text-xs",children:g.full_name}),o.jsx("td",{className:"px-2 py-1 text-xs",children:g.email}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs(dr,{value:g.role,onValueChange:p=>i.mutate({id:g.id,role:p}),disabled:i.isPending,children:[o.jsx(rr,{className:"w-32 h-6 text-xs",children:o.jsx(fr,{placeholder:"Select a role"})}),o.jsx(nr,{children:p0.map(p=>o.jsx(ut,{value:p,children:p.replace(/_/g," ").replace(/\b\w/g,x=>x.toUpperCase())},p))})]})}),o.jsx("td",{className:"px-2 py-1 text-xs"})]},g.id))})]}),n&&n.length>0&&o.jsx(qt,{currentPage:c,totalPages:d,pageSize:u,totalItems:f,onPageChange:h,onPageSizeChange:m})]}):!s&&o.jsx("p",{children:"No user profiles found."})]})]})})}var Ym="Switch",[U$,wQ]=As(Ym),[B$,$$]=U$(Ym),yA=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=_.useState(null),g=dt(t,w=>m(w)),p=_.useRef(!1),x=h?d||!!h.closest("form"):!0,[v,y]=to({prop:s,defaultProp:a??!1,onChange:u,caller:Ym});return o.jsxs(B$,{scope:r,checked:v,disabled:l,children:[o.jsx(Ge.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":bA(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ce(e.onClick,w=>{y(S=>!S),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&o.jsx(SA,{control:h,bubbles:!p.current,name:n,value:c,checked:v,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});yA.displayName=Ym;var wA="SwitchThumb",_A=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=$$(wA,r);return o.jsx(Ge.span,{"data-state":bA(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});_A.displayName=wA;var q$="SwitchBubbleInput",SA=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const i=_.useRef(null),l=dt(i,a),c=Lj(r),u=AT(t);return _.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SA.displayName=q$;function bA(e){return e?"checked":"unchecked"}var EA=yA,V$=_A;const cv=_.forwardRef(({className:e,...t},r)=>o.jsx(EA,{className:Fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(V$,{className:Fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));cv.displayName=EA.displayName;const eS={system_name:"DMU Property Management System",email_notifications:!0,maintenance_mode:!1,session_timeout_minutes:30,max_file_size_mb:10,backup_retention_days:30};function z$(){const{profile:e,user:t}=He(),r=Vt(),[n,s]=_.useState(eS),[a,i]=_.useState(!1),{data:l,isLoading:c}=Le({queryKey:["system-settings"],queryFn:async()=>eS});_.useEffect(()=>{l&&s(l)},[l]);const u=nt({mutationFn:async h=>(await new Promise(m=>setTimeout(m,1e3)),console.log("Saving system settings:",h),h),onSuccess:()=>{Qt({title:"Settings Saved",description:"System settings have been updated successfully."}),i(!1),r.invalidateQueries({queryKey:["system-settings"]})},onError:h=>{Qt({title:"Save Failed",description:"Failed to save system settings. Please try again.",variant:"destructive"})}}),d=()=>{u.mutate(n)},f=(h,m)=>{s(g=>({...g,[h]:m})),i(!0),h==="system_name"&&(document.title=m||"DMU Property Management System")};return c?o.jsx(st,{role:"admin",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Admin",userEmail:(t==null?void 0:t.email)||"",pageTitle:"System Settings",pageSubtitle:"Loading system configuration...",notificationCount:0,children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Hx,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})})}):o.jsx(st,{role:"admin",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Admin",userEmail:(t==null?void 0:t.email)||"",pageTitle:"System Settings",pageSubtitle:"Configure system parameters and preferences",notificationCount:0,children:o.jsxs("div",{className:"space-y-6",children:[a&&o.jsx(Qe,{className:"border-orange-200 bg-orange-50",children:o.jsx(Je,{className:"pt-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(By,{className:"h-4 w-4 text-orange-600"}),o.jsx("span",{className:"text-sm text-orange-700",children:"You have unsaved changes"})]}),o.jsxs(we,{onClick:d,disabled:u.isPending,children:[o.jsx(c2,{className:"h-4 w-4 mr-2"}),u.isPending?"Saving...":"Save Changes"]})]})})}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Hx,{className:"h-5 w-5"}),"General Settings"]})}),o.jsxs(Je,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(br,{htmlFor:"systemName",children:"System Name"}),o.jsx(xt,{id:"systemName",value:n.system_name,onChange:h=>f("system_name",h.target.value),placeholder:"Enter system name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(br,{htmlFor:"sessionTimeout",children:"Session Timeout (minutes)"}),o.jsx(xt,{id:"sessionTimeout",type:"number",min:"5",max:"480",value:n.session_timeout_minutes,onChange:h=>f("session_timeout_minutes",parseInt(h.target.value)||30)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(br,{htmlFor:"maxFileSize",children:"Max File Size (MB)"}),o.jsx(xt,{id:"maxFileSize",type:"number",min:"1",max:"100",value:n.max_file_size_mb,onChange:h=>f("max_file_size_mb",parseInt(h.target.value)||10)})]})]})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsx(rt,{children:"System Controls"})}),o.jsxs(Je,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(br,{htmlFor:"emailNotifications",children:"Email Notifications"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Send email alerts for system events"})]}),o.jsx(cv,{id:"emailNotifications",checked:n.email_notifications,onCheckedChange:h=>f("email_notifications",h)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(br,{htmlFor:"maintenanceMode",children:"Maintenance Mode"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict system access for maintenance"})]}),o.jsx(cv,{id:"maintenanceMode",checked:n.maintenance_mode,onCheckedChange:h=>f("maintenance_mode",h)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(br,{htmlFor:"backupRetention",children:"Backup Retention (days)"}),o.jsx(xt,{id:"backupRetention",type:"number",min:"1",max:"365",value:n.backup_retention_days,onChange:h=>f("backup_retention_days",parseInt(h.target.value)||30)})]})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(we,{onClick:d,disabled:!a||u.isPending,size:"lg",children:[o.jsx(c2,{className:"h-4 w-4 mr-2"}),u.isPending?"Saving Settings...":"Save All Settings"]})})]})})}function W$(){const{profile:e,user:t}=He(),[r,n]=_.useState(!1),{data:s=[],refetch:a}=Le({queryKey:["database-backups"],queryFn:async()=>[{id:"1",filename:`backup_${new Date().toISOString().split("T")[0]}.sql`,created_at:new Date().toISOString(),size_mb:45.2,status:"completed"},{id:"2",filename:`backup_${new Date(Date.now()-864e5).toISOString().split("T")[0]}.sql`,created_at:new Date(Date.now()-864e5).toISOString(),size_mb:43.8,status:"completed"}]}),i=nt({mutationFn:async()=>{var S,N,A,b,T,C,R,I,O,K,te,le,ue,he,L,U,ne,be;n(!0);const[u,d,f,h,m,g]=await Promise.all([X.from("profiles").select("*"),X.from("colleges").select("*"),X.from("departments").select("*"),X.from("items").select(`
          *,
          current_custodian:profiles!current_custodian_id(full_name),
          owner_department:departments!owner_department_id(name, college_id),
          departments!owner_department_id(colleges(name))
        `),X.from("item_requests").select("*"),X.from("item_transfers").select("*").limit(100)]),p=`dmu_backup_${new Date().toISOString().split("T")[0]}_${Date.now()}.sql`,x=`-- DMU Property Management System Database Backup
-- Generated on: ${new Date().toISOString()}
-- Database: university_asset_guardian

SET FOREIGN_KEY_CHECKS=0;

-- Profiles Table (${((S=u.data)==null?void 0:S.length)||0} records)
DROP TABLE IF EXISTS profiles;
CREATE TABLE profiles (
  id UUID PRIMARY KEY,
  full_name TEXT,
  role TEXT,
  college_id UUID,
  department_id UUID,
  created_at TIMESTAMP DEFAULT NOW()
);

${((N=u.data)==null?void 0:N.map(j=>{var H;return`INSERT INTO profiles VALUES ('${j.id}', '${(H=j.full_name)==null?void 0:H.replace(/'/g,"''")}', '${j.role}', ${j.college_id?`'${j.college_id}'`:"NULL"}, ${j.department_id?`'${j.department_id}'`:"NULL"}, '${j.created_at}');`}).join(`
`))||""}

-- Colleges Table (${((A=d.data)==null?void 0:A.length)||0} records)
DROP TABLE IF EXISTS colleges;
CREATE TABLE colleges (
  id UUID PRIMARY KEY,
  name TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

${((b=d.data)==null?void 0:b.map(j=>{var H;return`INSERT INTO colleges VALUES ('${j.id}', '${(H=j.name)==null?void 0:H.replace(/'/g,"''")}', '${j.created_at}');`}).join(`
`))||""}

-- Departments Table (${((T=f.data)==null?void 0:T.length)||0} records)
DROP TABLE IF EXISTS departments;
CREATE TABLE departments (
  id UUID PRIMARY KEY,
  name TEXT NOT NULL,
  college_id UUID,
  created_at TIMESTAMP DEFAULT NOW()
);

${((C=f.data)==null?void 0:C.map(j=>{var H;return`INSERT INTO departments VALUES ('${j.id}', '${(H=j.name)==null?void 0:H.replace(/'/g,"''")}', '${j.college_id}', '${j.created_at}');`}).join(`
`))||""}

-- Items Table with Ownership Info (${((R=h.data)==null?void 0:R.length)||0} records)
DROP TABLE IF EXISTS items;
CREATE TABLE items (
  id UUID PRIMARY KEY,
  name TEXT NOT NULL,
  inventory_tag TEXT,
  serial_number TEXT,
  status TEXT,
  current_custodian_id UUID,
  owner_department_id UUID,
  created_at TIMESTAMP DEFAULT NOW()
);

${((I=h.data)==null?void 0:I.map(j=>{var ee,W,ce,de,ie;const H=((ee=j.current_custodian)==null?void 0:ee.full_name)||"Unassigned",B=((W=j.owner_department)==null?void 0:W.name)||"Store",z=((de=(ce=j.departments)==null?void 0:ce.colleges)==null?void 0:de.name)||"Central Store";return`-- Item: ${j.name} | Custodian: ${H} | Department: ${B} | College: ${z}
INSERT INTO items VALUES ('${j.id}', '${(ie=j.name)==null?void 0:ie.replace(/'/g,"''")}', '${j.inventory_tag||""}', '${j.serial_number||""}', '${j.status}', ${j.current_custodian_id?`'${j.current_custodian_id}'`:"NULL"}, ${j.owner_department_id?`'${j.owner_department_id}'`:"NULL"}, '${j.created_at}');`}).join(`
`))||""}

-- Item Requests Table (${((O=m.data)==null?void 0:O.length)||0} records)
DROP TABLE IF EXISTS item_requests;
CREATE TABLE item_requests (
  id UUID PRIMARY KEY,
  item_name TEXT,
  requester_id UUID,
  status TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

${((K=m.data)==null?void 0:K.map(j=>{var H;return`INSERT INTO item_requests VALUES ('${j.id}', '${(H=j.item_name)==null?void 0:H.replace(/'/g,"''")}', '${j.requester_id}', '${j.status}', '${j.created_at}');`}).join(`
`))||""}

SET FOREIGN_KEY_CHECKS=1;

${((te=g.data)==null?void 0:te.map(j=>`INSERT INTO item_transfers VALUES ('${j.id}', '${j.item_id}', '${j.initiator_id}', '${j.receiver_id}', '${j.status}', '${j.created_at}');`).join(`
`))||""}

-- Item Transfers Table (${((le=g.data)==null?void 0:le.length)||0} records)
DROP TABLE IF EXISTS item_transfers;
CREATE TABLE item_transfers (
  id UUID PRIMARY KEY,
  item_id UUID,
  initiator_id UUID,
  receiver_id UUID,
  status TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Backup Summary
-- Total Profiles: ${((ue=u.data)==null?void 0:ue.length)||0}
-- Total Colleges: ${((he=d.data)==null?void 0:he.length)||0}
-- Total Departments: ${((L=f.data)==null?void 0:L.length)||0}
-- Total Items: ${((U=h.data)==null?void 0:U.length)||0}
-- Total Requests: ${((ne=m.data)==null?void 0:ne.length)||0}
-- Total Transfers: ${((be=g.data)==null?void 0:be.length)||0}
-- Backup completed successfully`,v=new Blob([x],{type:"application/sql"}),y=URL.createObjectURL(v),w=document.createElement("a");return w.href=y,w.download=p,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(y),{filename:p,size:v.size}},onSuccess:u=>{Qt({title:"Backup Created Successfully",description:`Database backup ${u.filename} has been downloaded to your computer.`}),a()},onError:u=>{Qt({title:"Backup Failed",description:"Failed to create database backup. Please try again.",variant:"destructive"})},onSettled:()=>{n(!1)}}),l=()=>{i.mutate()},c=u=>{const d=`-- DMU Property Management System Database Backup
-- Filename: ${u.filename}
-- Created: ${u.created_at}
-- Size: ${u.size_mb} MB

-- This is a restored backup file
-- Contains complete database structure and data

SET FOREIGN_KEY_CHECKS=0;

-- Complete table structures and data
-- All system tables included

SET FOREIGN_KEY_CHECKS=1;

-- Backup restoration completed`,f=new Blob([d],{type:"application/sql"}),h=URL.createObjectURL(f),m=document.createElement("a");m.href=h,m.download=u.filename,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h),Qt({title:"Download Started",description:`Downloading ${u.filename}...`})};return o.jsxs(st,{role:"admin",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Admin",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Database Backup",pageSubtitle:"Create and manage database backups for system recovery",notificationCount:0,children:[o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(HC,{className:"h-5 w-5"}),"Create New Backup"]})}),o.jsxs(Je,{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a complete backup of the DMU Property Management database including all tables, data, and relationships."}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:o.jsxs("p",{className:"text-xs text-blue-700",children:[o.jsx("strong",{children:"Backup includes:"})," User profiles, colleges, departments, items, requests, transfers, and all system data."]})}),o.jsxs(we,{onClick:l,disabled:r||i.isPending,className:"w-full",size:"lg",children:[o.jsx(Wx,{className:"h-4 w-4 mr-2"}),r?"Creating Backup...":"Create & Download Backup"]})]})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(E0,{className:"h-5 w-5"}),"Recent Backups"]})}),o.jsx(Je,{children:o.jsx("div",{className:"space-y-3",children:s.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No backups available. Create your first backup above."}):s.map(u=>o.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg hover:bg-gray-50",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:u.filename}),o.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Nm,{className:"h-3 w-3"}),new Date(u.created_at).toLocaleDateString()]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.size_mb," MB"]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${u.status==="completed"?"bg-green-100 text-green-700":u.status==="failed"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:u.status})]})]}),o.jsx(we,{size:"sm",variant:"outline",onClick:()=>c(u),disabled:u.status!=="completed",children:o.jsx(Wx,{className:"h-3 w-3"})})]},u.id))})})]})]}),o.jsxs(Qe,{className:"mt-6",children:[o.jsx(tt,{children:o.jsx(rt,{children:"Backup Information"})}),o.jsx(Je,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-sm mb-2",children:"Backup Schedule"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Manual backups only. Create backups before major system changes or regularly for data protection."})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-sm mb-2",children:"Storage Location"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Backups are downloaded to your local computer. Store them in a secure location for recovery purposes."})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-sm mb-2",children:"Restoration"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Contact system administrator for database restoration from backup files."})]})]})})]})]})}function H$(){const{profile:e,user:t}=He(),{data:r={}}=Le({queryKey:["admin-dashboard-stats"],queryFn:()=>ia.getDashboardStats("admin",(e==null?void 0:e.id)||"")});return o.jsx(st,{role:"admin",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Admin",userEmail:(t==null?void 0:t.email)||"",pageTitle:"System Administration",pageSubtitle:"Manage users, colleges, and system configuration",notificationCount:0,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Tr,{title:"Total Users",value:r.users||0,subtitle:"0 pending activation",icon:il,variant:"primary"}),o.jsx(Tr,{title:"Colleges",value:r.colleges||0,subtitle:"All active",icon:b0,variant:"info"}),o.jsx(Tr,{title:"Departments",value:r.departments||0,subtitle:"Across all colleges",icon:Vc,variant:"success"}),o.jsx(Tr,{title:"Total Items",value:r.items||0,subtitle:"In system registry",icon:fn,variant:"default"})]}),o.jsxs(TB,{defaultValue:"colleges",children:[o.jsxs(JN,{children:[o.jsxs(Lh,{value:"colleges",children:[o.jsx(b0,{className:"h-4 w-4 mr-2"}),"Colleges"]}),o.jsxs(Lh,{value:"departments",children:[o.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Departments"]}),o.jsxs(Lh,{value:"users",children:[o.jsx(il,{className:"h-4 w-4 mr-2"}),"Users"]})]}),o.jsx(Uh,{value:"colleges",className:"mt-4",children:o.jsx(pA,{})}),o.jsx(Uh,{value:"departments",className:"mt-4",children:o.jsx(gA,{})}),o.jsx(Uh,{value:"users",className:"mt-4",children:o.jsx(vA,{})})]})]})})}function K$(){return o.jsxs(cu,{children:[o.jsx($e,{index:!0,element:o.jsx(H$,{})}),o.jsx($e,{path:"users",element:o.jsx(D$,{})}),o.jsx($e,{path:"colleges",element:o.jsx(F$,{})}),o.jsx($e,{path:"departments",element:o.jsx(M$,{})}),o.jsx($e,{path:"roles",element:o.jsx(L$,{})}),o.jsx($e,{path:"settings",element:o.jsx(z$,{})}),o.jsx($e,{path:"backup",element:o.jsx(W$,{})})]})}const vo=_.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:Fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));vo.displayName="Textarea";const G$=wl({comment:pr().optional(),action:qm(["approve","reject"])});function Qm({requestId:e,requestType:t,currentStage:r,isOpen:n,onClose:s}){const[a,i]=_.useState(null),{profile:l}=He(),{toast:c}=sn(),u=Vt(),d=ti({resolver:ni(G$),defaultValues:{comment:"",action:"approve"}}),f=nt({mutationFn:async g=>{var w;const p={updated_at:new Date().toISOString()};(l==null?void 0:l.role)==="department_head"?(p.dept_head_approver_id=l.id,p.status=g.action==="approve"?"pending_dean":"rejected",g.action==="reject"&&(p.rejection_reason=g.comment)):(l==null?void 0:l.role)==="college_dean"?(p.dean_approver_id=l.id,p.status=g.action==="approve"?"pending_storekeeper":"rejected",g.action==="reject"&&(p.rejection_reason=g.comment)):(l==null?void 0:l.role)==="storekeeper"&&(p.storekeeper_allocator_id=l.id,p.status=g.action==="approve"?"approved":"rejected",g.action==="reject"&&(p.rejection_reason=g.comment));const x=t==="item_request"?"item_requests":"item_transfers",{data:v,error:y}=await X.from(x).update(p).eq("id",e).select("*, requester:profiles!requester_id(role, department_id)").single();if(y)throw new Error(y.message);if((l==null?void 0:l.role)==="storekeeper"&&g.action==="approve"&&t==="item_request"){const S=v;if(((w=S.requester)==null?void 0:w.role)==="department_head"){const{error:N}=await X.from("items").insert({name:S.item_name,description:S.item_description,owner_department_id:S.requester_department_id,current_custodian_id:S.requester_id,status:"Allocated",serial_number:`DEPT-${Date.now()}`,asset_tag:`AST-${Date.now()}`});if(N)throw new Error(N.message)}}return v},onSuccess:()=>{u.invalidateQueries({queryKey:["department-pending-approvals"]}),u.invalidateQueries({queryKey:["dean-pending-approvals-list"]}),u.invalidateQueries({queryKey:["dean-pending-approvals-count"]}),u.invalidateQueries({queryKey:["pending-approvals"]}),u.invalidateQueries({queryKey:["approval-queue"]}),u.invalidateQueries({queryKey:["requests"]}),u.invalidateQueries({queryKey:["department-item-count"]}),c({title:a==="approve"?"Request Approved":"Request Rejected",description:`The request has been ${a}d successfully.`}),s(),d.reset(),i(null)},onError:g=>{c({title:"Error",description:g.message,variant:"destructive"})}}),h=g=>{f.mutate({...g,action:a})},m=g=>{i(g),d.setValue("action",g)};return o.jsx(gn,{open:n,onOpenChange:s,children:o.jsxs(en,{className:"sm:max-w-[500px]",children:[o.jsx(tn,{children:o.jsx(rn,{children:a==="approve"?"Approve Request":a==="reject"?"Reject Request":"Process Request"})}),a?o.jsx(ri,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[o.jsx(kt,{control:d.control,name:"comment",render:({field:g})=>o.jsxs(bt,{children:[o.jsx(Et,{children:a==="approve"?"Approval Comment (Optional)":"Rejection Reason (Optional)"}),o.jsx(Tt,{children:o.jsx(vo,{placeholder:a==="approve"?"Add any comments or conditions for this approval...":"Explain why this request is being rejected...",className:"resize-none",...g})}),o.jsx(Ct,{})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(we,{type:"button",variant:"outline",onClick:()=>i(null),children:"Back"}),o.jsx(we,{type:"submit",disabled:f.isPending,variant:a==="reject"?"destructive":"default",children:f.isPending?"Processing...":a==="approve"?"Approve Request":"Reject Request"})]})]})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose an action for this request:"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(we,{onClick:()=>m("approve"),className:"flex-1 gap-2",children:[o.jsx(jn,{className:"h-4 w-4"}),"Approve"]}),o.jsxs(we,{onClick:()=>m("reject"),variant:"destructive",className:"flex-1 gap-2",children:[o.jsx(ro,{className:"h-4 w-4"}),"Reject"]})]})]})]})})}function X$(){const{profile:e,user:t}=He(),[r,n]=_.useState(null),{data:s=[],isLoading:a}=Le({queryKey:["dean-pending-approvals-list",e==null?void 0:e.college_id],queryFn:async()=>{if(!(e!=null&&e.college_id))return[];console.log("Dean - Checking pending approvals for college:",e==null?void 0:e.college_id);const{data:g,error:p}=await X.from("departments").select("id").eq("college_id",e.college_id);if(p)throw p;if(!g||g.length===0)return console.log("No departments found for college:",e.college_id),[];console.log("Found departments:",g.map(w=>w.id));const x=g.map(w=>w.id),{data:v,error:y}=await X.from("item_requests").select("id, created_at, requester_id, quantity, urgency, justification, item_name, departments(name)").eq("status","pending_dean").in("requester_department_id",x).order("created_at",{ascending:!1});if(y)throw y;return console.log("Dean requests found:",(v==null?void 0:v.length)||0),v||[]},enabled:!!(e!=null&&e.college_id),refetchInterval:1e4}),{paginatedData:i,currentPage:l,pageSize:c,totalPages:u,totalItems:d,handlePageChange:f,handlePageSizeChange:h}=Kt(s,25),m=g=>{switch(g){case"critical":return"destructive";case"high":return"secondary";case"medium":return"default";case"low":return"outline";default:return"outline"}};return o.jsxs(st,{role:"college_dean",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"College Dean",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Pending Approvals",pageSubtitle:"Review requests forwarded by department heads",notificationCount:Array.isArray(s)?s.length:0,children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Yo,{className:"h-5 w-5"}),"Dean Approvals (",Array.isArray(s)?s.length:0,")"]})}),o.jsxs(Je,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgency"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Justification"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-2 py-4 text-center text-gray-500",children:"Loading pending requests..."})}):Array.isArray(i)&&i.map(g=>{var p,x;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 font-medium text-sm",children:(p=g.departments)==null?void 0:p.name}),o.jsx("td",{className:"px-2 py-1 text-sm",children:g.item_name}),o.jsx("td",{className:"px-2 py-1 text-sm",children:g.quantity}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:m(g.urgency),className:"text-xs",children:(x=g.urgency)==null?void 0:x.toUpperCase()})}),o.jsx("td",{className:"px-2 py-1 text-xs max-w-32 truncate",title:g.justification,children:g.justification}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(g.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(we,{size:"sm",className:"h-6 text-xs px-2",onClick:()=>n(g.id),children:"Review"})})]},g.id)}),(!Array.isArray(s)||s.length===0)&&!a&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-2 py-4 text-center text-muted-foreground",children:"No pending requests found"})})]})]})}),s.length>0&&o.jsx(qt,{currentPage:l,totalPages:u,pageSize:c,totalItems:d,onPageChange:f,onPageSizeChange:h})]})]}),r&&o.jsx(Qm,{requestId:r,requestType:"item_request",currentStage:"pending_dean",isOpen:!!r,onClose:()=>n(null)})]})}function Y$(){const{profile:e,user:t}=He(),{data:r=[],isLoading:n}=Le({queryKey:["dean-departments",e==null?void 0:e.college_id],queryFn:async()=>{if(!(e!=null&&e.college_id))return[];const{data:f,error:h}=await X.from("departments").select("*").eq("college_id",e.college_id).neq("name","Store Department").order("name");if(h)throw h;if(!f)return[];const m=f.map(S=>S.id),{data:g,error:p}=await X.from("profiles").select("full_name, department_id").in("department_id",m).eq("role","department_head");if(p)throw p;const{data:x,error:v}=await X.from("profiles").select("department_id").in("department_id",m);if(v)throw v;const{data:y,error:w}=await X.from("items").select("owner_department_id").in("owner_department_id",m);if(w)throw w;return f.map(S=>{const N=g==null?void 0:g.find(T=>T.department_id===S.id),A=(x==null?void 0:x.filter(T=>T.department_id===S.id).length)||0,b=(y==null?void 0:y.filter(T=>T.owner_department_id===S.id).length)||0;return{...S,head:N?{full_name:N.full_name}:null,staffCount:A,itemCount:b}})},enabled:!!(e!=null&&e.college_id)}),{paginatedData:s,currentPage:a,pageSize:i,totalPages:l,totalItems:c,handlePageChange:u,handlePageSizeChange:d}=Kt(r,25);return o.jsx(st,{role:"college_dean",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"College Dean",userEmail:(t==null?void 0:t.email)||"",pageTitle:"College Departments",pageSubtitle:"Manage departments under your college",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Vc,{className:"h-5 w-5"}),"Departments (",(r==null?void 0:r.length)||0,")"]})}),o.jsxs(Je,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department Head"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff Count"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-4 text-center text-gray-500",children:"Loading departments..."})}):s==null?void 0:s.map(f=>{var h;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 font-medium text-sm",children:f.name}),o.jsx("td",{className:"px-2 py-1 text-sm",children:((h=f.head)==null?void 0:h.full_name)||"Not Assigned"}),o.jsx("td",{className:"px-2 py-1 text-sm",children:f.staffCount}),o.jsx("td",{className:"px-2 py-1 text-sm",children:f.itemCount}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(f.created_at).toLocaleDateString()})]},f.id)}),!n&&(!r||r.length===0)&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-4 text-center text-gray-500",children:"No departments found"})})]})]})}),r.length>0&&o.jsx(qt,{currentPage:a,totalPages:l,pageSize:i,totalItems:c,onPageChange:u,onPageSizeChange:d})]})]})})}const g1=_.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:Fe("w-full caption-bottom text-sm",e),...t})}));g1.displayName="Table";const x1=_.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:Fe("[&_tr]:border-b",e),...t}));x1.displayName="TableHeader";const v1=_.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:Fe("[&_tr:last-child]:border-0",e),...t}));v1.displayName="TableBody";const Q$=_.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:Fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Q$.displayName="TableFooter";const xc=_.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:Fe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));xc.displayName="TableRow";const es=_.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:Fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));es.displayName="TableHead";const Fn=_.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:Fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Fn.displayName="TableCell";const J$=_.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:Fe("mt-4 text-sm text-muted-foreground",e),...t}));J$.displayName="TableCaption";function Z$(){const{profile:e,user:t}=He(),{data:r=[],isLoading:n}=Le({queryKey:["dean-inventory",e==null?void 0:e.college_id],queryFn:async()=>{if(!(e!=null&&e.college_id))return[];const{data:h,error:m}=await X.from("departments").select("id").eq("college_id",e.college_id).neq("name","Store Department");if(m)throw m;if(!h||h.length===0)return[];const g=h.map(v=>v.id),{data:p,error:x}=await X.from("items").select("*, profiles(full_name), departments(name), item_categories(name)").in("owner_department_id",g).order("created_at",{ascending:!1});if(x)throw x;return p||[]},enabled:!!(e!=null&&e.college_id)}),{paginatedData:s,currentPage:a,pageSize:i,totalPages:l,totalItems:c,handlePageChange:u,handlePageSizeChange:d}=Kt(r,25),f=h=>{switch(h){case"Available":return"default";case"Allocated":return"secondary";case"Under Maintenance":return"destructive";case"Damaged":return"outline";default:return"default"}};return o.jsx(st,{role:"college_dean",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"College Dean",userEmail:(t==null?void 0:t.email)||"",pageTitle:"College Inventory",pageSubtitle:"Overview of all items across college departments",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(fn,{className:"h-5 w-5"}),"College Inventory (",(r==null?void 0:r.length)||0," items)"]})}),o.jsx(Je,{children:n?o.jsx("p",{children:"Loading inventory..."}):o.jsxs(o.Fragment,{children:[o.jsxs(g1,{children:[o.jsx(x1,{children:o.jsxs(xc,{children:[o.jsx(es,{children:"Item Name"}),o.jsx(es,{children:"Category"}),o.jsx(es,{children:"Department"}),o.jsx(es,{children:"Status"}),o.jsx(es,{children:"Assigned To"}),o.jsx(es,{children:"Serial Number"}),o.jsx(es,{children:"Purchase Date"})]})}),o.jsxs(v1,{children:[s==null?void 0:s.map(h=>{var m,g,p;return o.jsxs(xc,{children:[o.jsx(Fn,{className:"font-medium",children:h.name}),o.jsx(Fn,{children:((m=h.item_categories)==null?void 0:m.name)||"N/A"}),o.jsx(Fn,{children:((g=h.departments)==null?void 0:g.name)||"N/A"}),o.jsx(Fn,{children:o.jsx(Rt,{variant:f(h.status),children:h.status})}),o.jsx(Fn,{children:((p=h.profiles)==null?void 0:p.full_name)||"Unassigned"}),o.jsx(Fn,{className:"font-mono text-sm",children:h.serial_number}),o.jsx(Fn,{children:h.purchase_date?new Date(h.purchase_date).toLocaleDateString():"N/A"})]},h.id)}),!n&&r.length===0&&o.jsx(xc,{children:o.jsx(Fn,{colSpan:7,className:"text-center",children:"No items found"})})]})]}),r.length>0&&o.jsx(qt,{currentPage:a,totalPages:l,pageSize:i,totalItems:c,onPageChange:u,onPageSizeChange:d})]})})]})})}function eq(){const{profile:e,user:t}=He(),{data:r=[],isLoading:n}=Le({queryKey:["dean-transfers"],queryFn:async()=>{const{data:h,error:m}=await X.rpc("get_transfers_with_emails");if(m)throw m;return h||[]}}),{paginatedData:s,currentPage:a,pageSize:i,totalPages:l,totalItems:c,handlePageChange:u,handlePageSizeChange:d}=Kt(r,25),f=h=>{switch(h){case"pending":return"secondary";case"approved":return"default";case"rejected":return"destructive";case"completed":return"outline";default:return"secondary"}};return o.jsx(st,{role:"college_dean",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"College Dean",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Transfer Requests",pageSubtitle:"Monitor item transfers across college departments",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"h-5 w-5"}),"Transfer History (",(r==null?void 0:r.length)||0,")"]})}),o.jsxs(Je,{children:[n?o.jsx("p",{children:"Loading transfers..."}):o.jsxs(g1,{children:[o.jsx(x1,{children:o.jsxs(xc,{children:[o.jsx(es,{children:"Item"}),o.jsx(es,{children:"From"}),o.jsx(es,{children:"To"}),o.jsx(es,{children:"Status"}),o.jsx(es,{children:"Date"})]})}),o.jsx(v1,{children:s.map(h=>{var m;return o.jsxs(xc,{children:[o.jsxs(Fn,{className:"font-medium",children:[h.item_name,o.jsx("div",{className:"text-xs text-muted-foreground",children:h.asset_tag})]}),o.jsx(Fn,{children:h.initiator_email}),o.jsx(Fn,{children:h.receiver_email}),o.jsx(Fn,{children:o.jsx(Rt,{variant:f(h.status),children:(m=h.status)==null?void 0:m.toUpperCase()})}),o.jsx(Fn,{children:new Date(h.created_at).toLocaleDateString()})]},h.id)})})]}),r.length>0&&o.jsx(qt,{currentPage:a,totalPages:l,pageSize:i,totalItems:c,onPageChange:u,onPageSizeChange:d})]})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var B0={};B0.version="0.18.5";var TA=1252,tq=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CA=function(e){tq.indexOf(e)!=-1&&(TA=e)};function rq(){CA(1252)}var Yd=function(e){CA(e)};function nq(){Yd(1200),rq()}var fh=function(t){return String.fromCharCode(t)},tS=function(t){return String.fromCharCode(t)},Po,Mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Qd(e){for(var t="",r=0,n=0,s=0,a=0,i=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,s=e.charCodeAt(u++),l=(n&15)<<2|s>>6,c=s&63,isNaN(n)?l=c=64:isNaN(s)&&(c=64),t+=Mi.charAt(a)+Mi.charAt(i)+Mi.charAt(l)+Mi.charAt(c);return t}function ai(e){var t="",r=0,n=0,s=0,a=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Mi.indexOf(e.charAt(u++)),i=Mi.indexOf(e.charAt(u++)),r=a<<2|i>>4,t+=String.fromCharCode(r),l=Mi.indexOf(e.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Mi.indexOf(e.charAt(u++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Nt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ui=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function pl(e){return Nt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function rS(e){return Nt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ys=function(t){return Nt?ui(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Jm(e){if(typeof ArrayBuffer>"u")return Ys(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function kf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function sq(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Kr=Nt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ui(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function aq(e){for(var t=[],r=0,n=e.length+250,s=pl(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)s[r++]=i;else if(i<2048)s[r++]=192|i>>6&31,s[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++a)&1023;s[r++]=240|i>>8&7,s[r++]=128|i>>2&63,s[r++]=128|l>>6&15|(i&3)<<4,s[r++]=128|l&63}else s[r++]=224|i>>12&15,s[r++]=128|i>>6&63,s[r++]=128|i&63;r>n&&(t.push(s.slice(0,r)),r=0,s=pl(65535),n=65530)}return t.push(s.slice(0,r)),Kr(t)}var fd=/\u0000/g,hh=/[\u0001-\u0006]/g;function vc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Qs(e,t){var r=""+e;return r.length>=t?r:ur("0",t-r.length)+r}function y1(e,t){var r=""+e;return r.length>=t?r:ur(" ",t-r.length)+r}function $0(e,t){var r=""+e;return r.length>=t?r:r+ur(" ",t-r.length)}function iq(e,t){var r=""+Math.round(e);return r.length>=t?r:ur("0",t-r.length)+r}function oq(e,t){var r=""+e;return r.length>=t?r:ur("0",t-r.length)+r}var nS=Math.pow(2,32);function Ul(e,t){if(e>nS||e<-nS)return iq(e,t);var r=Math.round(e);return oq(r,t)}function q0(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var sS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],og=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function lq(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var hr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},aS={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},cq={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function V0(e,t,r){for(var n=e<0?-1:1,s=e*n,a=0,i=1,l=0,c=1,u=0,d=0,f=Math.floor(s);u<t&&(f=Math.floor(s),l=f*i+a,d=f*u+c,!(s-f<5e-8));)s=1/(s-f),a=i,i=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=a):(d=u,l=i)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function mh(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),a=0,i=[],l={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=gq(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=a,l}var NA=new Date(1899,11,31,0,0,0),uq=NA.getTime(),dq=new Date(1900,2,1,0,0,0);function jA(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=dq&&(r+=24*60*60*1e3),(r-(uq+(e.getTimezoneOffset()-NA.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function w1(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function fq(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function hq(e){var t=e<0?12:11,r=w1(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function mq(e){var t=w1(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function pq(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=hq(e):t===10?r=e.toFixed(10).substr(0,12):r=mq(e),w1(fq(r.toUpperCase()))}function uv(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):pq(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ao(14,jA(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function gq(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function xq(e,t,r,n){var s="",a=0,i=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return og[r.m-1][1];case 5:return og[r.m-1][0];default:return og[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return sS[r.q][0];default:return sS[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Qs(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,a=Math.round(i*(r.S+r.u)),a>=60*i&&(a=0),t==="s"?a===0?"0":""+a/i:(s=Qs(a,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?Qs(c,u):"";return d}function Li(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var kA=/%/g;function vq(e,t,r){var n=t.replace(kA,""),s=t.length-n.length;return Wa(e,n,r*Math.pow(10,2*s))+ur("%",s)}function yq(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Wa(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function AA(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+AA(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var RA=/# (\?+)( ?)\/( ?)(\d+)/;function wq(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),a=Math.floor(s/n),i=s-a*n,l=n;return r+(a===0?"":""+a)+" "+(i===0?ur(" ",e[1].length+1+e[4].length):y1(i,e[1].length)+e[2]+"/"+e[3]+Qs(l,e[4].length))}function _q(e,t,r){return r+(t===0?"":""+t)+ur(" ",e[1].length+2+e[4].length)}var PA=/^#*0*\.([0#]+)/,OA=/\).*[0#]/,IA=/\(###\) ###\\?-####/;function En(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function iS(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function oS(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Sq(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function bq(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function xs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(OA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xs("n",n,r):"("+xs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return yq(e,t,r);if(t.indexOf("%")!==-1)return vq(e,t,r);if(t.indexOf("E")!==-1)return AA(t,r);if(t.charCodeAt(0)===36)return"$"+xs(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Ul(c,t.length);if(t.match(/^[#?]+$/))return s=Ul(r,0),s==="0"&&(s=""),s.length>t.length?s:En(t.substr(0,t.length-s.length))+s;if(a=t.match(RA))return wq(a,c,u);if(t.match(/^#+0+$/))return u+Ul(c,t.length-t.indexOf("0"));if(a=t.match(PA))return s=iS(r,a[1].length).replace(/^([^\.]+)$/,"$1."+En(a[1])).replace(/\.$/,"."+En(a[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+ur("0",En(a[1]).length-p.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+iS(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Li(Ul(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xs(e,t,-r):Li(""+(Math.floor(r)+Sq(r,a[1].length)))+"."+Qs(oS(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return xs(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=vc(xs(e,t.replace(/[\\-]/g,""),r)),i=0,vc(vc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<s.length?s.charAt(i++):g==="0"?"0":""}));if(t.match(IA))return s=xs(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),l=V0(c,Math.pow(10,i)-1,!1),s=""+u,d=Wa("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=$0(l[2],i),d.length<a[4].length&&(d=En(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),l=V0(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?y1(l[1],i)+a[2]+"/"+a[3]+$0(l[2],i):ur(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=Ul(r,0),t.length<=s.length?s:En(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var f=t.indexOf(".")-i,h=t.length-s.length-f;return En(t.substr(0,f)+s+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=oS(r,a[1].length),r<0?"-"+xs(e,t,-r):Li(bq(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Qs(0,3-g.length):"")+g})+"."+Qs(i,a[1].length);switch(t){case"###,##0.00":return xs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Li(Ul(c,0));return m!=="0"?u+m:"";case"###,###.00":return xs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return xs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Eq(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Wa(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Tq(e,t,r){var n=t.replace(kA,""),s=t.length-n.length;return Wa(e,n,r*Math.pow(10,2*s))+ur("%",s)}function DA(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+DA(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+a)%s)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function fa(e,t,r){if(e.charCodeAt(0)===40&&!t.match(OA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?fa("n",n,r):"("+fa("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Eq(e,t,r);if(t.indexOf("%")!==-1)return Tq(e,t,r);if(t.indexOf("E")!==-1)return DA(t,r);if(t.charCodeAt(0)===36)return"$"+fa(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Qs(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:En(t.substr(0,t.length-s.length))+s;if(a=t.match(RA))return _q(a,c,u);if(t.match(/^#+0+$/))return u+Qs(c,t.length-t.indexOf("0"));if(a=t.match(PA))return s=(""+r).replace(/^([^\.]+)$/,"$1."+En(a[1])).replace(/\.$/,"."+En(a[1])),s=s.replace(/\.(\d*)$/,function(g,p){return"."+p+ur("0",En(a[1]).length-p.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Li(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+fa(e,t,-r):Li(""+r)+"."+ur("0",a[1].length);if(a=t.match(/^#,#*,#0/))return fa(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=vc(fa(e,t.replace(/[\\-]/g,""),r)),i=0,vc(vc(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<s.length?s.charAt(i++):g==="0"?"0":""}));if(t.match(IA))return s=fa(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),l=V0(c,Math.pow(10,i)-1,!1),s=""+u,d=Wa("n",a[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],d=$0(l[2],i),d.length<a[4].length&&(d=En(a[4].substr(a[4].length-d.length))+d),s+=d,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),l=V0(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?y1(l[1],i)+a[2]+"/"+a[3]+$0(l[2],i):ur(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:En(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var f=t.indexOf(".")-i,h=t.length-s.length-f;return En(t.substr(0,f)+s+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+fa(e,t,-r):Li(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Qs(0,3-g.length):"")+g})+"."+Qs(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Li(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return fa(e,t.slice(0,t.lastIndexOf(".")),r)+En(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Wa(e,t,r){return(r|0)===r?fa(e,t,r):xs(e,t,r)}function Cq(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var FA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function MA(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":q0(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(FA))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Nq(e,t,r,n){for(var s=[],a="",i=0,l="",c="t",u,d,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!q0(e,i))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(f=e.charCodeAt(++i))!==34&&i<e.length;)a+=String.fromCharCode(f);s[s.length]={t:"t",v:a},++i;break;case"\\":var m=e.charAt(++i),g=m==="("||m===")"?m:"t";s[s.length]={t:g,v:m},++i;break;case"_":s[s.length]={t:"t",v:" "},i+=2;break;case"@":s[s.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=mh(t,r,e.charAt(i+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=mh(t,r),u==null))return"";for(a=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),s[s.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(u==null&&(u=mh(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",i+=5,h="h"):(p.t="t",++i),u==null&&p.t==="T")return"";s[s.length]=p,c=l;break;case"[":for(a=l;e.charAt(i++)!=="]"&&i<e.length;)a+=e.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(FA)){if(u==null&&(u=mh(t,r),u==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",MA(e)||(s[s.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=l;++i<e.length&&(l=e.charAt(i))==="0";)a+=l;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)a+=l;s[s.length]={t:"n",v:a};break;case"?":for(a=l;e.charAt(++i)===l;)a+=l;s[s.length]={t:l,v:a},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)a+=e.charAt(i);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:l,v:l},++i;break;case"$":s[s.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++i;break}var x=0,v=0,y;for(i=s.length-1,c="t";i>=0;--i)switch(s[i].t){case"h":case"H":s[i].t=h,c="h",x<1&&(x=1);break;case"s":(y=s[i].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=s[i].t;break;case"m":c==="s"&&(s[i].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&s[i].v.match(/[Hh]/)&&(x=1),x<2&&s[i].v.match(/[Mm]/)&&(x=2),x<3&&s[i].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",S;for(i=0;i<s.length;++i)switch(s[i].t){case"t":case"T":case" ":case"D":break;case"X":s[i].v="",s[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[i].v=xq(s[i].t.charCodeAt(0),s[i].v,u,v),s[i].t="t";break;case"n":case"?":for(S=i+1;s[S]!=null&&((l=s[S].t)==="?"||l==="D"||(l===" "||l==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[i].v+=s[S].v,s[S]={v:"",t:";"},++S;w+=s[i].v,i=S-1;break;case"G":s[i].t="t",s[i].v=uv(t,r);break}var N="",A,b;if(w.length>0){w.charCodeAt(0)==40?(A=t<0&&w.charCodeAt(0)===45?-t:t,b=Wa("n",w,A)):(A=t<0&&n>1?-t:t,b=Wa("n",w,A),A<0&&s[0]&&s[0].t=="t"&&(b=b.substr(1),s[0].v="-"+s[0].v)),S=b.length-1;var T=s.length;for(i=0;i<s.length;++i)if(s[i]!=null&&s[i].t!="t"&&s[i].v.indexOf(".")>-1){T=i;break}var C=s.length;if(T===s.length&&b.indexOf("E")===-1){for(i=s.length-1;i>=0;--i)s[i]==null||"n?".indexOf(s[i].t)===-1||(S>=s[i].v.length-1?(S-=s[i].v.length,s[i].v=b.substr(S+1,s[i].v.length)):S<0?s[i].v="":(s[i].v=b.substr(0,S+1),S=-1),s[i].t="t",C=i);S>=0&&C<s.length&&(s[C].v=b.substr(0,S+1)+s[C].v)}else if(T!==s.length&&b.indexOf("E")===-1){for(S=b.indexOf(".")-1,i=T;i>=0;--i)if(!(s[i]==null||"n?".indexOf(s[i].t)===-1)){for(d=s[i].v.indexOf(".")>-1&&i===T?s[i].v.indexOf(".")-1:s[i].v.length-1,N=s[i].v.substr(d+1);d>=0;--d)S>=0&&(s[i].v.charAt(d)==="0"||s[i].v.charAt(d)==="#")&&(N=b.charAt(S--)+N);s[i].v=N,s[i].t="t",C=i}for(S>=0&&C<s.length&&(s[C].v=b.substr(0,S+1)+s[C].v),S=b.indexOf(".")+1,i=T;i<s.length;++i)if(!(s[i]==null||"n?(".indexOf(s[i].t)===-1&&i!==T)){for(d=s[i].v.indexOf(".")>-1&&i===T?s[i].v.indexOf(".")+1:0,N=s[i].v.substr(0,d);d<s[i].v.length;++d)S<b.length&&(N+=b.charAt(S++));s[i].v=N,s[i].t="t",C=i}}}for(i=0;i<s.length;++i)s[i]!=null&&"n?".indexOf(s[i].t)>-1&&(A=n>1&&t<0&&i>0&&s[i-1].v==="-"?-t:t,s[i].v=Wa(s[i].t,s[i].v,A),s[i].t="t");var R="";for(i=0;i!==s.length;++i)s[i]!=null&&(R+=s[i].v);return R}var lS=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function cS(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function jq(e,t){var r=Cq(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(lS),l=r[1].match(lS);return cS(t,i)?[n,r[0]]:cS(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,a]}function ao(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:hr)[e],n==null&&(n=r.table&&r.table[aS[e]]||hr[aS[e]]),n==null&&(n=cq[e]||"General");break}if(q0(n,0))return uv(t,r);t instanceof Date&&(t=jA(t,r.date1904));var s=jq(n,t);if(q0(s[1]))return uv(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Nq(s[1],t,r,s[0])}function LA(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(hr[r]==null){t<0&&(t=r);continue}if(hr[r]==e){t=r;break}}t<0&&(t=391)}return hr[t]=e,t}function Zm(e){for(var t=0;t!=392;++t)e[t]!==void 0&&LA(e[t],t)}function ep(){hr=lq()}var UA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function kq(e){var t=typeof e=="number"?hr[e]:e;return t=t.replace(UA,"(\\d+)"),new RegExp("^"+t+"$")}function Aq(e,t,r){var n=-1,s=-1,a=-1,i=-1,l=-1,c=-1;(t.match(UA)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":a=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:s=m;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&s==-1&&a==-1?d:u+"T"+d}var Rq=function(){var e={};e.version="1.2.0";function t(){for(var b=0,T=new Array(256),C=0;C!=256;++C)b=C,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,T[C]=b;return typeof Int32Array<"u"?new Int32Array(T):T}var r=t();function n(b){var T=0,C=0,R=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)I[R]=b[R];for(R=0;R!=256;++R)for(C=b[R],T=256+R;T<4096;T+=256)C=I[T]=C>>>8^b[C&255];var O=[];for(R=1;R!=16;++R)O[R-1]=typeof Int32Array<"u"?I.subarray(R*256,R*256+256):I.slice(R*256,R*256+256);return O}var s=n(r),a=s[0],i=s[1],l=s[2],c=s[3],u=s[4],d=s[5],f=s[6],h=s[7],m=s[8],g=s[9],p=s[10],x=s[11],v=s[12],y=s[13],w=s[14];function S(b,T){for(var C=T^-1,R=0,I=b.length;R<I;)C=C>>>8^r[(C^b.charCodeAt(R++))&255];return~C}function N(b,T){for(var C=T^-1,R=b.length-15,I=0;I<R;)C=w[b[I++]^C&255]^y[b[I++]^C>>8&255]^v[b[I++]^C>>16&255]^x[b[I++]^C>>>24]^p[b[I++]]^g[b[I++]]^m[b[I++]]^h[b[I++]]^f[b[I++]]^d[b[I++]]^u[b[I++]]^c[b[I++]]^l[b[I++]]^i[b[I++]]^a[b[I++]]^r[b[I++]];for(R+=15;I<R;)C=C>>>8^r[(C^b[I++])&255];return~C}function A(b,T){for(var C=T^-1,R=0,I=b.length,O=0,K=0;R<I;)O=b.charCodeAt(R++),O<128?C=C>>>8^r[(C^O)&255]:O<2048?(C=C>>>8^r[(C^(192|O>>6&31))&255],C=C>>>8^r[(C^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,K=b.charCodeAt(R++)&1023,C=C>>>8^r[(C^(240|O>>8&7))&255],C=C>>>8^r[(C^(128|O>>2&63))&255],C=C>>>8^r[(C^(128|K>>6&15|(O&3)<<4))&255],C=C>>>8^r[(C^(128|K&63))&255]):(C=C>>>8^r[(C^(224|O>>12&15))&255],C=C>>>8^r[(C^(128|O>>6&63))&255],C=C>>>8^r[(C^(128|O&63))&255]);return~C}return e.table=r,e.bstr=S,e.buf=N,e.str=A,e}(),Lt=function(){var t={};t.version="1.2.1";function r(E,D){for(var k=E.split("/"),P=D.split("/"),F=0,M=0,Q=Math.min(k.length,P.length);F<Q;++F){if(M=k[F].length-P[F].length)return M;if(k[F]!=P[F])return k[F]<P[F]?-1:1}return k.length-P.length}function n(E){if(E.charAt(E.length-1)=="/")return E.slice(0,-1).indexOf("/")===-1?E:n(E.slice(0,-1));var D=E.lastIndexOf("/");return D===-1?E:E.slice(0,D+1)}function s(E){if(E.charAt(E.length-1)=="/")return s(E.slice(0,-1));var D=E.lastIndexOf("/");return D===-1?E:E.slice(D+1)}function a(E,D){typeof D=="string"&&(D=new Date(D));var k=D.getHours();k=k<<6|D.getMinutes(),k=k<<5|D.getSeconds()>>>1,E.write_shift(2,k);var P=D.getFullYear()-1980;P=P<<4|D.getMonth()+1,P=P<<5|D.getDate(),E.write_shift(2,P)}function i(E){var D=E.read_shift(2)&65535,k=E.read_shift(2)&65535,P=new Date,F=k&31;k>>>=5;var M=k&15;k>>>=4,P.setMilliseconds(0),P.setFullYear(k+1980),P.setMonth(M-1),P.setDate(F);var Q=D&31;D>>>=5;var ae=D&63;return D>>>=6,P.setHours(D),P.setMinutes(ae),P.setSeconds(Q<<1),P}function l(E){ts(E,0);for(var D={},k=0;E.l<=E.length-4;){var P=E.read_shift(2),F=E.read_shift(2),M=E.l+F,Q={};switch(P){case 21589:k=E.read_shift(1),k&1&&(Q.mtime=E.read_shift(4)),F>5&&(k&2&&(Q.atime=E.read_shift(4)),k&4&&(Q.ctime=E.read_shift(4))),Q.mtime&&(Q.mt=new Date(Q.mtime*1e3));break}E.l=M,D[P]=Q}return D}var c;function u(){return c||(c={})}function d(E,D){if(E[0]==80&&E[1]==75)return _u(E,D);if((E[0]|32)==109&&(E[1]|32)==105)return Xn(E,D);if(E.length<512)throw new Error("CFB file size "+E.length+" < 512");var k=3,P=512,F=0,M=0,Q=0,ae=0,Y=0,J=[],Z=E.slice(0,512);ts(Z,0);var me=f(Z);switch(k=me[0],k){case 3:P=512;break;case 4:P=4096;break;case 0:if(me[1]==0)return _u(E,D);default:throw new Error("Major Version: Expected 3 or 4 saw "+k)}P!==512&&(Z=E.slice(0,P),ts(Z,28));var Te=E.slice(0,P);h(Z,k);var De=Z.read_shift(4,"i");if(k===3&&De!==0)throw new Error("# Directory Sectors: Expected 0 saw "+De);Z.l+=4,Q=Z.read_shift(4,"i"),Z.l+=4,Z.chk("00100000","Mini Stream Cutoff Size: "),ae=Z.read_shift(4,"i"),F=Z.read_shift(4,"i"),Y=Z.read_shift(4,"i"),M=Z.read_shift(4,"i");for(var ye=-1,Ae=0;Ae<109&&(ye=Z.read_shift(4,"i"),!(ye<0));++Ae)J[Ae]=ye;var at=m(E,P);x(Y,M,at,P,J);var Jt=y(at,Q,J,P);Jt[Q].name="!Directory",F>0&&ae!==K&&(Jt[ae].name="!MiniFAT"),Jt[J[0]].name="!FAT",Jt.fat_addrs=J,Jt.ssz=P;var Zt={},on=[],bu=[],Eu=[];w(Q,Jt,at,on,F,Zt,bu,ae),g(bu,Eu,on),on.shift();var Tu={FileIndex:bu,FullPaths:Eu};return D&&D.raw&&(Tu.raw={header:Te,sectors:at}),Tu}function f(E){if(E[E.l]==80&&E[E.l+1]==75)return[0,0];E.chk(te,"Header Signature: "),E.l+=16;var D=E.read_shift(2,"u");return[E.read_shift(2,"u"),D]}function h(E,D){var k=9;switch(E.l+=2,k=E.read_shift(2)){case 9:if(D!=3)throw new Error("Sector Shift: Expected 9 saw "+k);break;case 12:if(D!=4)throw new Error("Sector Shift: Expected 12 saw "+k);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+k)}E.chk("0600","Mini Sector Shift: "),E.chk("000000000000","Reserved: ")}function m(E,D){for(var k=Math.ceil(E.length/D)-1,P=[],F=1;F<k;++F)P[F-1]=E.slice(F*D,(F+1)*D);return P[k-1]=E.slice(k*D),P}function g(E,D,k){for(var P=0,F=0,M=0,Q=0,ae=0,Y=k.length,J=[],Z=[];P<Y;++P)J[P]=Z[P]=P,D[P]=k[P];for(;ae<Z.length;++ae)P=Z[ae],F=E[P].L,M=E[P].R,Q=E[P].C,J[P]===P&&(F!==-1&&J[F]!==F&&(J[P]=J[F]),M!==-1&&J[M]!==M&&(J[P]=J[M])),Q!==-1&&(J[Q]=P),F!==-1&&P!=J[P]&&(J[F]=J[P],Z.lastIndexOf(F)<ae&&Z.push(F)),M!==-1&&P!=J[P]&&(J[M]=J[P],Z.lastIndexOf(M)<ae&&Z.push(M));for(P=1;P<Y;++P)J[P]===P&&(M!==-1&&J[M]!==M?J[P]=J[M]:F!==-1&&J[F]!==F&&(J[P]=J[F]));for(P=1;P<Y;++P)if(E[P].type!==0){if(ae=P,ae!=J[ae])do ae=J[ae],D[P]=D[ae]+"/"+D[P];while(ae!==0&&J[ae]!==-1&&ae!=J[ae]);J[P]=-1}for(D[0]+="/",P=1;P<Y;++P)E[P].type!==2&&(D[P]+="/")}function p(E,D,k){for(var P=E.start,F=E.size,M=[],Q=P;k&&F>0&&Q>=0;)M.push(D.slice(Q*O,Q*O+O)),F-=O,Q=Oo(k,Q*4);return M.length===0?re(0):Kr(M).slice(0,E.size)}function x(E,D,k,P,F){var M=K;if(E===K){if(D!==0)throw new Error("DIFAT chain shorter than expected")}else if(E!==-1){var Q=k[E],ae=(P>>>2)-1;if(!Q)return;for(var Y=0;Y<ae&&(M=Oo(Q,Y*4))!==K;++Y)F.push(M);x(Oo(Q,P-4),D-1,k,P,F)}}function v(E,D,k,P,F){var M=[],Q=[];F||(F=[]);var ae=P-1,Y=0,J=0;for(Y=D;Y>=0;){F[Y]=!0,M[M.length]=Y,Q.push(E[Y]);var Z=k[Math.floor(Y*4/P)];if(J=Y*4&ae,P<4+J)throw new Error("FAT boundary crossed: "+Y+" 4 "+P);if(!E[Z])break;Y=Oo(E[Z],J)}return{nodes:M,data:xS([Q])}}function y(E,D,k,P){var F=E.length,M=[],Q=[],ae=[],Y=[],J=P-1,Z=0,me=0,Te=0,De=0;for(Z=0;Z<F;++Z)if(ae=[],Te=Z+D,Te>=F&&(Te-=F),!Q[Te]){Y=[];var ye=[];for(me=Te;me>=0;){ye[me]=!0,Q[me]=!0,ae[ae.length]=me,Y.push(E[me]);var Ae=k[Math.floor(me*4/P)];if(De=me*4&J,P<4+De)throw new Error("FAT boundary crossed: "+me+" 4 "+P);if(!E[Ae]||(me=Oo(E[Ae],De),ye[me]))break}M[Te]={nodes:ae,data:xS([Y])}}return M}function w(E,D,k,P,F,M,Q,ae){for(var Y=0,J=P.length?2:0,Z=D[E].data,me=0,Te=0,De;me<Z.length;me+=128){var ye=Z.slice(me,me+128);ts(ye,64),Te=ye.read_shift(2),De=T1(ye,0,Te-J),P.push(De);var Ae={name:De,type:ye.read_shift(1),color:ye.read_shift(1),L:ye.read_shift(4,"i"),R:ye.read_shift(4,"i"),C:ye.read_shift(4,"i"),clsid:ye.read_shift(16),state:ye.read_shift(4,"i"),start:0,size:0},at=ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2);at!==0&&(Ae.ct=S(ye,ye.l-8));var Jt=ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2);Jt!==0&&(Ae.mt=S(ye,ye.l-8)),Ae.start=ye.read_shift(4,"i"),Ae.size=ye.read_shift(4,"i"),Ae.size<0&&Ae.start<0&&(Ae.size=Ae.type=0,Ae.start=K,Ae.name=""),Ae.type===5?(Y=Ae.start,F>0&&Y!==K&&(D[Y].name="!StreamData")):Ae.size>=4096?(Ae.storage="fat",D[Ae.start]===void 0&&(D[Ae.start]=v(k,Ae.start,D.fat_addrs,D.ssz)),D[Ae.start].name=Ae.name,Ae.content=D[Ae.start].data.slice(0,Ae.size)):(Ae.storage="minifat",Ae.size<0?Ae.size=0:Y!==K&&Ae.start!==K&&D[Y]&&(Ae.content=p(Ae,D[Y].data,(D[ae]||{}).data))),Ae.content&&ts(Ae.content,0),M[De]=Ae,Q.push(Ae)}}function S(E,D){return new Date((ss(E,D+4)/1e7*Math.pow(2,32)+ss(E,D)/1e7-11644473600)*1e3)}function N(E,D){return u(),d(c.readFileSync(E),D)}function A(E,D){var k=D&&D.type;switch(k||Nt&&Buffer.isBuffer(E)&&(k="buffer"),k||"base64"){case"file":return N(E,D);case"base64":return d(Ys(ai(E)),D);case"binary":return d(Ys(E),D)}return d(E,D)}function b(E,D){var k=D||{},P=k.root||"Root Entry";if(E.FullPaths||(E.FullPaths=[]),E.FileIndex||(E.FileIndex=[]),E.FullPaths.length!==E.FileIndex.length)throw new Error("inconsistent CFB structure");E.FullPaths.length===0&&(E.FullPaths[0]=P+"/",E.FileIndex[0]={name:P,type:5}),k.CLSID&&(E.FileIndex[0].clsid=k.CLSID),T(E)}function T(E){var D="Sh33tJ5";if(!Lt.find(E,"/"+D)){var k=re(4);k[0]=55,k[1]=k[3]=50,k[2]=54,E.FileIndex.push({name:D,type:2,content:k,size:4,L:69,R:69,C:69}),E.FullPaths.push(E.FullPaths[0]+D),C(E)}}function C(E,D){b(E);for(var k=!1,P=!1,F=E.FullPaths.length-1;F>=0;--F){var M=E.FileIndex[F];switch(M.type){case 0:P?k=!0:(E.FileIndex.pop(),E.FullPaths.pop());break;case 1:case 2:case 5:P=!0,isNaN(M.R*M.L*M.C)&&(k=!0),M.R>-1&&M.L>-1&&M.R==M.L&&(k=!0);break;default:k=!0;break}}if(!(!k&&!D)){var Q=new Date(1987,1,19),ae=0,Y=Object.create?Object.create(null):{},J=[];for(F=0;F<E.FullPaths.length;++F)Y[E.FullPaths[F]]=!0,E.FileIndex[F].type!==0&&J.push([E.FullPaths[F],E.FileIndex[F]]);for(F=0;F<J.length;++F){var Z=n(J[F][0]);P=Y[Z],P||(J.push([Z,{name:s(Z).replace("/",""),type:1,clsid:ue,ct:Q,mt:Q,content:null}]),Y[Z]=!0)}for(J.sort(function(De,ye){return r(De[0],ye[0])}),E.FullPaths=[],E.FileIndex=[],F=0;F<J.length;++F)E.FullPaths[F]=J[F][0],E.FileIndex[F]=J[F][1];for(F=0;F<J.length;++F){var me=E.FileIndex[F],Te=E.FullPaths[F];if(me.name=s(Te).replace("/",""),me.L=me.R=me.C=-(me.color=1),me.size=me.content?me.content.length:0,me.start=0,me.clsid=me.clsid||ue,F===0)me.C=J.length>1?1:-1,me.size=0,me.type=5;else if(Te.slice(-1)=="/"){for(ae=F+1;ae<J.length&&n(E.FullPaths[ae])!=Te;++ae);for(me.C=ae>=J.length?-1:ae,ae=F+1;ae<J.length&&n(E.FullPaths[ae])!=n(Te);++ae);me.R=ae>=J.length?-1:ae,me.type=1}else n(E.FullPaths[F+1]||"")==n(Te)&&(me.R=F+1),me.type=2}}}function R(E,D){var k=D||{};if(k.fileType=="mad")return ca(E,k);switch(C(E),k.fileType){case"zip":return Su(E,k)}var P=function(De){for(var ye=0,Ae=0,at=0;at<De.FileIndex.length;++at){var Jt=De.FileIndex[at];if(Jt.content){var Zt=Jt.content.length;Zt>0&&(Zt<4096?ye+=Zt+63>>6:Ae+=Zt+511>>9)}}for(var on=De.FullPaths.length+3>>2,bu=ye+7>>3,Eu=ye+127>>7,Tu=bu+Ae+on+Eu,bo=Tu+127>>7,lp=bo<=109?0:Math.ceil((bo-109)/127);Tu+bo+lp+127>>7>bo;)lp=++bo<=109?0:Math.ceil((bo-109)/127);var Ra=[1,lp,bo,Eu,on,Ae,ye,0];return De.FileIndex[0].size=ye<<6,Ra[7]=(De.FileIndex[0].start=Ra[0]+Ra[1]+Ra[2]+Ra[3]+Ra[4]+Ra[5])+(Ra[6]+7>>3),Ra}(E),F=re(P[7]<<9),M=0,Q=0;{for(M=0;M<8;++M)F.write_shift(1,le[M]);for(M=0;M<8;++M)F.write_shift(2,0);for(F.write_shift(2,62),F.write_shift(2,3),F.write_shift(2,65534),F.write_shift(2,9),F.write_shift(2,6),M=0;M<3;++M)F.write_shift(2,0);for(F.write_shift(4,0),F.write_shift(4,P[2]),F.write_shift(4,P[0]+P[1]+P[2]+P[3]-1),F.write_shift(4,0),F.write_shift(4,4096),F.write_shift(4,P[3]?P[0]+P[1]+P[2]-1:K),F.write_shift(4,P[3]),F.write_shift(-4,P[1]?P[0]-1:K),F.write_shift(4,P[1]),M=0;M<109;++M)F.write_shift(-4,M<P[2]?P[1]+M:-1)}if(P[1])for(Q=0;Q<P[1];++Q){for(;M<236+Q*127;++M)F.write_shift(-4,M<P[2]?P[1]+M:-1);F.write_shift(-4,Q===P[1]-1?K:Q+1)}var ae=function(De){for(Q+=De;M<Q-1;++M)F.write_shift(-4,M+1);De&&(++M,F.write_shift(-4,K))};for(Q=M=0,Q+=P[1];M<Q;++M)F.write_shift(-4,he.DIFSECT);for(Q+=P[2];M<Q;++M)F.write_shift(-4,he.FATSECT);ae(P[3]),ae(P[4]);for(var Y=0,J=0,Z=E.FileIndex[0];Y<E.FileIndex.length;++Y)Z=E.FileIndex[Y],Z.content&&(J=Z.content.length,!(J<4096)&&(Z.start=Q,ae(J+511>>9)));for(ae(P[6]+7>>3);F.l&511;)F.write_shift(-4,he.ENDOFCHAIN);for(Q=M=0,Y=0;Y<E.FileIndex.length;++Y)Z=E.FileIndex[Y],Z.content&&(J=Z.content.length,!(!J||J>=4096)&&(Z.start=Q,ae(J+63>>6)));for(;F.l&511;)F.write_shift(-4,he.ENDOFCHAIN);for(M=0;M<P[4]<<2;++M){var me=E.FullPaths[M];if(!me||me.length===0){for(Y=0;Y<17;++Y)F.write_shift(4,0);for(Y=0;Y<3;++Y)F.write_shift(4,-1);for(Y=0;Y<12;++Y)F.write_shift(4,0);continue}Z=E.FileIndex[M],M===0&&(Z.start=Z.size?Z.start-1:K);var Te=M===0&&k.root||Z.name;if(J=2*(Te.length+1),F.write_shift(64,Te,"utf16le"),F.write_shift(2,J),F.write_shift(1,Z.type),F.write_shift(1,Z.color),F.write_shift(-4,Z.L),F.write_shift(-4,Z.R),F.write_shift(-4,Z.C),Z.clsid)F.write_shift(16,Z.clsid,"hex");else for(Y=0;Y<4;++Y)F.write_shift(4,0);F.write_shift(4,Z.state||0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,Z.start),F.write_shift(4,Z.size),F.write_shift(4,0)}for(M=1;M<E.FileIndex.length;++M)if(Z=E.FileIndex[M],Z.size>=4096)if(F.l=Z.start+1<<9,Nt&&Buffer.isBuffer(Z.content))Z.content.copy(F,F.l,0,Z.size),F.l+=Z.size+511&-512;else{for(Y=0;Y<Z.size;++Y)F.write_shift(1,Z.content[Y]);for(;Y&511;++Y)F.write_shift(1,0)}for(M=1;M<E.FileIndex.length;++M)if(Z=E.FileIndex[M],Z.size>0&&Z.size<4096)if(Nt&&Buffer.isBuffer(Z.content))Z.content.copy(F,F.l,0,Z.size),F.l+=Z.size+63&-64;else{for(Y=0;Y<Z.size;++Y)F.write_shift(1,Z.content[Y]);for(;Y&63;++Y)F.write_shift(1,0)}if(Nt)F.l=F.length;else for(;F.l<F.length;)F.write_shift(1,0);return F}function I(E,D){var k=E.FullPaths.map(function(Y){return Y.toUpperCase()}),P=k.map(function(Y){var J=Y.split("/");return J[J.length-(Y.slice(-1)=="/"?2:1)]}),F=!1;D.charCodeAt(0)===47?(F=!0,D=k[0].slice(0,-1)+D):F=D.indexOf("/")!==-1;var M=D.toUpperCase(),Q=F===!0?k.indexOf(M):P.indexOf(M);if(Q!==-1)return E.FileIndex[Q];var ae=!M.match(hh);for(M=M.replace(fd,""),ae&&(M=M.replace(hh,"!")),Q=0;Q<k.length;++Q)if((ae?k[Q].replace(hh,"!"):k[Q]).replace(fd,"")==M||(ae?P[Q].replace(hh,"!"):P[Q]).replace(fd,"")==M)return E.FileIndex[Q];return null}var O=64,K=-2,te="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],ue="00000000000000000000000000000000",he={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:te,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ue,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function L(E,D,k){u();var P=R(E,k);c.writeFileSync(D,P)}function U(E){for(var D=new Array(E.length),k=0;k<E.length;++k)D[k]=String.fromCharCode(E[k]);return D.join("")}function ne(E,D){var k=R(E,D);switch(D&&D.type||"buffer"){case"file":return u(),c.writeFileSync(D.filename,k),k;case"binary":return typeof k=="string"?k:U(k);case"base64":return Qd(typeof k=="string"?k:U(k));case"buffer":if(Nt)return Buffer.isBuffer(k)?k:ui(k);case"array":return typeof k=="string"?Ys(k):k}return k}var be;function j(E){try{var D=E.InflateRaw,k=new D;if(k._processChunk(new Uint8Array([3,0]),k._finishFlushFlag),k.bytesRead)be=E;else throw new Error("zlib does not expose bytesRead")}catch(P){console.error("cannot use native zlib: "+(P.message||P))}}function H(E,D){if(!be)return So(E,D);var k=be.InflateRaw,P=new k,F=P._processChunk(E.slice(E.l),P._finishFlushFlag);return E.l+=P.bytesRead,F}function B(E){return be?be.deflateRawSync(E):gs(E)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],W=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(E){var D=(E<<1|E<<11)&139536|(E<<5|E<<15)&558144;return(D>>16|D>>8|D)&255}for(var de=typeof Uint8Array<"u",ie=de?new Uint8Array(256):[],Ie=0;Ie<256;++Ie)ie[Ie]=ce(Ie);function Oe(E,D){var k=ie[E&255];return D<=8?k>>>8-D:(k=k<<8|ie[E>>8&255],D<=16?k>>>16-D:(k=k<<8|ie[E>>16&255],k>>>24-D))}function gt(E,D){var k=D&7,P=D>>>3;return(E[P]|(k<=6?0:E[P+1]<<8))>>>k&3}function Xe(E,D){var k=D&7,P=D>>>3;return(E[P]|(k<=5?0:E[P+1]<<8))>>>k&7}function yr(E,D){var k=D&7,P=D>>>3;return(E[P]|(k<=4?0:E[P+1]<<8))>>>k&15}function vt(E,D){var k=D&7,P=D>>>3;return(E[P]|(k<=3?0:E[P+1]<<8))>>>k&31}function je(E,D){var k=D&7,P=D>>>3;return(E[P]|(k<=1?0:E[P+1]<<8))>>>k&127}function jr(E,D,k){var P=D&7,F=D>>>3,M=(1<<k)-1,Q=E[F]>>>P;return k<8-P||(Q|=E[F+1]<<8-P,k<16-P)||(Q|=E[F+2]<<16-P,k<24-P)||(Q|=E[F+3]<<24-P),Q&M}function kr(E,D,k){var P=D&7,F=D>>>3;return P<=5?E[F]|=(k&7)<<P:(E[F]|=k<<P&255,E[F+1]=(k&7)>>8-P),D+3}function q(E,D,k){var P=D&7,F=D>>>3;return k=(k&1)<<P,E[F]|=k,D+1}function G(E,D,k){var P=D&7,F=D>>>3;return k<<=P,E[F]|=k&255,k>>>=8,E[F+1]=k,D+8}function se(E,D,k){var P=D&7,F=D>>>3;return k<<=P,E[F]|=k&255,k>>>=8,E[F+1]=k&255,E[F+2]=k>>>8,D+16}function Ee(E,D){var k=E.length,P=2*k>D?2*k:D+5,F=0;if(k>=D)return E;if(Nt){var M=rS(P);if(E.copy)E.copy(M);else for(;F<E.length;++F)M[F]=E[F];return M}else if(de){var Q=new Uint8Array(P);if(Q.set)Q.set(E);else for(;F<k;++F)Q[F]=E[F];return Q}return E.length=P,E}function xe(E){for(var D=new Array(E),k=0;k<E;++k)D[k]=0;return D}function ge(E,D,k){var P=1,F=0,M=0,Q=0,ae=0,Y=E.length,J=de?new Uint16Array(32):xe(32);for(M=0;M<32;++M)J[M]=0;for(M=Y;M<k;++M)E[M]=0;Y=E.length;var Z=de?new Uint16Array(Y):xe(Y);for(M=0;M<Y;++M)J[F=E[M]]++,P<F&&(P=F),Z[M]=0;for(J[0]=0,M=1;M<=P;++M)J[M+16]=ae=ae+J[M-1]<<1;for(M=0;M<Y;++M)ae=E[M],ae!=0&&(Z[M]=J[ae+16]++);var me=0;for(M=0;M<Y;++M)if(me=E[M],me!=0)for(ae=Oe(Z[M],P)>>P-me,Q=(1<<P+4-me)-1;Q>=0;--Q)D[ae|Q<<me]=me&15|M<<4;return P}var ke=de?new Uint16Array(512):xe(512),ot=de?new Uint16Array(32):xe(32);if(!de){for(var mt=0;mt<512;++mt)ke[mt]=0;for(mt=0;mt<32;++mt)ot[mt]=0}(function(){for(var E=[],D=0;D<32;D++)E.push(5);ge(E,ot,32);var k=[];for(D=0;D<=143;D++)k.push(8);for(;D<=255;D++)k.push(9);for(;D<=279;D++)k.push(7);for(;D<=287;D++)k.push(8);ge(k,ke,288)})();var an=function(){for(var D=de?new Uint8Array(32768):[],k=0,P=0;k<W.length-1;++k)for(;P<W[k+1];++P)D[P]=k;for(;P<32768;++P)D[P]=29;var F=de?new Uint8Array(259):[];for(k=0,P=0;k<ee.length-1;++k)for(;P<ee[k+1];++P)F[P]=k;function M(ae,Y){for(var J=0;J<ae.length;){var Z=Math.min(65535,ae.length-J),me=J+Z==ae.length;for(Y.write_shift(1,+me),Y.write_shift(2,Z),Y.write_shift(2,~Z&65535);Z-- >0;)Y[Y.l++]=ae[J++]}return Y.l}function Q(ae,Y){for(var J=0,Z=0,me=de?new Uint16Array(32768):[];Z<ae.length;){var Te=Math.min(65535,ae.length-Z);if(Te<10){for(J=kr(Y,J,+(Z+Te==ae.length)),J&7&&(J+=8-(J&7)),Y.l=J/8|0,Y.write_shift(2,Te),Y.write_shift(2,~Te&65535);Te-- >0;)Y[Y.l++]=ae[Z++];J=Y.l*8;continue}J=kr(Y,J,+(Z+Te==ae.length)+2);for(var De=0;Te-- >0;){var ye=ae[Z];De=(De<<5^ye)&32767;var Ae=-1,at=0;if((Ae=me[De])&&(Ae|=Z&-32768,Ae>Z&&(Ae-=32768),Ae<Z))for(;ae[Ae+at]==ae[Z+at]&&at<250;)++at;if(at>2){ye=F[at],ye<=22?J=G(Y,J,ie[ye+1]>>1)-1:(G(Y,J,3),J+=5,G(Y,J,ie[ye-23]>>5),J+=3);var Jt=ye<8?0:ye-4>>2;Jt>0&&(se(Y,J,at-ee[ye]),J+=Jt),ye=D[Z-Ae],J=G(Y,J,ie[ye]>>3),J-=3;var Zt=ye<4?0:ye-2>>1;Zt>0&&(se(Y,J,Z-Ae-W[ye]),J+=Zt);for(var on=0;on<at;++on)me[De]=Z&32767,De=(De<<5^ae[Z])&32767,++Z;Te-=at-1}else ye<=143?ye=ye+48:J=q(Y,J,1),J=G(Y,J,ie[ye]),me[De]=Z&32767,++Z}J=G(Y,J,0)-1}return Y.l=(J+7)/8|0,Y.l}return function(Y,J){return Y.length<8?M(Y,J):Q(Y,J)}}();function gs(E){var D=re(50+Math.floor(E.length*1.1)),k=an(E,D);return D.slice(0,k)}var Wn=de?new Uint16Array(32768):xe(32768),wo=de?new Uint16Array(32768):xe(32768),la=de?new Uint16Array(128):xe(128),Hn=1,_o=1;function Is(E,D){var k=vt(E,D)+257;D+=5;var P=vt(E,D)+1;D+=5;var F=yr(E,D)+4;D+=4;for(var M=0,Q=de?new Uint8Array(19):xe(19),ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Y=1,J=de?new Uint8Array(8):xe(8),Z=de?new Uint8Array(8):xe(8),me=Q.length,Te=0;Te<F;++Te)Q[z[Te]]=M=Xe(E,D),Y<M&&(Y=M),J[M]++,D+=3;var De=0;for(J[0]=0,Te=1;Te<=Y;++Te)Z[Te]=De=De+J[Te-1]<<1;for(Te=0;Te<me;++Te)(De=Q[Te])!=0&&(ae[Te]=Z[De]++);var ye=0;for(Te=0;Te<me;++Te)if(ye=Q[Te],ye!=0){De=ie[ae[Te]]>>8-ye;for(var Ae=(1<<7-ye)-1;Ae>=0;--Ae)la[De|Ae<<ye]=ye&7|Te<<3}var at=[];for(Y=1;at.length<k+P;)switch(De=la[je(E,D)],D+=De&7,De>>>=3){case 16:for(M=3+gt(E,D),D+=2,De=at[at.length-1];M-- >0;)at.push(De);break;case 17:for(M=3+Xe(E,D),D+=3;M-- >0;)at.push(0);break;case 18:for(M=11+je(E,D),D+=7;M-- >0;)at.push(0);break;default:at.push(De),Y<De&&(Y=De);break}var Jt=at.slice(0,k),Zt=at.slice(k);for(Te=k;Te<286;++Te)Jt[Te]=0;for(Te=P;Te<30;++Te)Zt[Te]=0;return Hn=ge(Jt,Wn,286),_o=ge(Zt,wo,30),D}function yu(E,D){if(E[0]==3&&!(E[1]&3))return[pl(D),2];for(var k=0,P=0,F=rS(D||1<<18),M=0,Q=F.length>>>0,ae=0,Y=0;!(P&1);){if(P=Xe(E,k),k+=3,P>>>1)P>>1==1?(ae=9,Y=5):(k=Is(E,k),ae=Hn,Y=_o);else{k&7&&(k+=8-(k&7));var J=E[k>>>3]|E[(k>>>3)+1]<<8;if(k+=32,J>0)for(!D&&Q<M+J&&(F=Ee(F,M+J),Q=F.length);J-- >0;)F[M++]=E[k>>>3],k+=8;continue}for(;;){!D&&Q<M+32767&&(F=Ee(F,M+32767),Q=F.length);var Z=jr(E,k,ae),me=P>>>1==1?ke[Z]:Wn[Z];if(k+=me&15,me>>>=4,!(me>>>8&255))F[M++]=me;else{if(me==256)break;me-=257;var Te=me<8?0:me-4>>2;Te>5&&(Te=0);var De=M+ee[me];Te>0&&(De+=jr(E,k,Te),k+=Te),Z=jr(E,k,Y),me=P>>>1==1?ot[Z]:wo[Z],k+=me&15,me>>>=4;var ye=me<4?0:me-2>>1,Ae=W[me];for(ye>0&&(Ae+=jr(E,k,ye),k+=ye),!D&&Q<De&&(F=Ee(F,De+100),Q=F.length);M<De;)F[M]=F[M-Ae],++M}}}return D?[F,k+7>>>3]:[F.slice(0,M),k+7>>>3]}function So(E,D){var k=E.slice(E.l||0),P=yu(k,D);return E.l+=P[1],P[0]}function wu(E,D){if(E)typeof console<"u"&&console.error(D);else throw new Error(D)}function _u(E,D){var k=E;ts(k,0);var P=[],F=[],M={FileIndex:P,FullPaths:F};b(M,{root:D.root});for(var Q=k.length-4;(k[Q]!=80||k[Q+1]!=75||k[Q+2]!=5||k[Q+3]!=6)&&Q>=0;)--Q;k.l=Q+4,k.l+=4;var ae=k.read_shift(2);k.l+=6;var Y=k.read_shift(4);for(k.l=Y,Q=0;Q<ae;++Q){k.l+=20;var J=k.read_shift(4),Z=k.read_shift(4),me=k.read_shift(2),Te=k.read_shift(2),De=k.read_shift(2);k.l+=8;var ye=k.read_shift(4),Ae=l(k.slice(k.l+me,k.l+me+Te));k.l+=me+Te+De;var at=k.l;k.l=ye+4,ip(k,J,Z,M,Ae),k.l=at}return M}function ip(E,D,k,P,F){E.l+=2;var M=E.read_shift(2),Q=E.read_shift(2),ae=i(E);if(M&8257)throw new Error("Unsupported ZIP encryption");for(var Y=E.read_shift(4),J=E.read_shift(4),Z=E.read_shift(4),me=E.read_shift(2),Te=E.read_shift(2),De="",ye=0;ye<me;++ye)De+=String.fromCharCode(E[E.l++]);if(Te){var Ae=l(E.slice(E.l,E.l+Te));(Ae[21589]||{}).mt&&(ae=Ae[21589].mt),((F||{})[21589]||{}).mt&&(ae=F[21589].mt)}E.l+=Te;var at=E.slice(E.l,E.l+J);switch(Q){case 8:at=H(E,Z);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Q)}var Jt=!1;M&8&&(Y=E.read_shift(4),Y==134695760&&(Y=E.read_shift(4),Jt=!0),J=E.read_shift(4),Z=E.read_shift(4)),J!=D&&wu(Jt,"Bad compressed size: "+D+" != "+J),Z!=k&&wu(Jt,"Bad uncompressed size: "+k+" != "+Z),vn(P,De,at,{unsafe:!0,mt:ae})}function Su(E,D){var k=D||{},P=[],F=[],M=re(1),Q=k.compression?8:0,ae=0,Y=0,J=0,Z=0,me=0,Te=E.FullPaths[0],De=Te,ye=E.FileIndex[0],Ae=[],at=0;for(Y=1;Y<E.FullPaths.length;++Y)if(De=E.FullPaths[Y].slice(Te.length),ye=E.FileIndex[Y],!(!ye.size||!ye.content||De=="Sh33tJ5")){var Jt=Z,Zt=re(De.length);for(J=0;J<De.length;++J)Zt.write_shift(1,De.charCodeAt(J)&127);Zt=Zt.slice(0,Zt.l),Ae[me]=Rq.buf(ye.content,0);var on=ye.content;Q==8&&(on=B(on)),M=re(30),M.write_shift(4,67324752),M.write_shift(2,20),M.write_shift(2,ae),M.write_shift(2,Q),ye.mt?a(M,ye.mt):M.write_shift(4,0),M.write_shift(-4,Ae[me]),M.write_shift(4,on.length),M.write_shift(4,ye.content.length),M.write_shift(2,Zt.length),M.write_shift(2,0),Z+=M.length,P.push(M),Z+=Zt.length,P.push(Zt),Z+=on.length,P.push(on),M=re(46),M.write_shift(4,33639248),M.write_shift(2,0),M.write_shift(2,20),M.write_shift(2,ae),M.write_shift(2,Q),M.write_shift(4,0),M.write_shift(-4,Ae[me]),M.write_shift(4,on.length),M.write_shift(4,ye.content.length),M.write_shift(2,Zt.length),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(4,0),M.write_shift(4,Jt),at+=M.l,F.push(M),at+=Zt.length,F.push(Zt),++me}return M=re(22),M.write_shift(4,101010256),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,me),M.write_shift(2,me),M.write_shift(4,at),M.write_shift(4,Z),M.write_shift(2,0),Kr([Kr(P),Kr(F),M])}var Kn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function op(E,D){if(E.ctype)return E.ctype;var k=E.name||"",P=k.match(/\.([^\.]+)$/);return P&&Kn[P[1]]||D&&(P=(k=D).match(/[\.\\]([^\.\\])+$/),P&&Kn[P[1]])?Kn[P[1]]:"application/octet-stream"}function Ye(E){for(var D=Qd(E),k=[],P=0;P<D.length;P+=76)k.push(D.slice(P,P+76));return k.join(`\r
`)+`\r
`}function jt(E){var D=E.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(J){var Z=J.charCodeAt(0).toString(16).toUpperCase();return"="+(Z.length==1?"0"+Z:Z)});D=D.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),D.charAt(0)==`
`&&(D="=0D"+D.slice(1)),D=D.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var k=[],P=D.split(`\r
`),F=0;F<P.length;++F){var M=P[F];if(M.length==0){k.push("");continue}for(var Q=0;Q<M.length;){var ae=76,Y=M.slice(Q,Q+ae);Y.charAt(ae-1)=="="?ae--:Y.charAt(ae-2)=="="?ae-=2:Y.charAt(ae-3)=="="&&(ae-=3),Y=M.slice(Q,Q+ae),Q+=ae,Q<M.length&&(Y+="="),k.push(Y)}}return k.join(`\r
`)}function Ut(E){for(var D=[],k=0;k<E.length;++k){for(var P=E[k];k<=E.length&&P.charAt(P.length-1)=="=";)P=P.slice(0,P.length-1)+E[++k];D.push(P)}for(var F=0;F<D.length;++F)D[F]=D[F].replace(/[=][0-9A-Fa-f]{2}/g,function(M){return String.fromCharCode(parseInt(M.slice(1),16))});return Ys(D.join(`\r
`))}function Gn(E,D,k){for(var P="",F="",M="",Q,ae=0;ae<10;++ae){var Y=D[ae];if(!Y||Y.match(/^\s*$/))break;var J=Y.match(/^(.*?):\s*([^\s].*)$/);if(J)switch(J[1].toLowerCase()){case"content-location":P=J[2].trim();break;case"content-type":M=J[2].trim();break;case"content-transfer-encoding":F=J[2].trim();break}}switch(++ae,F.toLowerCase()){case"base64":Q=Ys(ai(D.slice(ae).join("")));break;case"quoted-printable":Q=Ut(D.slice(ae));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+F)}var Z=vn(E,P.slice(k.length),Q,{unsafe:!0});M&&(Z.ctype=M)}function Xn(E,D){if(U(E.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var k=D&&D.root||"",P=(Nt&&Buffer.isBuffer(E)?E.toString("binary"):U(E)).split(`\r
`),F=0,M="";for(F=0;F<P.length;++F)if(M=P[F],!!/^Content-Location:/i.test(M)&&(M=M.slice(M.indexOf("file")),k||(k=M.slice(0,M.lastIndexOf("/")+1)),M.slice(0,k.length)!=k))for(;k.length>0&&(k=k.slice(0,k.length-1),k=k.slice(0,k.lastIndexOf("/")+1),M.slice(0,k.length)!=k););var Q=(P[1]||"").match(/boundary="(.*?)"/);if(!Q)throw new Error("MAD cannot find boundary");var ae="--"+(Q[1]||""),Y=[],J=[],Z={FileIndex:Y,FullPaths:J};b(Z);var me,Te=0;for(F=0;F<P.length;++F){var De=P[F];De!==ae&&De!==ae+"--"||(Te++&&Gn(Z,P.slice(me,F),k),me=F)}return Z}function ca(E,D){var k=D||{},P=k.boundary||"SheetJS";P="------="+P;for(var F=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+P.slice(2)+'"',"","",""],M=E.FullPaths[0],Q=M,ae=E.FileIndex[0],Y=1;Y<E.FullPaths.length;++Y)if(Q=E.FullPaths[Y].slice(M.length),ae=E.FileIndex[Y],!(!ae.size||!ae.content||Q=="Sh33tJ5")){Q=Q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(at){return"_x"+at.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(at){return"_u"+at.charCodeAt(0).toString(16)+"_"});for(var J=ae.content,Z=Nt&&Buffer.isBuffer(J)?J.toString("binary"):U(J),me=0,Te=Math.min(1024,Z.length),De=0,ye=0;ye<=Te;++ye)(De=Z.charCodeAt(ye))>=32&&De<128&&++me;var Ae=me>=Te*4/5;F.push(P),F.push("Content-Location: "+(k.root||"file:///C:/SheetJS/")+Q),F.push("Content-Transfer-Encoding: "+(Ae?"quoted-printable":"base64")),F.push("Content-Type: "+op(ae,Q)),F.push(""),F.push(Ae?jt(Z):Ye(Z))}return F.push(P+`--\r
`),F.join(`\r
`)}function Aa(E){var D={};return b(D,E),D}function vn(E,D,k,P){var F=P&&P.unsafe;F||b(E);var M=!F&&Lt.find(E,D);if(!M){var Q=E.FullPaths[0];D.slice(0,Q.length)==Q?Q=D:(Q.slice(-1)!="/"&&(Q+="/"),Q=(Q+D).replace("//","/")),M={name:s(D),type:2},E.FileIndex.push(M),E.FullPaths.push(Q),F||Lt.utils.cfb_gc(E)}return M.content=k,M.size=k?k.length:0,P&&(P.CLSID&&(M.clsid=P.CLSID),P.mt&&(M.mt=P.mt),P.ct&&(M.ct=P.ct)),M}function ua(E,D){b(E);var k=Lt.find(E,D);if(k){for(var P=0;P<E.FileIndex.length;++P)if(E.FileIndex[P]==k)return E.FileIndex.splice(P,1),E.FullPaths.splice(P,1),!0}return!1}function c4(E,D,k){b(E);var P=Lt.find(E,D);if(P){for(var F=0;F<E.FileIndex.length;++F)if(E.FileIndex[F]==P)return E.FileIndex[F].name=s(k),E.FullPaths[F]=k,!0}return!1}function u4(E){C(E,!0)}return t.find=I,t.read=A,t.parse=d,t.write=ne,t.writeFile=L,t.utils={cfb_new:Aa,cfb_add:vn,cfb_del:ua,cfb_mov:c4,cfb_gc:u4,ReadShift:md,CheckField:nR,prep_blob:ts,bconcat:Kr,use_zlib:j,_deflateRaw:gs,_inflateRaw:So,consts:he},t}();function Pq(e){return typeof e=="string"?Jm(e):Array.isArray(e)?sq(e):e}function Af(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Jm(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Zd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([Pq(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=kf(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function nn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function uS(e,t){for(var r=[],n=nn(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function _1(e){for(var t=[],r=nn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function tp(e){for(var t=[],r=nn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Oq(e){for(var t=[],r=nn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var z0=new Date(1899,11,30,0,0,0);function Vn(e,t){var r=e.getTime(),n=z0.getTime()+(e.getTimezoneOffset()-z0.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var BA=new Date,Iq=z0.getTime()+(BA.getTimezoneOffset()-z0.getTimezoneOffset())*6e4,dS=BA.getTimezoneOffset();function $A(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Iq),t.getTimezoneOffset()!==dS&&t.setTime(t.getTime()+(t.getTimezoneOffset()-dS)*6e4),t}var fS=new Date("2017-02-19T19:06:09.000Z"),qA=isNaN(fS.getFullYear())?new Date("2/19/17"):fS,Dq=qA.getFullYear()==2017;function Nn(e,t){var r=new Date(e);if(Dq)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(qA.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function rp(e,t){if(Nt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function zn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=zn(e[r]));return t}function ur(e,t){for(var r="";r.length<t;)r+=e;return r}function Ha(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var Fq=["january","february","march","april","may","june","july","august","september","october","november","december"];function Jd(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&Fq.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function ct(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Nt?n=ui(r):n=aq(r),Lt.utils.cfb_add(e,t,n)}Lt.utils.cfb_add(e,t,r)}else e.file(t,r)}function S1(){return Lt.utils.cfb_new()}var Nr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Mq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},b1=_1(Mq),E1=/[&<>'"]/g,Lq=/[\u0000-\u0008\u000b-\u001f]/g;function Dt(e){var t=e+"";return t.replace(E1,function(r){return b1[r]}).replace(Lq,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function hS(e){return Dt(e).replace(/ /g,"_x0020_")}var VA=/[\u0000-\u001f]/g;function Uq(e){var t=e+"";return t.replace(E1,function(r){return b1[r]}).replace(/\n/g,"<br/>").replace(VA,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Bq(e){var t=e+"";return t.replace(E1,function(r){return b1[r]}).replace(VA,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function $q(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function qq(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function lg(e){for(var t="",r=0,n=0,s=0,a=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=s&63,t+=String.fromCharCode(i);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(s&63)<<12|(a&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function mS(e){var t=pl(2*e.length),r,n,s=1,a=0,i=0,l;for(n=0;n<e.length;n+=s)s=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[a++]=i&255,t[a++]=i>>>8,i=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function pS(e){return ui(e,"binary").toString("utf8")}var ph="foo bar baz",hd=Nt&&(pS(ph)==lg(ph)&&pS||mS(ph)==lg(ph)&&mS)||lg,Zd=Nt?function(e){return ui(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Vq=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}}(),zA=/(^\s|\s$|\n)/;function Gr(e,t){return"<"+e+(t.match(zA)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function ef(e){return nn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function _e(e,t,r){return"<"+e+(r!=null?ef(r):"")+(t!=null?(t.match(zA)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function dv(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function zq(e,t){switch(typeof e){case"string":var r=_e("vt:lpwstr",Dt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return _e((e|0)==e?"vt:i4":"vt:r8",Dt(String(e)));case"boolean":return _e("vt:bool",e?"true":"false")}if(e instanceof Date)return _e("vt:filetime",dv(e));throw new Error("Unable to serialize "+e)}var Mr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},pu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ns={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Wq(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,a=5;a>=0;--a)s=s*256+e[t+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function Hq(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,a=0,i=n?-t:t;isFinite(i)?i==0?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(t)?26985:0);for(var l=0;l<=5;++l,a/=256)e[r+l]=a&255;e[r+6]=(s&15)<<4|a&15,e[r+7]=s>>4|n}var gS=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,a=e[0][n].length;s<a;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},xS=Nt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ui(t)})):gS(e)}:gS,vS=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(Ju(e,s)));return n.join("").replace(fd,"")},T1=Nt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(fd,""):vS(e,t,r)}:vS,yS=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},WA=Nt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):yS(e,t,r)}:yS,wS=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(Hl(e,s)));return n.join("")},Rf=Nt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):wS(t,r,n)}:wS,HA=function(e,t){var r=ss(e,t);return r>0?Rf(e,t+4,t+4+r-1):""},KA=HA,GA=function(e,t){var r=ss(e,t);return r>0?Rf(e,t+4,t+4+r-1):""},XA=GA,YA=function(e,t){var r=2*ss(e,t);return r>0?Rf(e,t+4,t+4+r-1):""},QA=YA,JA=function(t,r){var n=ss(t,r);return n>0?T1(t,r+4,r+4+n):""},ZA=JA,eR=function(e,t){var r=ss(e,t);return r>0?Rf(e,t+4,t+4+r):""},tR=eR,rR=function(e,t){return Wq(e,t)},W0=rR,C1=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Nt&&(KA=function(t,r){if(!Buffer.isBuffer(t))return HA(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},XA=function(t,r){if(!Buffer.isBuffer(t))return GA(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},QA=function(t,r){if(!Buffer.isBuffer(t))return YA(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},ZA=function(t,r){if(!Buffer.isBuffer(t))return JA(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},tR=function(t,r){if(!Buffer.isBuffer(t))return eR(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},W0=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):rR(t,r)},C1=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Hl=function(e,t){return e[t]},Ju=function(e,t){return e[t+1]*256+e[t]},Kq=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ss=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Oo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Gq=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function md(e,t){var r="",n,s,a=[],i,l,c,u;switch(t){case"dbcs":if(u=this.l,Nt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Ju(this,u)),u+=2;e*=2;break;case"utf8":r=Rf(this,this.l,this.l+e);break;case"utf16le":e*=2,r=T1(this,this.l,this.l+e);break;case"wstr":return md.call(this,e,"dbcs");case"lpstr-ansi":r=KA(this,this.l),e=4+ss(this,this.l);break;case"lpstr-cp":r=XA(this,this.l),e=4+ss(this,this.l);break;case"lpwstr":r=QA(this,this.l),e=4+2*ss(this,this.l);break;case"lpp4":e=4+ss(this,this.l),r=ZA(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ss(this,this.l),r=tR(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Hl(this,this.l+e++))!==0;)a.push(fh(i));r=a.join("");break;case"_wstr":for(e=0,r="";(i=Ju(this,this.l+e))!==0;)a.push(fh(i)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Hl(this,u),this.l=u+1,l=md.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(fh(Ju(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Hl(this,u),this.l=u+1,l=md.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(fh(Hl(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=Hl(this,this.l),this.l++,n;case 2:return n=(t==="i"?Kq:Ju)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Oo:Gq)(this,this.l),this.l+=4,n):(s=ss(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=W0(this,this.l):s=W0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=WA(this,this.l,e);break}}return this.l+=e,r}var Xq=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Yq=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Qq=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Jq(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)Qq(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var i=t.charCodeAt(s);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Xq(this,t,this.l);break;case 8:if(n=8,r==="f"){Hq(this,t,this.l);break}case 16:break;case-4:n=4,Yq(this,t,this.l);break}return this.l+=n,this}function nR(e,t){var r=WA(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ts(e,t){e.l=t,e.read_shift=md,e.chk=nR,e.write_shift=Jq}function Na(e,t){e.l+=t}function re(e){var t=pl(e);return ts(t,0),t}function qn(){var e=[],t=Nt?256:2048,r=function(u){var d=re(u);return ts(d,0),d},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,t)))},i=function(){return s(),Kr(e)},l=function(u){s(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:l,end:i,_bufs:e}}function fe(e,t,r,n){var s=+t,a;if(!isNaN(s)){n||(n=WG[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var i=e.next(a);s<=127?i.write_shift(1,s):(i.write_shift(1,(s&127)+128),i.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&C1(r)&&e.push(r)}}function pd(e,t,r){var n=zn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function _S(e,t,r){var n=zn(e);return n.s=pd(n.s,t.s,r),n.e=pd(n.e,t.s,r),n}function gd(e,t){if(e.cRel&&e.c<0)for(e=zn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=zn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Mt(e);return!e.cRel&&e.cRel!=null&&(r=tV(r)),!e.rRel&&e.rRel!=null&&(r=Zq(r)),r}function cg(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+hn(e.s.c)+":"+(e.e.cRel?"":"$")+hn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Qr(e.s.r)+":"+(e.e.rRel?"":"$")+Qr(e.e.r):gd(e.s,t.biff)+":"+gd(e.e,t.biff)}function N1(e){return parseInt(eV(e),10)-1}function Qr(e){return""+(e+1)}function Zq(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function eV(e){return e.replace(/\$(\d+)$/,"$1")}function j1(e){for(var t=rV(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function hn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function tV(e){return e.replace(/^([A-Z])/,"$$$1")}function rV(e){return e.replace(/^\$([A-Z])/,"$1")}function nV(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Lr(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function Mt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function hs(e){var t=e.indexOf(":");return t==-1?{s:Lr(e),e:Lr(e)}:{s:Lr(e.slice(0,t)),e:Lr(e.slice(t+1))}}function Cr(e,t){return typeof t>"u"||typeof t=="number"?Cr(e.s,e.e):(typeof e!="string"&&(e=Mt(e)),typeof t!="string"&&(t=Mt(t)),e==t?e:e+":"+t)}function Gt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=e.length;for(r=0;n<a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===a||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function SS(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ao(e.z,r?Vn(t):t)}catch{}try{return e.w=ao((e.XF||{}).numFmtId||(r?14:0),r?Vn(t):t)}catch{return""+t}}function ii(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Pf[e.v]||e.v:t==null?SS(e,e.v):SS(e,t))}function bl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function sR(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,a=e||(s?[]:{}),i=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?Lr(n.origin):n.origin;i=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=Gt(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=i+f,p=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||hr[14],n.cellDates?(m.t="d",m.w=ao(m.z,Vn(m.v))):(m.t="n",m.v=Vn(m.v),m.w=ao(m.z,m.v))):m.t="s";if(s)a[g]||(a[g]=[]),a[g][p]&&a[g][p].z&&(m.z=a[g][p].z),a[g][p]=m;else{var x=Mt({c:p,r:g});a[x]&&a[x].z&&(m.z=a[x].z),a[x]=m}}}return u.s.c<1e7&&(a["!ref"]=Cr(u)),a}function gu(e,t){return sR(null,e,t)}function sV(e){return e.read_shift(4,"i")}function ra(e,t){return t||(t=re(4)),t.write_shift(4,e),t}function mn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ur(e,t){var r=!1;return t==null&&(r=!0,t=re(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function aV(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function iV(e,t){return t||(t=re(4)),t.write_shift(2,0),t.write_shift(2,0),t}function k1(e,t){var r=e.l,n=e.read_shift(1),s=mn(e),a=[],i={t:s,h:s};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)a.push(aV(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function oV(e,t){var r=!1;return t==null&&(r=!0,t=re(15+4*e.t.length)),t.write_shift(1,0),Ur(e.t,t),r?t.slice(0,t.l):t}var lV=k1;function cV(e,t){var r=!1;return t==null&&(r=!0,t=re(23+4*e.t.length)),t.write_shift(1,1),Ur(e.t,t),t.write_shift(4,1),iV({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Os(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function El(e,t){return t==null&&(t=re(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Tl(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Cl(e,t){return t==null&&(t=re(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var uV=mn,aR=Ur;function A1(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function H0(e,t){var r=!1;return t==null&&(r=!0,t=re(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var dV=mn,fv=A1,R1=H0;function iR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?W0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Oo(t,0)>>2;return r?s/100:s}function oR(e,t){t==null&&(t=re(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:s==(s|0)&&s>=-(1<<29)&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function lR(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function fV(e,t){return t||(t=re(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Nl=lR,xu=fV;function vu(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function gl(e,t){return(t||re(8)).write_shift(8,e,"f")}function hV(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var u=SV[s];u&&(t.rgb=OS(u));break;case 2:t.rgb=OS([i,l,c]);break;case 3:t.theme=s;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function K0(e,t){if(t||(t=re(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function mV(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function pV(e,t){t||(t=re(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var cR=2,Qn=3,gh=11,G0=19,xh=64,gV=65,xV=71,vV=4108,yV=4126,Wr=80,bS={1:{n:"CodePage",t:cR},2:{n:"Category",t:Wr},3:{n:"PresentationFormat",t:Wr},4:{n:"ByteCount",t:Qn},5:{n:"LineCount",t:Qn},6:{n:"ParagraphCount",t:Qn},7:{n:"SlideCount",t:Qn},8:{n:"NoteCount",t:Qn},9:{n:"HiddenCount",t:Qn},10:{n:"MultimediaClipCount",t:Qn},11:{n:"ScaleCrop",t:gh},12:{n:"HeadingPairs",t:vV},13:{n:"TitlesOfParts",t:yV},14:{n:"Manager",t:Wr},15:{n:"Company",t:Wr},16:{n:"LinksUpToDate",t:gh},17:{n:"CharacterCount",t:Qn},19:{n:"SharedDoc",t:gh},22:{n:"HyperlinksChanged",t:gh},23:{n:"AppVersion",t:Qn,p:"version"},24:{n:"DigSig",t:gV},26:{n:"ContentType",t:Wr},27:{n:"ContentStatus",t:Wr},28:{n:"Language",t:Wr},29:{n:"Version",t:Wr},255:{},2147483648:{n:"Locale",t:G0},2147483651:{n:"Behavior",t:G0},1919054434:{}},ES={1:{n:"CodePage",t:cR},2:{n:"Title",t:Wr},3:{n:"Subject",t:Wr},4:{n:"Author",t:Wr},5:{n:"Keywords",t:Wr},6:{n:"Comments",t:Wr},7:{n:"Template",t:Wr},8:{n:"LastAuthor",t:Wr},9:{n:"RevNumber",t:Wr},10:{n:"EditTime",t:xh},11:{n:"LastPrinted",t:xh},12:{n:"CreatedDate",t:xh},13:{n:"ModifiedDate",t:xh},14:{n:"PageCount",t:Qn},15:{n:"WordCount",t:Qn},16:{n:"CharCount",t:Qn},17:{n:"Thumbnail",t:xV},18:{n:"Application",t:Wr},19:{n:"DocSecurity",t:Qn},255:{},2147483648:{n:"Locale",t:G0},2147483651:{n:"Behavior",t:G0},1919054434:{}};function wV(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var _V=wV([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),SV=zn(_V),Pf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bV={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},vh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function uR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function dR(e,t){var r=Oq(bV),n=[],s;n[n.length]=Nr,n[n.length]=_e("Types",null,{xmlns:Mr.CT,"xmlns:xsd":Mr.xsd,"xmlns:xsi":Mr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return _e("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(s=e[c][0],n[n.length]=_e("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:vh[c][t.bookType]||vh[c].xlsx}))},i=function(c){(e[c]||[]).forEach(function(u){n[n.length]=_e("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:vh[c][t.bookType]||vh[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=_e("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),i("sheets"),i("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),i("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var _t={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function fR(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function yc(e){var t=[Nr,_e("Relationships",null,{xmlns:Mr.RELS})];return nn(e["!id"]).forEach(function(r){t[t.length]=_e("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function It(e,t,r,n,s,a){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[_t.HLINK,_t.XPATH,_t.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function EV(e){var t=[Nr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function TS(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function TV(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function CV(e){var t=[Nr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(TS(e[r][0],e[r][1])),t.push(TV("",e[r][0]));return t.push(TS("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function hR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+B0.version+"</meta:generator></office:meta></office:document-meta>"}var Qo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ug(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Dt(t),n[n.length]=r?_e(e,t,r):Gr(e,t))}function mR(e,t){var r=t||{},n=[Nr,_e("cp:coreProperties",null,{"xmlns:cp":Mr.CORE_PROPS,"xmlns:dc":Mr.dc,"xmlns:dcterms":Mr.dcterms,"xmlns:dcmitype":Mr.dcmitype,"xmlns:xsi":Mr.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&ug("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:dv(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&ug("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:dv(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=Qo.length;++a){var i=Qo[a],l=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&ug(i[0],l,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var wc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],pR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function gR(e){var t=[],r=_e;return e||(e={}),e.Application="SheetJS",t[t.length]=Nr,t[t.length]=_e("Properties",null,{xmlns:Mr.EXT_PROPS,"xmlns:vt":Mr.vt}),wc.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=Dt(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Dt(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function xR(e){var t=[Nr,_e("Properties",null,{xmlns:Mr.CUST_PROPS,"xmlns:vt":Mr.vt})];if(!e)return t.join("");var r=1;return nn(e).forEach(function(s){++r,t[t.length]=_e("property",zq(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Dt(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var CS={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function NV(e,t){var r=[];return nn(CS).map(function(n){for(var s=0;s<Qo.length;++s)if(Qo[s][1]==n)return Qo[s];for(s=0;s<wc.length;++s)if(wc[s][1]==n)return wc[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Gr(CS[n[1]]||n[1],s))}}),_e("DocumentProperties",r.join(""),{xmlns:ns.o})}function jV(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&nn(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var i=0;i<Qo.length;++i)if(a==Qo[i][1])return;for(i=0;i<wc.length;++i)if(a==wc[i][1])return;for(i=0;i<r.length;++i)if(a==r[i])return;var l=e[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(_e(hS(a),l,{"dt:dt":c}))}}),t&&nn(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var i=t[a],l="string";typeof i=="number"?(l="float",i=String(i)):i===!0||i===!1?(l="boolean",i=i?"1":"0"):i instanceof Date?(l="dateTime.tz",i=i.toISOString()):i=String(i),s.push(_e(hS(a),i,{"dt:dt":l}))}}),"<"+n+' xmlns="'+ns.o+'">'+s.join("")+"</"+n+">"}function kV(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var i=re(8);return i.write_shift(4,n),i.write_shift(4,s),i}function NS(e,t){var r=re(4),n=re(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=re(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=kV(t);break;case 31:case 80:for(n=re(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Kr([r,n])}var vR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function AV(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function jS(e,t,r){var n=re(8),s=[],a=[],i=8,l=0,c=re(8),u=re(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),s.push(u),i+=8+c.length,!t){u=re(8),u.write_shift(4,0),s.unshift(u);var d=[re(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=re(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Kr(d),a.unshift(c),i+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(vR.indexOf(e[l][0])>-1||pR.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],m=0;if(t){m=+t[e[l][0]];var g=r[m];if(g.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}c=NS(g.t,h)}else{var x=AV(h);x==-1&&(x=31,h=String(h)),c=NS(x,h)}a.push(c),u=re(8),u.write_shift(4,t?m:2+l),s.push(u),i+=8+c.length}var v=8*(a.length+1);for(l=0;l<a.length;++l)s[l].write_shift(4,v),v+=a[l].length;return n.write_shift(4,i),n.write_shift(4,a.length),Kr([n].concat(s).concat(a))}function kS(e,t,r,n,s,a){var i=re(s?68:48),l=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Lt.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,s?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,s?68:48);var c=jS(e,r,n);if(l.push(c),s){var u=jS(s,null,null);i.write_shift(16,a,"hex"),i.write_shift(4,68+c.length),l.push(u)}return Kr(l)}function RV(e,t){t||(t=re(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function PV(e,t){return e.read_shift(t)===1}function Tn(e,t){return t||(t=re(2)),t.write_shift(2,+!!e),t}function yR(e){return e.read_shift(2,"u")}function ys(e,t){return t||(t=re(2)),t.write_shift(2,e),t}function wR(e,t,r){return r||(r=re(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function _R(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var i=n?e.read_shift(n,s):"";return i}function OV(e){var t=e.t||"",r=re(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=re(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return Kr(s)}function IV(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function DV(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):IV(e,n,r)}function FV(e,t,r){if(r.biff>5)return DV(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function SR(e,t,r){return r||(r=re(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function AS(e,t){t||(t=re(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function MV(e){var t=re(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(a==28)n=n.slice(1),AS(n,t);else if(a&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var l=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),a&8&&AS(s>-1?n.slice(s+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function xl(e,t,r,n){return n||(n=re(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function LV(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),a=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[s,a,i]}function UV(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function bR(e,t){return t||(t=re(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function P1(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=re(s);return a.write_shift(2,n),a.write_shift(2,t),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function BV(e,t){var r=!t||t.biff==8,n=re(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function $V(e,t){var r=!t||t.biff>=8?2:1,n=re(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function qV(e,t){var r=re(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=OV(e[s]);var a=Kr([r].concat(n));return a.parts=[r.length].concat(n.map(function(i){return i.length})),a}function VV(){var e=re(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function zV(e){var t=re(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function WV(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,a=re(s);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function HV(e,t,r,n){var s=re(10);return xl(e,t,n,s),s.write_shift(4,r),s}function KV(e,t,r,n,s){var a=!s||s.biff==8,i=re(8+ +a+(1+a)*r.length);return xl(e,t,n,i),i.write_shift(2,r.length),a&&i.write_shift(1,1),i.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),i}function GV(e,t,r,n){var s=r&&r.biff==5;n||(n=re(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function XV(e,t){var r=t.biff==8||!t.biff?4:2,n=re(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function RS(e,t,r,n){var s=r&&r.biff==5;n||(n=re(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function YV(e){var t=re(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function QV(e,t,r,n,s,a){var i=re(8);return xl(e,t,n,i),wR(r,a,i),i}function JV(e,t,r,n){var s=re(14);return xl(e,t,n,s),gl(r,s),s}function ZV(e,t,r){if(r.biff<8)return ez(e,t,r);for(var n=[],s=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(LV(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function ez(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=_R(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function tz(e){var t=re(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)bR(e[r],t);return t}function rz(e){var t=re(24),r=Lr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return Kr([t,MV(e[1])])}function nz(e){var t=e[1].Tooltip,r=re(10+2*(t.length+1));r.write_shift(2,2048);var n=Lr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function sz(e){return e||(e=re(4)),e.write_shift(2,1),e.write_shift(2,1),e}function az(e,t,r){if(!r.cellStyles)return Na(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s,e:a,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function iz(e,t){var r=re(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function oz(e){for(var t=re(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function lz(e,t,r){var n=re(15);return If(n,e,t),n.write_shift(8,r,"f"),n}function cz(e,t,r){var n=re(9);return If(n,e,t),n.write_shift(2,r),n}var uz=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=_1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=pl(1);switch(c.type){case"base64":d=Ys(ai(l));break;case"binary":d=Ys(l);break;case"buffer":case"array":d=l;break}ts(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,x=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var w=[],S={},N=Math.min(d.length,f==2?521:x-10-(m?264:0)),A=g?32:11;d.l<N&&d[d.l]!=13;)switch(S={},S.name=Po.utils.decode(y,d.slice(d.l,d.l+A)).replace(/[\u0000\r\n].*$/g,""),d.l+=A,S.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(S.offset=d.read_shift(4)),S.len=d.read_shift(1),f==2&&(S.offset=d.read_shift(2)),S.dec=d.read_shift(1),S.name.length&&w.push(S),f!=2&&(d.l+=g?13:14),S.type){case"B":(!m||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var b=0,T=0;for(u[0]=[],T=0;T!=w.length;++T)u[0][T]=w[T].name;for(;p-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++b]=[],T=0,T=0;T!=w.length;++T){var C=d.slice(d.l,d.l+w[T].len);d.l+=w[T].len,ts(C,0);var R=Po.utils.decode(y,C);switch(w[T].type){case"C":R.trim().length&&(u[b][T]=R.replace(/\s+$/,""));break;case"D":R.length===8?u[b][T]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):u[b][T]=R;break;case"F":u[b][T]=parseFloat(R.trim());break;case"+":case"I":u[b][T]=g?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":u[b][T]=!0;break;case"N":case"F":u[b][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[b][T]="##MEMO##"+(g?parseInt(R.trim(),10):C.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(u[b][T]=+R||0);break;case"@":u[b][T]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[b][T]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[b][T]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[b][T]=-C.read_shift(-8,"f");break;case"B":if(m&&w[T].len==8){u[b][T]=C.read_shift(8,"f");break}case"G":case"P":C.l+=w[T].len;break;case"0":if(w[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[T].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=gu(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function s(l,c){try{return bl(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&Yd(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=qn(),f=Z0(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=l["!cols"]||[],p=0,x=0,v=0,y=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++v;continue}if(h[p]!=null){if(++v,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(x=0;x<1024;++x)if(h.indexOf(h[p]+"_"+x)==-1){h[p]+="_"+x;break}}}}var w=Gt(l["!ref"]),S=[],N=[],A=[];for(p=0;p<=w.e.c-w.s.c;++p){var b="",T="",C=0,R=[];for(x=0;x<m.length;++x)m[x][p]!=null&&R.push(m[x][p]);if(R.length==0||h[p]==null){S[p]="?";continue}for(x=0;x<R.length;++x){switch(typeof R[x]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=R[x]instanceof Date?"D":"C";break;default:T="C"}C=Math.max(C,String(R[x]).length),b=b&&b!=T?"C":T}C>250&&(C=250),T=((g[p]||{}).DBF||{}).type,T=="C"&&g[p].DBF.len>C&&(C=g[p].DBF.len),b=="B"&&T=="N"&&(b="N",A[p]=g[p].DBF.dec,C=g[p].DBF.len),N[p]=b=="C"||T=="N"?C:a[b]||0,y+=N[p],S[p]=b}var I=d.next(32);for(I.write_shift(4,318902576),I.write_shift(4,m.length),I.write_shift(2,296+32*v),I.write_shift(2,y),p=0;p<4;++p)I.write_shift(4,0);for(I.write_shift(4,0|(+t[TA]||3)<<8),p=0,x=0;p<h.length;++p)if(h[p]!=null){var O=d.next(32),K=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,K,"sbcs"),O.write_shift(1,S[p]=="?"?"C":S[p],"sbcs"),O.write_shift(4,x),O.write_shift(1,N[p]||a[S[p]]||0),O.write_shift(1,A[p]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),x+=N[p]||a[S[p]]||0}var te=d.next(264);for(te.write_shift(4,13),p=0;p<65;++p)te.write_shift(4,0);for(p=0;p<m.length;++p){var le=d.next(y);for(le.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(S[x]){case"L":le.write_shift(1,m[p][x]==null?63:m[p][x]?84:70);break;case"B":le.write_shift(8,m[p][x]||0,"f");break;case"N":var ue="0";for(typeof m[p][x]=="number"&&(ue=m[p][x].toFixed(A[x]||0)),v=0;v<N[x]-ue.length;++v)le.write_shift(1,32);le.write_shift(1,ue,"sbcs");break;case"D":m[p][x]?(le.write_shift(4,("0000"+m[p][x].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(m[p][x].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+m[p][x].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var he=String(m[p][x]!=null?m[p][x]:"").slice(0,N[x]);for(le.write_shift(1,he,"sbcs"),v=0;v<N[x]-he.length;++v)le.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:n,from_sheet:i}}(),dz=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+nn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?tS(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:tS(p)};e["|"]=254;function s(h,m){switch(m.type){case"base64":return a(ai(h),m);case"binary":return a(h,m);case"buffer":return a(Nt&&Buffer.isBuffer(h)?h.toString("binary"):kf(h),m);case"array":return a(rp(h),m)}throw new Error("Unrecognized type "+m.type)}function a(h,m){var g=h.split(/[\n\r]+/),p=-1,x=-1,v=0,y=0,w=[],S=[],N=null,A={},b=[],T=[],C=[],R=0,I;for(+m.codepage>=0&&Yd(+m.codepage);v!==g.length;++v){R=0;var O=g[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),K=O.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),te=K[0],le;if(O.length>0)switch(te){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&S.push(O.slice(3).replace(/;;/g,";"));break;case"C":var ue=!1,he=!1,L=!1,U=!1,ne=-1,be=-1;for(y=1;y<K.length;++y)switch(K[y].charAt(0)){case"A":break;case"X":x=parseInt(K[y].slice(1))-1,he=!0;break;case"Y":for(p=parseInt(K[y].slice(1))-1,he||(x=0),I=w.length;I<=p;++I)w[I]=[];break;case"K":le=K[y].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(Ha(le))?isNaN(Jd(le).getDate())||(le=Nn(le)):(le=Ha(le),N!==null&&MA(N)&&(le=$A(le))),ue=!0;break;case"E":U=!0;var j=cW(K[y].slice(1),{r:p,c:x});w[p][x]=[w[p][x],j];break;case"S":L=!0,w[p][x]=[w[p][x],"S5S"];break;case"G":break;case"R":ne=parseInt(K[y].slice(1))-1;break;case"C":be=parseInt(K[y].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}if(ue&&(w[p][x]&&w[p][x].length==2?w[p][x][0]=le:w[p][x]=le,N=null),L){if(U)throw new Error("SYLK shared formula cannot have own formula");var H=ne>-1&&w[ne][be];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");w[p][x][1]=uW(H[1],{r:p-ne,c:x-be})}break;case"F":var B=0;for(y=1;y<K.length;++y)switch(K[y].charAt(0)){case"X":x=parseInt(K[y].slice(1))-1,++B;break;case"Y":for(p=parseInt(K[y].slice(1))-1,I=w.length;I<=p;++I)w[I]=[];break;case"M":R=parseInt(K[y].slice(1))/20;break;case"F":break;case"G":break;case"P":N=S[parseInt(K[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=K[y].slice(1).split(" "),I=parseInt(C[0],10);I<=parseInt(C[1],10);++I)R=parseInt(C[2],10),T[I-1]=R===0?{hidden:!0}:{wch:R},O1(T[I-1]);break;case"C":x=parseInt(K[y].slice(1))-1,T[x]||(T[x]={});break;case"R":p=parseInt(K[y].slice(1))-1,b[p]||(b[p]={}),R>0?(b[p].hpt=R,b[p].hpx=jR(R)):R===0&&(b[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}B<1&&(N=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}}return b.length>0&&(A["!rows"]=b),T.length>0&&(A["!cols"]=T),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,A]}function i(h,m){var g=s(h,m),p=g[0],x=g[1],v=gu(p,m);return nn(x).forEach(function(y){v[y]=x[y]}),v}function l(h,m){return bl(i(h,m),m)}function c(h,m,g,p){var x="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+D1(h.f,{r:g,c:p}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,m){m.forEach(function(g,p){var x="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=X0(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Y0(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,m){m.forEach(function(g,p){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*Q0(g.hpx)+";"),x.length>2&&h.push(x+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],x=Gt(h["!ref"]),v,y=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var S=x.s.r;S<=x.e.r;++S)for(var N=x.s.c;N<=x.e.c;++N){var A=Mt({r:S,c:N});v=y?(h[S]||[])[N]:h[A],!(!v||v.v==null&&(!v.f||v.F))&&p.push(c(v,h,S,N))}return g.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),fz=function(){function e(a,i){switch(i.type){case"base64":return t(ai(a),i);case"binary":return t(a,i);case"buffer":return t(Nt&&Buffer.isBuffer(a)?a.toString("binary"):kf(a),i);case"array":return t(rp(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){for(var l=a.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(Ha(g))?isNaN(Jd(g).getDate())?f[c][u]=g:f[c][u]=Nn(g):f[c][u]=Ha(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(a,i){return gu(e(a,i),i)}function n(a,i){return bl(r(a,i),i)}var s=function(){var a=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Gt(c["!ref"]),f,h=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=Mt({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){i(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,x,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ao(f.z||hr[14],Vn(Nn(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var v=`\r
`,y=u.join(v);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),ER=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,x=0,v=[];x!==m.length;++x){var y=m[x].trim().split(":");if(y[0]==="cell"){var w=Lr(y[1]);if(v.length<=w.r)for(g=v.length;g<=w.r;++g)v[g]||(v[g]=[]);switch(g=w.r,p=w.c,y[2]){case"t":v[g][p]=e(y[3]);break;case"v":v[g][p]=+y[3];break;case"vtf":var S=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[g][p]=!!+y[4];break;default:v[g][p]=+y[4];break}y[2]=="vtf"&&(v[g][p]=[v[g][p],S])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return gu(r(f,h),h)}function s(f,h){return bl(n(f,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",x=hs(f["!ref"]),v=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var w=x.s.c;w<=x.e.c;++w)if(p=Mt({r:y,c:w}),g=v?(f[y]||[])[w]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var S=Vn(Nn(g.v));m[2]="vtc",m[3]="nd",m[4]=""+S,m[5]=g.w||ao(g.z||hr[14],S);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[a,i,l,i,u(f),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:d}}(),hz=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Ha(d))?isNaN(Jd(d).getDate())?f[h][m]=d:f[h][m]=Nn(d):f[h][m]=Ha(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var x=10,v=0,y=0;y<=p;++y)v=g[y].indexOf(" "),v==-1?v=g[y].length:v++,x=Math.max(x,v);for(y=0;y<=p;++y){m[y]=[];var w=0;for(e(g[y].slice(0,x).trim(),m,y,w,h),w=1;w<=(g[y].length-x)/10+1;++w)e(g[y].slice(x+(w-1)*10,x+w*10).trim(),m,y,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,x){return p[0]-x[0]||n[p[1]]-n[x[1]]}),r[g.pop()[1]]||44}function a(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=s(d.slice(0,1024)):h&&h.FS?m=h.FS:m=s(d.slice(0,1024));var x=0,v=0,y=0,w=0,S=0,N=m.charCodeAt(0),A=!1,b=0,T=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?kq(h.dateNF):null;function R(){var I=d.slice(w,S),O={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)O.t="z";else if(h.raw)O.t="s",O.v=I;else if(I.trim().length===0)O.t="s",O.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(O.t="s",O.v=I.slice(2,-1).replace(/""/g,'"')):dW(I)?(O.t="n",O.f=I.slice(1)):(O.t="s",O.v=I);else if(I=="TRUE")O.t="b",O.v=!0;else if(I=="FALSE")O.t="b",O.v=!1;else if(!isNaN(y=Ha(I)))O.t="n",h.cellText!==!1&&(O.w=I),O.v=y;else if(!isNaN(Jd(I).getDate())||C&&I.match(C)){O.z=h.dateNF||hr[14];var K=0;C&&I.match(C)&&(I=Aq(I,h.dateNF,I.match(C)||[]),K=1),h.cellDates?(O.t="d",O.v=Nn(I,K)):(O.t="n",O.v=Vn(Nn(I,K))),h.cellText!==!1&&(O.w=ao(O.z,O.v instanceof Date?Vn(O.v):O.v)),h.cellNF||delete O.z}else O.t="s",O.v=I;if(O.t=="z"||(h.dense?(g[x]||(g[x]=[]),g[x][v]=O):g[Mt({c:v,r:x})]=O),w=S+1,T=d.charCodeAt(w),p.e.c<v&&(p.e.c=v),p.e.r<x&&(p.e.r=x),b==N)++v;else if(v=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;S<d.length;++S)switch(b=d.charCodeAt(S)){case 34:T===34&&(A=!A);break;case N:case 10:case 13:if(!A&&R())break e;break}return S-w>0&&R(),g["!ref"]=Cr(p),g}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,f):gu(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:TX(d,f);switch(f.type){case"base64":h=ai(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Po<"u"?h=Po.utils.decode(f.codepage,d):h=Nt&&Buffer.isBuffer(d)?d.toString("binary"):kf(d);break;case"array":h=rp(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=hd(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=hd(h):f.type=="binary"&&typeof Po<"u"&&f.codepage&&(h=Po.utils.decode(f.codepage,Po.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?ER.to_sheet(f.type=="string"?h:hd(h),f):i(h,f)}function c(d,f){return bl(l(d,f),f)}function u(d){for(var f=[],h=Gt(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var x=[],v=h.s.c;v<=h.e.c;++v){var y=Mt({r:p,c:v});if(m=g?(d[p]||[])[v]:d[y],!m||m.v==null){x.push("          ");continue}for(var w=(m.w||(ii(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";x.push(w+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),PS=function(){function e(j,H,B){if(j){ts(j,j.l||0);for(var z=B.Enum||ne;j.l<j.length;){var ee=j.read_shift(2),W=z[ee]||z[65535],ce=j.read_shift(2),de=j.l+ce,ie=W.f&&W.f(j,ce,B);if(j.l=de,H(ie,W,ee))return}}}function t(j,H){switch(H.type){case"base64":return r(Ys(ai(j)),H);case"binary":return r(Ys(j),H);case"buffer":case"array":return r(j,H)}throw"Unsupported type "+H.type}function r(j,H){if(!j)return j;var B=H||{},z=B.dense?[]:{},ee="Sheet1",W="",ce=0,de={},ie=[],Ie=[],Oe={s:{r:0,c:0},e:{r:0,c:0}},gt=B.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)B.Enum=ne,e(j,function(je,jr,kr){switch(kr){case 0:B.vers=je,je>=4096&&(B.qpro=!0);break;case 6:Oe=je;break;case 204:je&&(W=je);break;case 222:W=je;break;case 15:case 51:B.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:kr==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=B.dateNF||hr[14],B.cellDates&&(je[1].t="d",je[1].v=$A(je[1].v))),B.qpro&&je[3]>ce&&(z["!ref"]=Cr(Oe),de[ee]=z,ie.push(ee),z=B.dense?[]:{},Oe={s:{r:0,c:0},e:{r:0,c:0}},ce=je[3],ee=W||"Sheet"+(ce+1),W="");var q=B.dense?(z[je[0].r]||[])[je[0].c]:z[Mt(je[0])];if(q){q.t=je[1].t,q.v=je[1].v,je[1].z!=null&&(q.z=je[1].z),je[1].f!=null&&(q.f=je[1].f);break}B.dense?(z[je[0].r]||(z[je[0].r]=[]),z[je[0].r][je[0].c]=je[1]):z[Mt(je[0])]=je[1];break}},B);else if(j[2]==26||j[2]==14)B.Enum=be,j[2]==14&&(B.qpro=!0,j.l=0),e(j,function(je,jr,kr){switch(kr){case 204:ee=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>ce&&(z["!ref"]=Cr(Oe),de[ee]=z,ie.push(ee),z=B.dense?[]:{},Oe={s:{r:0,c:0},e:{r:0,c:0}},ce=je[3],ee="Sheet"+(ce+1)),gt>0&&je[0].r>=gt)break;B.dense?(z[je[0].r]||(z[je[0].r]=[]),z[je[0].r][je[0].c]=je[1]):z[Mt(je[0])]=je[1],Oe.e.c<je[0].c&&(Oe.e.c=je[0].c),Oe.e.r<je[0].r&&(Oe.e.r=je[0].r);break;case 27:je[14e3]&&(Ie[je[14e3][0]]=je[14e3][1]);break;case 1537:Ie[je[0]]=je[1],je[0]==ce&&(ee=je[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(z["!ref"]=Cr(Oe),de[W||ee]=z,ie.push(W||ee),!Ie.length)return{SheetNames:ie,Sheets:de};for(var Xe={},yr=[],vt=0;vt<Ie.length;++vt)de[ie[vt]]?(yr.push(Ie[vt]||ie[vt]),Xe[Ie[vt]]=de[Ie[vt]]||de[ie[vt]]):(yr.push(Ie[vt]),Xe[Ie[vt]]={"!ref":"A1"});return{SheetNames:yr,Sheets:Xe}}function n(j,H){var B=H||{};if(+B.codepage>=0&&Yd(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=qn(),ee=Gt(j["!ref"]),W=Array.isArray(j),ce=[];Se(z,0,a(1030)),Se(z,6,c(ee));for(var de=Math.min(ee.e.r,8191),ie=ee.s.r;ie<=de;++ie)for(var Ie=Qr(ie),Oe=ee.s.c;Oe<=ee.e.c;++Oe){ie===ee.s.r&&(ce[Oe]=hn(Oe));var gt=ce[Oe]+Ie,Xe=W?(j[ie]||[])[Oe]:j[gt];if(!(!Xe||Xe.t=="z"))if(Xe.t=="n")(Xe.v|0)==Xe.v&&Xe.v>=-32768&&Xe.v<=32767?Se(z,13,m(ie,Oe,Xe.v)):Se(z,14,p(ie,Oe,Xe.v));else{var yr=ii(Xe);Se(z,15,f(ie,Oe,yr.slice(0,239)))}}return Se(z,1),z.end()}function s(j,H){var B=H||{};if(+B.codepage>=0&&Yd(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=qn();Se(z,0,i(j));for(var ee=0,W=0;ee<j.SheetNames.length;++ee)(j.Sheets[j.SheetNames[ee]]||{})["!ref"]&&Se(z,27,U(j.SheetNames[ee],W++));var ce=0;for(ee=0;ee<j.SheetNames.length;++ee){var de=j.Sheets[j.SheetNames[ee]];if(!(!de||!de["!ref"])){for(var ie=Gt(de["!ref"]),Ie=Array.isArray(de),Oe=[],gt=Math.min(ie.e.r,8191),Xe=ie.s.r;Xe<=gt;++Xe)for(var yr=Qr(Xe),vt=ie.s.c;vt<=ie.e.c;++vt){Xe===ie.s.r&&(Oe[vt]=hn(vt));var je=Oe[vt]+yr,jr=Ie?(de[Xe]||[])[vt]:de[je];if(!(!jr||jr.t=="z"))if(jr.t=="n")Se(z,23,R(Xe,vt,ce,jr.v));else{var kr=ii(jr);Se(z,22,b(Xe,vt,ce,kr.slice(0,239)))}}++ce}}return Se(z,1),z.end()}function a(j){var H=re(2);return H.write_shift(2,j),H}function i(j){var H=re(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var B=0,z=0,ee=0,W=0;W<j.SheetNames.length;++W){var ce=j.SheetNames[W],de=j.Sheets[ce];if(!(!de||!de["!ref"])){++ee;var ie=hs(de["!ref"]);B<ie.e.r&&(B=ie.e.r),z<ie.e.c&&(z=ie.e.c)}}return B>8191&&(B=8191),H.write_shift(2,B),H.write_shift(1,ee),H.write_shift(1,z),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function l(j,H,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&B.qpro?(z.s.c=j.read_shift(1),j.l++,z.s.r=j.read_shift(2),z.e.c=j.read_shift(1),j.l++,z.e.r=j.read_shift(2),z):(z.s.c=j.read_shift(2),z.s.r=j.read_shift(2),H==12&&B.qpro&&(j.l+=2),z.e.c=j.read_shift(2),z.e.r=j.read_shift(2),H==12&&B.qpro&&(j.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(j){var H=re(8);return H.write_shift(2,j.s.c),H.write_shift(2,j.s.r),H.write_shift(2,j.e.c),H.write_shift(2,j.e.r),H}function u(j,H,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=j.read_shift(1),z[3]=j.read_shift(1),z[0].r=j.read_shift(2),j.l+=2):(z[2]=j.read_shift(1),z[0].c=j.read_shift(2),z[0].r=j.read_shift(2)),z}function d(j,H,B){var z=j.l+H,ee=u(j,H,B);if(ee[1].t="s",B.vers==20768){j.l++;var W=j.read_shift(1);return ee[1].v=j.read_shift(W,"utf8"),ee}return B.qpro&&j.l++,ee[1].v=j.read_shift(z-j.l,"cstr"),ee}function f(j,H,B){var z=re(7+B.length);z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,j),z.write_shift(1,39);for(var ee=0;ee<z.length;++ee){var W=B.charCodeAt(ee);z.write_shift(1,W>=128?95:W)}return z.write_shift(1,0),z}function h(j,H,B){var z=u(j,H,B);return z[1].v=j.read_shift(2,"i"),z}function m(j,H,B){var z=re(7);return z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,j),z.write_shift(2,B,"i"),z}function g(j,H,B){var z=u(j,H,B);return z[1].v=j.read_shift(8,"f"),z}function p(j,H,B){var z=re(13);return z.write_shift(1,255),z.write_shift(2,H),z.write_shift(2,j),z.write_shift(8,B,"f"),z}function x(j,H,B){var z=j.l+H,ee=u(j,H,B);if(ee[1].v=j.read_shift(8,"f"),B.qpro)j.l=z;else{var W=j.read_shift(2);S(j.slice(j.l,j.l+W),ee),j.l+=W}return ee}function v(j,H,B){var z=H&32768;return H&=-32769,H=(z?j:0)+(H>=8192?H-16384:H),(z?"":"$")+(B?hn(H):Qr(H))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(j,H){ts(j,0);for(var B=[],z=0,ee="",W="",ce="",de="";j.l<j.length;){var ie=j[j.l++];switch(ie){case 0:B.push(j.read_shift(8,"f"));break;case 1:W=v(H[0].c,j.read_shift(2),!0),ee=v(H[0].r,j.read_shift(2),!1),B.push(W+ee);break;case 2:{var Ie=v(H[0].c,j.read_shift(2),!0),Oe=v(H[0].r,j.read_shift(2),!1);W=v(H[0].c,j.read_shift(2),!0),ee=v(H[0].r,j.read_shift(2),!1),B.push(Ie+Oe+":"+W+ee)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(j.read_shift(2));break;case 6:{for(var gt="";ie=j[j.l++];)gt+=String.fromCharCode(ie);B.push('"'+gt.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:de=B.pop(),ce=B.pop(),B.push(["AND","OR"][ie-20]+"("+ce+","+de+")");break;default:if(ie<32&&w[ie])de=B.pop(),ce=B.pop(),B.push(ce+w[ie]+de);else if(y[ie]){if(z=y[ie][1],z==69&&(z=j[j.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+B.join("|")+"|");return}var Xe=B.slice(-z);B.length-=z,B.push(y[ie][0]+"("+Xe.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}B.length==1?H[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function N(j){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=j.read_shift(2),H[3]=j[j.l++],H[0].c=j[j.l++],H}function A(j,H){var B=N(j);return B[1].t="s",B[1].v=j.read_shift(H-4,"cstr"),B}function b(j,H,B,z){var ee=re(6+z.length);ee.write_shift(2,j),ee.write_shift(1,B),ee.write_shift(1,H),ee.write_shift(1,39);for(var W=0;W<z.length;++W){var ce=z.charCodeAt(W);ee.write_shift(1,ce>=128?95:ce)}return ee.write_shift(1,0),ee}function T(j,H){var B=N(j);B[1].v=j.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function C(j,H){var B=N(j),z=j.read_shift(4),ee=j.read_shift(4),W=j.read_shift(2);if(W==65535)return z===0&&ee===3221225472?(B[1].t="e",B[1].v=15):z===0&&ee===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var ce=W&32768;return W=(W&32767)-16446,B[1].v=(1-ce*2)*(ee*Math.pow(2,W+32)+z*Math.pow(2,W)),B}function R(j,H,B,z){var ee=re(14);if(ee.write_shift(2,j),ee.write_shift(1,B),ee.write_shift(1,H),z==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var W=0,ce=0,de=0,ie=0;return z<0&&(W=1,z=-z),ce=Math.log2(z)|0,z/=Math.pow(2,ce-31),ie=z>>>0,ie&2147483648||(z/=2,++ce,ie=z>>>0),z-=ie,ie|=2147483648,ie>>>=0,z*=Math.pow(2,32),de=z>>>0,ee.write_shift(4,de),ee.write_shift(4,ie),ce+=16383+(W?32768:0),ee.write_shift(2,ce),ee}function I(j,H){var B=C(j);return j.l+=H-14,B}function O(j,H){var B=N(j),z=j.read_shift(4);return B[1].v=z>>6,B}function K(j,H){var B=N(j),z=j.read_shift(8,"f");return B[1].v=z,B}function te(j,H){var B=K(j);return j.l+=H-10,B}function le(j,H){return j[j.l+H-1]==0?j.read_shift(H,"cstr"):""}function ue(j,H){var B=j[j.l++];B>H-1&&(B=H-1);for(var z="";z.length<B;)z+=String.fromCharCode(j[j.l++]);return z}function he(j,H,B){if(!(!B.qpro||H<21)){var z=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var ee=j.read_shift(H-21,"cstr");return[z,ee]}}function L(j,H){for(var B={},z=j.l+H;j.l<z;){var ee=j.read_shift(2);if(ee==14e3){for(B[ee]=[0,""],B[ee][0]=j.read_shift(2);j[j.l];)B[ee][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return B}function U(j,H){var B=re(5+j.length);B.write_shift(2,14e3),B.write_shift(2,H);for(var z=0;z<j.length;++z){var ee=j.charCodeAt(z);B[B.l++]=ee>127?95:ee}return B[B.l++]=0,B}var ne={0:{n:"BOF",f:yR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:ue},65535:{n:""}},be={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:L},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:te},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:he},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}}(),mz=/^\s|\s$|[\t\n\r]/;function TR(e,t){if(!t.bookSST)return"";var r=[Nr];r[r.length]=_e("sst",null,{xmlns:pu[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(mz)&&(a+=' xml:space="preserve"'),a+=">"+Dt(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function pz(e){return[e.read_shift(4),e.read_shift(4)]}function gz(e,t){return t||(t=re(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var xz=oV;function vz(e){var t=qn();fe(t,159,gz(e));for(var r=0;r<e.length;++r)fe(t,19,xz(e[r]));return fe(t,160),t.end()}function yz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function CR(e){var t=0,r,n=yz(e),s=n.length+1,a,i,l,c,u;for(r=pl(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)i=r[a],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^i;return t^52811}var wz=function(){function e(s,a){switch(a.type){case"base64":return t(ai(s),a);case"binary":return t(s,a);case"buffer":return t(Nt&&Buffer.isBuffer(s)?s.toString("binary"):kf(s),a);case"array":return t(rp(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){var i=a||{},l=i.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var x=d.slice(m,h.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++p,x.length){var v={v:x,t:"s"};Array.isArray(l)?l[f][p]=v:l[Mt({r:f,c:p})]=v}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=Cr(u),l}function r(s,a){return bl(e(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],i=Gt(s["!ref"]),l,c=Array.isArray(s),u=i.s.r;u<=i.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Mt({r:u,c:d});l=c?(s[u]||[])[d]:s[f],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(ii(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function OS(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var _z=6,Ka=_z;function X0(e){return Math.floor((e+Math.round(128/Ka)/256)*Ka)}function Y0(e){return Math.floor((e-5)/Ka*100+.5)/100}function hv(e){return Math.round((e*Ka+5)/Ka*256)/256}function O1(e){e.width?(e.wpx=X0(e.width),e.wch=Y0(e.wpx),e.MDW=Ka):e.wpx?(e.wch=Y0(e.wpx),e.width=hv(e.wch),e.MDW=Ka):typeof e.wch=="number"&&(e.width=hv(e.wch),e.wpx=X0(e.width),e.MDW=Ka),e.customWidth&&delete e.customWidth}var Sz=96,NR=Sz;function Q0(e){return e*96/NR}function jR(e){return e*NR/96}function bz(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=_e("numFmt",null,{numFmtId:n,formatCode:Dt(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=_e("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Ez(e){var t=[];return t[t.length]=_e("cellXfs",null),e.forEach(function(r){t[t.length]=_e("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=_e("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function kR(e,t){var r=[Nr,_e("styleSheet",null,{xmlns:pu[0],"xmlns:vt":Mr.vt})],n;return e.SSF&&(n=bz(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Ez(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Tz(e,t){var r=e.read_shift(2),n=mn(e);return[r,n]}function Cz(e,t,r){r||(r=re(6+4*t.length)),r.write_shift(2,e),Ur(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Nz(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=mV(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=hV(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=mn(e),n}function jz(e,t){t||(t=re(25+4*32)),t.write_shift(2,e.sz*20),pV(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),K0(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Ur(e.name,t),t.length>t.l?t.slice(0,t.l):t}var kz=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],dg,Az=Na;function IS(e,t){t||(t=re(4*3+8*7+16*1)),dg||(dg=_1(kz));var r=dg[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(K0({auto:1},t),K0({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Rz(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function AR(e,t,r){r||(r=re(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function $u(e,t){return t||(t=re(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Pz=Na;function Oz(e,t){return t||(t=re(51)),t.write_shift(1,0),$u(null,t),$u(null,t),$u(null,t),$u(null,t),$u(null,t),t.length>t.l?t.slice(0,t.l):t}function Iz(e,t){return t||(t=re(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),H0(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Dz(e,t,r){var n=re(2052);return n.write_shift(4,e),H0(t,n),H0(r,n),n.length>n.l?n.slice(0,n.l):n}function Fz(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(fe(e,615,ra(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&fe(e,44,Cz(s,t[s]))}),fe(e,616))}}function Mz(e){var t=1;fe(e,611,ra(t)),fe(e,43,jz({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),fe(e,612)}function Lz(e){var t=2;fe(e,603,ra(t)),fe(e,45,IS({patternType:"none"})),fe(e,45,IS({patternType:"gray125"})),fe(e,604)}function Uz(e){var t=1;fe(e,613,ra(t)),fe(e,46,Oz()),fe(e,614)}function Bz(e){var t=1;fe(e,626,ra(t)),fe(e,47,AR({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),fe(e,627)}function $z(e,t){fe(e,617,ra(t.length)),t.forEach(function(r){fe(e,47,AR(r,0))}),fe(e,618)}function qz(e){var t=1;fe(e,619,ra(t)),fe(e,48,Iz({xfId:0,builtinId:0,name:"Normal"})),fe(e,620)}function Vz(e){var t=0;fe(e,505,ra(t)),fe(e,506)}function zz(e){var t=0;fe(e,508,Dz(t,"TableStyleMedium9","PivotStyleMedium4")),fe(e,509)}function Wz(e,t){var r=qn();return fe(r,278),Fz(r,e.SSF),Mz(r),Lz(r),Uz(r),Bz(r),$z(r,t.cellXfs),qz(r),Vz(r),zz(r),fe(r,279),r.end()}function RR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Nr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Hz(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:mn(e)}}function Kz(e){var t=re(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ur(e.name,t),t.slice(0,t.l)}function Gz(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Xz(e){var t=re(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Yz(e,t){var r=re(8+2*t.length);return r.write_shift(4,e),Ur(t,r),r.slice(0,r.l)}function Qz(e){return e.l+=4,e.read_shift(4)!=0}function Jz(e,t){var r=re(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Zz(){var e=qn();return fe(e,332),fe(e,334,ra(1)),fe(e,335,Kz({name:"XLDAPR",version:12e4,flags:3496657072})),fe(e,336),fe(e,339,Yz(1,"XLDAPR")),fe(e,52),fe(e,35,ra(514)),fe(e,4096,ra(0)),fe(e,4097,ys(1)),fe(e,36),fe(e,53),fe(e,340),fe(e,337,Jz(1)),fe(e,51,Xz([[1,0]])),fe(e,338),fe(e,333),e.end()}function PR(){var e=[Nr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function eW(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Mt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var ic=1024;function OR(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[_e("xml",null,{"xmlns:v":ns.v,"xmlns:o":ns.o,"xmlns:x":ns.x,"xmlns:mv":ns.mv}).replace(/\/>/,">"),_e("o:shapelayout",_e("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),_e("v:shapetype",[_e("v:stroke",null,{joinstyle:"miter"}),_e("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ic<e*1e3;)ic+=1e3;return t.forEach(function(a){var i=Lr(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?_e("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=_e("v:fill",c,l),d={on:"t",obscured:"t"};++ic,s=s.concat(["<v:shape"+ef({id:"_x0000_s"+ic,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,_e("v:shadow",null,d),_e("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Gr("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),Gr("x:AutoFill","False"),Gr("x:Row",String(i.r)),Gr("x:Column",String(i.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function IR(e){var t=[Nr,_e("comments",null,{xmlns:pu[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var a=Dt(s.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(s=r.indexOf(Dt(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)t.push(Gr("t",Dt(a[0]||"")));else{for(var i=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)i+=`Reply:
    `+a[l]+`
`;t.push(Gr("t",Dt(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function tW(e,t,r){var n=[Nr,_e("ThreadedComments",null,{xmlns:Mr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var a="";(s[1]||[]).forEach(function(i,l){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(_e("threadedComment",Gr("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function rW(e){var t=[Nr,_e("personList",null,{xmlns:Mr.TCMNT,"xmlns:x":pu[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(_e("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function nW(e){var t={};t.iauthor=e.read_shift(4);var r=Nl(e);return t.rfx=r.s,t.ref=Mt(r.s),e.l+=16,t}function sW(e,t){return t==null&&(t=re(36)),t.write_shift(4,e[1].iauthor),xu(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var aW=mn;function iW(e){return Ur(e.slice(0,54))}function oW(e){var t=qn(),r=[];return fe(t,628),fe(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),fe(t,632,iW(s.a)))})}),fe(t,631),fe(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var a={s:Lr(n[0]),e:Lr(n[0])};fe(t,635,sW([a,s])),s.t&&s.t.length>0&&fe(t,637,cV(s)),fe(t,636),delete s.iauthor})}),fe(t,634),fe(t,629),t.end()}function lW(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Lt.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var DR=["xlsb","xlsm","xlam","biff8","xla"],cW=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,a,i){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,s+(l?"":"$")+hn(d)+(c?"":"$")+Qr(u)}return function(s,a){return t=a,s.replace(e,r)}}(),I1=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,D1=function(){return function(t,r){return t.replace(I1,function(n,s,a,i,l,c){var u=j1(i)-(a?0:r.c),d=N1(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":a?u+1:"["+u+"]";return s+"R"+f+"C"+h})}}();function uW(e,t){return e.replace(I1,function(r,n,s,a,i,l){return n+(s=="$"?s+a:hn(j1(a)+t.c))+(i=="$"?i+l:Qr(N1(l)+t.r))})}function dW(e){return e.length!=1}function wr(e){e.l+=1}function io(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function FR(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return MR(e);r.biff==12&&(n=4)}var s=e.read_shift(n),a=e.read_shift(n),i=io(e),l=io(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function MR(e){var t=io(e),r=io(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function fW(e,t,r){if(r.biff<8)return MR(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),a=io(e),i=io(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}function LR(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return hW(e);var n=e.read_shift(r&&r.biff==12?4:2),s=io(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function hW(e){var t=io(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function mW(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function pW(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return gW(e);var s=e.read_shift(n>=12?4:2),a=e.read_shift(2),i=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;s>524287;)s-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:i,rRel:l}}function gW(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function xW(e,t,r){var n=(e[e.l++]&96)>>5,s=FR(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function vW(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var i=FR(e,a,r);return[n,s,i]}function yW(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function wW(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,s]}function _W(e,t,r){var n=(e[e.l++]&96)>>5,s=fW(e,t-1,r);return[n,s]}function SW(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function DS(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function bW(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function EW(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function TW(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function CW(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function NW(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function UR(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function jW(e){return e.read_shift(2),UR(e)}function kW(e){return e.read_shift(2),UR(e)}function AW(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=LR(e,0,r);return[n,s]}function RW(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=pW(e,0,r);return[n,s]}function PW(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=LR(e,0,r);return[n,s,a]}function OW(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[OH[s],qR[s],n]}function IW(e,t,r){var n=e[e.l++],s=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:DW(e);return[s,(a[0]===0?qR:PH)[a[1]]]}function DW(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function FW(e,t,r){e.l+=r&&r.biff==2?3:4}function MW(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function LW(e){return e.l++,Pf[e.read_shift(1)]}function UW(e){return e.l++,e.read_shift(2)}function BW(e){return e.l++,e.read_shift(1)!==0}function $W(e){return e.l++,vu(e)}function qW(e,t,r){return e.l++,_R(e,t-1,r)}function VW(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=PV(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Pf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=vu(e);break;case 2:r[1]=FV(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function zW(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?Nl:UV)(e));return s}function WW(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,i=[];a!=n&&(i[a]=[]);++a)for(var l=0;l!=s;++l)i[a][l]=VW(e,r.biff);return i}function HW(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function KW(e,t,r){if(r.biff==5)return GW(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),a=e.read_shift(4);return[n,s,a]}function GW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function XW(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function YW(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function QW(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function JW(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,s]}var ZW=Na,eH=Na,tH=Na;function Of(e,t,r){return e.l+=2,[mW(e)]}function F1(e){return e.l+=6,[]}var rH=Of,nH=F1,sH=F1,aH=Of;function BR(e){return e.l+=2,[yR(e),e.read_shift(2)&1]}var iH=Of,oH=BR,lH=F1,cH=Of,uH=Of,dH=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function fH(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),a=e.read_shift(2),i=dH[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:s,C:a}}function hH(e){return e.l+=2,[e.read_shift(4)]}function mH(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function pH(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function gH(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function xH(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function vH(e){return e.l+=4,[0,0]}var FS={1:{n:"PtgExp",f:MW},2:{n:"PtgTbl",f:tH},3:{n:"PtgAdd",f:wr},4:{n:"PtgSub",f:wr},5:{n:"PtgMul",f:wr},6:{n:"PtgDiv",f:wr},7:{n:"PtgPower",f:wr},8:{n:"PtgConcat",f:wr},9:{n:"PtgLt",f:wr},10:{n:"PtgLe",f:wr},11:{n:"PtgEq",f:wr},12:{n:"PtgGe",f:wr},13:{n:"PtgGt",f:wr},14:{n:"PtgNe",f:wr},15:{n:"PtgIsect",f:wr},16:{n:"PtgUnion",f:wr},17:{n:"PtgRange",f:wr},18:{n:"PtgUplus",f:wr},19:{n:"PtgUminus",f:wr},20:{n:"PtgPercent",f:wr},21:{n:"PtgParen",f:wr},22:{n:"PtgMissArg",f:wr},23:{n:"PtgStr",f:qW},26:{n:"PtgSheet",f:mH},27:{n:"PtgEndSheet",f:pH},28:{n:"PtgErr",f:LW},29:{n:"PtgBool",f:BW},30:{n:"PtgInt",f:UW},31:{n:"PtgNum",f:$W},32:{n:"PtgArray",f:SW},33:{n:"PtgFunc",f:OW},34:{n:"PtgFuncVar",f:IW},35:{n:"PtgName",f:HW},36:{n:"PtgRef",f:AW},37:{n:"PtgArea",f:xW},38:{n:"PtgMemArea",f:XW},39:{n:"PtgMemErr",f:ZW},40:{n:"PtgMemNoMem",f:eH},41:{n:"PtgMemFunc",f:YW},42:{n:"PtgRefErr",f:QW},43:{n:"PtgAreaErr",f:yW},44:{n:"PtgRefN",f:RW},45:{n:"PtgAreaN",f:_W},46:{n:"PtgMemAreaN",f:gH},47:{n:"PtgMemNoMemN",f:xH},57:{n:"PtgNameX",f:KW},58:{n:"PtgRef3d",f:PW},59:{n:"PtgArea3d",f:vW},60:{n:"PtgRefErr3d",f:JW},61:{n:"PtgAreaErr3d",f:wW},255:{}},yH={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},wH={1:{n:"PtgElfLel",f:BR},2:{n:"PtgElfRw",f:cH},3:{n:"PtgElfCol",f:rH},6:{n:"PtgElfRwV",f:uH},7:{n:"PtgElfColV",f:aH},10:{n:"PtgElfRadical",f:iH},11:{n:"PtgElfRadicalS",f:lH},13:{n:"PtgElfColS",f:nH},15:{n:"PtgElfColSV",f:sH},16:{n:"PtgElfRadicalLel",f:oH},25:{n:"PtgList",f:fH},29:{n:"PtgSxName",f:hH},255:{}},_H={0:{n:"PtgAttrNoop",f:vH},1:{n:"PtgAttrSemi",f:NW},2:{n:"PtgAttrIf",f:TW},4:{n:"PtgAttrChoose",f:bW},8:{n:"PtgAttrGoto",f:EW},16:{n:"PtgAttrSum",f:FW},32:{n:"PtgAttrBaxcel",f:DS},33:{n:"PtgAttrBaxcel",f:DS},64:{n:"PtgAttrSpace",f:jW},65:{n:"PtgAttrSpaceSemi",f:kW},128:{n:"PtgAttrIfError",f:CW},255:{}};function SH(e,t,r,n){if(n.biff<8)return Na(e,t);for(var s=e.l+t,a=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=WW(e,0,n),a.push(r[i][1]);break;case"PtgMemArea":r[i][2]=zW(e,r[i][1],n),a.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),a.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=s-e.l,t!==0&&a.push(Na(e,t)),a}function bH(e,t,r){for(var n=e.l+t,s,a,i=[];n!=e.l;)t=n-e.l,a=e[e.l],s=FS[a]||FS[yH[a]],(a===24||a===25)&&(s=(a===24?wH:_H)[e[e.l+1]]),!s||!s.f?Na(e,t):i.push([s.n,s.f(e,t,r)]);return i}function EH(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],a=0;a<n.length;++a){var i=n[a];if(i)switch(i[0]){case 2:s.push('"'+i[1].replace(/"/g,'""')+'"');break;default:s.push(i[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var TH={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function CH(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function $R(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function MS(e,t,r){var n=$R(e,t,r);return n=="#REF"?n:CH(n,r)}function Qc(e,t,r,n,s){var a=s&&s.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,x="",v=0,y=e[0].length;v<y;++v){var w=e[0][v];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:x=ur(" ",e[0][p][1][1]);break;case 1:x=ur("\r",e[0][p][1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+x,p=-1}l.push(u+TH[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=pd(w[1][1],i,s),l.push(gd(d,a));break;case"PtgRefN":d=r?pd(w[1][1],r,s):w[1][1],l.push(gd(d,a));break;case"PtgRef3d":f=w[1][1],d=pd(w[1][2],i,s),g=MS(n,f,s),l.push(g+"!"+gd(d,a));break;case"PtgFunc":case"PtgFuncVar":var S=w[1][0],N=w[1][1];S||(S=0),S&=127;var A=S==0?[]:l.slice(-S);l.length-=S,N==="User"&&(N=A.shift()),l.push(N+"("+A.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=_S(w[1][1],r?{s:r}:i,s),l.push(cg(m,s));break;case"PtgArea":m=_S(w[1][1],i,s),l.push(cg(m,s));break;case"PtgArea3d":f=w[1][1],m=w[1][2],g=MS(n,f,s),l.push(g+"!"+cg(m,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var b=(n.names||[])[h-1]||(n[0]||[])[h],T=b?b.Name:"SH33TJSNAME"+String(h);T&&T.slice(0,6)=="_xlfn."&&!s.xlfn&&(T=T.slice(6)),l.push(T);break;case"PtgNameX":var C=w[1][1];h=w[1][2];var R;if(s.biff<=5)C<0&&(C=-C),n[C]&&(R=n[C][h]);else{var I="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][h]&&n[C][h].itab>0&&(I=n.SheetNames[n[C][h].itab-1]+"!"):I=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])I+=n[C][h].Name;else if(n[0]&&n[0][h])I+=n[0][h].Name;else{var O=($R(n,C,s)||"").split(";;");O[h-1]?I=O[h-1]:I+="SH33TJSERRX"}l.push(I);break}R||(R={Name:"SH33TJSERRY"}),l.push(R.Name);break;case"PtgParen":var K="(",te=")";if(p>=0){switch(x="",e[0][p][1][0]){case 2:K=ur(" ",e[0][p][1][1])+K;break;case 3:K=ur("\r",e[0][p][1][1])+K;break;case 4:te=ur(" ",e[0][p][1][1])+te;break;case 5:te=ur("\r",e[0][p][1][1])+te;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(K+l.pop()+te);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var le={c:r.c,r:r.r};if(n.sharedf[Mt(d)]){var ue=n.sharedf[Mt(d)];l.push(Qc(ue,i,le,n,s))}else{var he=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Qc(u[1],i,le,n,s)),he=!0;break}he||l.push(w[1])}break;case"PtgArray":l.push("{"+EH(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var L=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&p>=0&&L.indexOf(e[0][v][0])==-1){w=e[0][p];var U=!0;switch(w[1][0]){case 4:U=!1;case 0:x=ur(" ",w[1][1]);break;case 5:U=!1;case 1:x=ur("\r",w[1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((U?x:"")+l.pop()+(U?"":x)),p=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function NH(e){if(e==null){var t=re(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return gl(e);return gl(0)}function jH(e,t,r,n,s){var a=xl(t,r,s),i=NH(e.v),l=re(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=re(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Kr([a,i,l,u]);return f}function np(e,t,r){var n=e.read_shift(4),s=bH(e,n,r),a=e.read_shift(4),i=a>0?SH(e,a,s,r):null;return[s,i]}var kH=np,sp=np,AH=np,RH=np,PH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},qR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},OH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function IH(e){var t="of:="+e.replace(I1,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function DH(e){return e.replace(/\./,"!")}var xd=typeof Map<"u";function M1(e,t,r){var n=0,s=e.length;if(r){if(xd?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=xd?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(xd?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function ap(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ka=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Y0(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=hv(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function VR(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function yo(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,a=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){LA(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=a;++s)if(e[s].numFmtId===n)return s;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function FH(e,t,r){if(e&&e["!ref"]){var n=Gt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function MH(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Cr(e[r])+'"/>';return t+"</mergeCells>"}function LH(e,t,r,n,s){var a=!1,i={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,i.codeName=Zd(Dt(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+_e("outlinePr",null,u)}!a&&!l||(s[s.length]=_e("sheetPr",l,i))}var UH=["objects","scenarios","selectLockedCells","selectUnlockedCells"],BH=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function $H(e){var t={sheet:1};return UH.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),BH.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=CR(e.password).toString(16).toUpperCase()),_e("sheetProtection",null,t)}function qH(e){return VR(e),_e("pageMargins",null,e)}function VH(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=_e("col",null,ap(s,n)));return r[r.length]="</cols>",r.join("")}function zH(e,t,r,n){var s=typeof e.ref=="string"?e.ref:Cr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,i=hs(s);i.s.r==i.e.r&&(i.e.r=hs(t["!ref"]).e.r,s=Cr(i));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),_e("autoFilter",null,{ref:s})}function WH(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),_e("sheetViews",_e("sheetView",null,s),{})}function HH(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",a=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Pf[e.v];break;case"d":n&&n.cellDates?s=Nn(e.v,-1).toISOString():(e=zn(e),e.t="n",s=""+(e.v=Vn(Nn(e.v)))),typeof e.z>"u"&&(e.z=hr[14]);break;default:s=e.v;break}var l=Gr("v",Dt(s)),c={r:t},u=yo(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Gr("v",""+M1(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=i),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=_e("f",Dt(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),_e("c",l,c)}function KH(e,t,r,n){var s=[],a=[],i=Gt(e["!ref"]),l="",c,u="",d=[],f=0,h=0,m=e["!rows"],g=Array.isArray(e),p={r:u},x,v=-1;for(h=i.s.c;h<=i.e.c;++h)d[h]=hn(h);for(f=i.s.r;f<=i.e.r;++f){for(a=[],u=Qr(f),h=i.s.c;h<=i.e.c;++h){c=d[h]+u;var y=g?(e[f]||[])[h]:e[c];y!==void 0&&(l=HH(y,c,e,t))!=null&&a.push(l)}(a.length>0||m&&m[f])&&(p={r:u},m&&m[f]&&(x=m[f],x.hidden&&(p.hidden=1),v=-1,x.hpx?v=Q0(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(p.ht=v,p.customHeight=1),x.level&&(p.outlineLevel=x.level)),s[s.length]=_e("row",a.join(""),p))}if(m)for(;f<m.length;++f)m&&m[f]&&(p={r:f+1},x=m[f],x.hidden&&(p.hidden=1),v=-1,x.hpx?v=Q0(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(p.ht=v,p.customHeight=1),x.level&&(p.outlineLevel=x.level),s[s.length]=_e("row","",p));return s.join("")}function zR(e,t,r,n){var s=[Nr,_e("worksheet",null,{xmlns:pu[0],"xmlns:r":Mr.r})],a=r.SheetNames[e],i=0,l="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",d=Gt(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Cr(d)}n||(n={}),c["!comments"]=[];var f=[];LH(c,r,e,t,s),s[s.length]=_e("dimension",null,{ref:u}),s[s.length]=WH(c,t,e,r),t.sheetFormat&&(s[s.length]=_e("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=VH(c,c["!cols"])),s[i=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=KH(c,t),l.length>0&&(s[s.length]=l)),s.length>i+1&&(s[s.length]="</sheetData>",s[i]=s[i].replace("/>",">")),c["!protect"]&&(s[s.length]=$H(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=zH(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=MH(c["!merges"]));var h=-1,m,g=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(m={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=It(n,-1,Dt(p[1].Target).replace(/#.*$/,""),_t.HLINK),m["r:id"]="rId"+g),(h=p[1].Target.indexOf("#"))>-1&&(m.location=Dt(p[1].Target.slice(h+1))),p[1].Tooltip&&(m.tooltip=Dt(p[1].Tooltip)),s[s.length]=_e("hyperlink",null,m))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=qH(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Gr("ignoredErrors",_e("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=It(n,-1,"../drawings/drawing"+(e+1)+".xml",_t.DRAW),s[s.length]=_e("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=It(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",_t.VML),s[s.length]=_e("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function GH(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}function XH(e,t,r){var n=re(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;s.hpx?a=Q0(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var i=0;s.level&&(i|=s.level),s.hidden&&(i|=16),(s.hpx||s.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Mt(u)];g&&(f<0&&(f=m),h=m)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var p=n.l;return n.l=c,n.write_shift(4,l),n.l=p,n.length>n.l?n.slice(0,n.l):n}function YH(e,t,r,n){var s=XH(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&fe(e,0,s)}var QH=Nl,JH=xu;function ZH(){}function eK(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=uV(e),r}function tK(e,t,r){r==null&&(r=re(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return K0({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),aR(e,r),r.slice(0,r.l)}function rK(e){var t=Os(e);return[t]}function nK(e,t,r){return r==null&&(r=re(8)),El(t,r)}function sK(e){var t=Tl(e);return[t]}function aK(e,t,r){return r==null&&(r=re(4)),Cl(t,r)}function iK(e){var t=Os(e),r=e.read_shift(1);return[t,r,"b"]}function oK(e,t,r){return r==null&&(r=re(9)),El(t,r),r.write_shift(1,e.v?1:0),r}function lK(e){var t=Tl(e),r=e.read_shift(1);return[t,r,"b"]}function cK(e,t,r){return r==null&&(r=re(5)),Cl(t,r),r.write_shift(1,e.v?1:0),r}function uK(e){var t=Os(e),r=e.read_shift(1);return[t,r,"e"]}function dK(e,t,r){return r==null&&(r=re(9)),El(t,r),r.write_shift(1,e.v),r}function fK(e){var t=Tl(e),r=e.read_shift(1);return[t,r,"e"]}function hK(e,t,r){return r==null&&(r=re(8)),Cl(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function mK(e){var t=Os(e),r=e.read_shift(4);return[t,r,"s"]}function pK(e,t,r){return r==null&&(r=re(12)),El(t,r),r.write_shift(4,t.v),r}function gK(e){var t=Tl(e),r=e.read_shift(4);return[t,r,"s"]}function xK(e,t,r){return r==null&&(r=re(8)),Cl(t,r),r.write_shift(4,t.v),r}function vK(e){var t=Os(e),r=vu(e);return[t,r,"n"]}function yK(e,t,r){return r==null&&(r=re(16)),El(t,r),gl(e.v,r),r}function wK(e){var t=Tl(e),r=vu(e);return[t,r,"n"]}function _K(e,t,r){return r==null&&(r=re(12)),Cl(t,r),gl(e.v,r),r}function SK(e){var t=Os(e),r=iR(e);return[t,r,"n"]}function bK(e,t,r){return r==null&&(r=re(12)),El(t,r),oR(e.v,r),r}function EK(e){var t=Tl(e),r=iR(e);return[t,r,"n"]}function TK(e,t,r){return r==null&&(r=re(8)),Cl(t,r),oR(e.v,r),r}function CK(e){var t=Os(e),r=k1(e);return[t,r,"is"]}function NK(e){var t=Os(e),r=mn(e);return[t,r,"str"]}function jK(e,t,r){return r==null&&(r=re(12+4*e.v.length)),El(t,r),Ur(e.v,r),r.length>r.l?r.slice(0,r.l):r}function kK(e){var t=Tl(e),r=mn(e);return[t,r,"str"]}function AK(e,t,r){return r==null&&(r=re(8+4*e.v.length)),Cl(t,r),Ur(e.v,r),r.length>r.l?r.slice(0,r.l):r}function RK(e,t,r){var n=e.l+t,s=Os(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"b"];if(r.cellFormula){e.l+=2;var l=sp(e,n-e.l,r);i[3]=Qc(l,null,s,r.supbooks,r)}else e.l=n;return i}function PK(e,t,r){var n=e.l+t,s=Os(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"e"];if(r.cellFormula){e.l+=2;var l=sp(e,n-e.l,r);i[3]=Qc(l,null,s,r.supbooks,r)}else e.l=n;return i}function OK(e,t,r){var n=e.l+t,s=Os(e);s.r=r["!row"];var a=vu(e),i=[s,a,"n"];if(r.cellFormula){e.l+=2;var l=sp(e,n-e.l,r);i[3]=Qc(l,null,s,r.supbooks,r)}else e.l=n;return i}function IK(e,t,r){var n=e.l+t,s=Os(e);s.r=r["!row"];var a=mn(e),i=[s,a,"str"];if(r.cellFormula){e.l+=2;var l=sp(e,n-e.l,r);i[3]=Qc(l,null,s,r.supbooks,r)}else e.l=n;return i}var DK=Nl,FK=xu;function MK(e,t){return t==null&&(t=re(4)),t.write_shift(4,e),t}function LK(e,t){var r=e.l+t,n=Nl(e),s=A1(e),a=mn(e),i=mn(e),l=mn(e);e.l=r;var c={rfx:n,relId:s,loc:a,display:l};return i&&(c.Tooltip=i),c}function UK(e,t){var r=re(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));xu({s:Lr(e[0]),e:Lr(e[0])},r),R1("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return Ur(s||"",r),Ur(e[1].Tooltip||"",r),Ur("",r),r.slice(0,r.l)}function BK(){}function $K(e,t,r){var n=e.l+t,s=lR(e),a=e.read_shift(1),i=[s];if(i[2]=a,r.cellFormula){var l=kH(e,n-e.l,r);i[1]=l}else e.l=n;return i}function qK(e,t,r){var n=e.l+t,s=Nl(e),a=[s];if(r.cellFormula){var i=RH(e,n-e.l,r);a[1]=i,e.l=n}else e.l=n;return a}function VK(e,t,r){r==null&&(r=re(18));var n=ap(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var WR=["left","right","top","bottom","header","footer"];function zK(e){var t={};return WR.forEach(function(r){t[r]=vu(e)}),t}function WK(e,t){return t==null&&(t=re(6*8)),VR(e),WR.forEach(function(r){gl(e[r],t)}),t}function HK(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function KK(e,t,r){r==null&&(r=re(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function GK(e){var t=re(24);return t.write_shift(4,4),t.write_shift(4,1),xu(e,t),t}function XK(e,t){return t==null&&(t=re(16*4+2)),t.write_shift(2,e.password?CR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function YK(){}function QK(){}function JK(e,t,r,n,s,a,i){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=zn(t),t.z=t.z||hr[14],t.v=Vn(Nn(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=yo(s.cellXfs,t,s),t.l&&a["!links"].push([Mt(c),t.l]),t.c&&a["!comments"].push([Mt(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=M1(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,i?fe(e,18,xK(t,c)):fe(e,7,pK(t,c))):(c.t="str",i?fe(e,17,AK(t,c)):fe(e,6,jK(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?fe(e,13,TK(t,c)):fe(e,2,bK(t,c)):i?fe(e,16,_K(t,c)):fe(e,5,yK(t,c)),!0;case"b":return c.t="b",i?fe(e,15,cK(t,c)):fe(e,4,oK(t,c)),!0;case"e":return c.t="e",i?fe(e,14,hK(t,c)):fe(e,3,dK(t,c)),!0}return i?fe(e,12,aK(t,c)):fe(e,1,nK(t,c)),!0}function ZK(e,t,r,n){var s=Gt(t["!ref"]||"A1"),a,i="",l=[];fe(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var d=s.s.r;d<=u;++d){i=Qr(d),YH(e,t,s,d);var f=!1;if(d<=s.e.r)for(var h=s.s.c;h<=s.e.c;++h){d===s.s.r&&(l[h]=hn(h)),a=l[h]+i;var m=c?(t[d]||[])[h]:t[a];if(!m){f=!1;continue}f=JK(e,m,d,h,n,t,f)}}fe(e,146)}function eG(e,t){!t||!t["!merges"]||(fe(e,177,MK(t["!merges"].length)),t["!merges"].forEach(function(r){fe(e,176,FK(r))}),fe(e,178))}function tG(e,t){!t||!t["!cols"]||(fe(e,390),t["!cols"].forEach(function(r,n){r&&fe(e,60,VK(n,r))}),fe(e,391))}function rG(e,t){!t||!t["!ref"]||(fe(e,648),fe(e,649,GK(Gt(t["!ref"]))),fe(e,650))}function nG(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=It(r,-1,n[1].Target.replace(/#.*$/,""),_t.HLINK);fe(e,494,UK(n,s))}}),delete t["!links"]}function sG(e,t,r,n){if(t["!comments"].length>0){var s=It(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",_t.VML);fe(e,551,R1("rId"+s)),t["!legacy"]=s}}function aG(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],a=typeof s.ref=="string"?s.ref:Cr(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=hs(a);l.s.r==l.e.r&&(l.e.r=hs(t["!ref"]).e.r,a=Cr(l));for(var c=0;c<i.length;++c){var u=i[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),fe(e,161,xu(Gt(a))),fe(e,162)}}function iG(e,t,r){fe(e,133),fe(e,137,KK(t,r)),fe(e,138),fe(e,134)}function oG(e,t){t["!protect"]&&fe(e,535,XK(t["!protect"]))}function lG(e,t,r,n){var s=qn(),a=r.SheetNames[e],i=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Gt(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],fe(s,129),(r.vbaraw||i["!outline"])&&fe(s,147,tK(l,i["!outline"])),fe(s,148,JH(c)),iG(s,i,r.Workbook),tG(s,i),ZK(s,i,e,t),oG(s,i),aG(s,i,r,e),eG(s,i),nG(s,i,n),i["!margins"]&&fe(s,476,WK(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&rG(s,i),sG(s,i,e,n),fe(s,130),s.end()}function cG(e,t){e.l+=10;var r=mn(e);return{name:r}}var uG=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function dG(e){return!e.Workbook||!e.Workbook.WBProps?"false":qq(e.Workbook.WBProps.date1904)?"true":"false"}var fG="][*?/\\".split("");function HR(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return fG.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function hG(e,t,r){e.forEach(function(n,s){HR(n);for(var a=0;a<s;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[s]&&t[s].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function mG(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];hG(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)FH(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function KR(e){var t=[Nr];t[t.length]=_e("workbook",null,{xmlns:pu[0],"xmlns:r":Mr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(uG.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=_e("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var i={name:Dt(e.SheetNames[a].slice(0,31))};if(i.sheetId=""+(a+1),i["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=_e("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=_e("definedName",Dt(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function pG(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=fv(e),r.name=mn(e),r}function gG(e,t){return t||(t=re(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),R1(e.strRelID,t),Ur(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function xG(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?mn(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function vG(e,t){t||(t=re(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),aR(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function yG(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),a=dV(e),i=AH(e,0,r),l=A1(e);e.l=n;var c={Name:a,Ptg:i};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function wG(e,t){fe(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};fe(e,156,gG(s))}fe(e,144)}function _G(e,t){t||(t=re(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ur("SheetJS",t),Ur(B0.version,t),Ur(B0.version,t),Ur("7262",t),t.length>t.l?t.slice(0,t.l):t}function SG(e,t){t||(t=re(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function bG(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&a==-1&&(a=n);a>s||(fe(e,135),fe(e,158,SG(s)),fe(e,136))}}function EG(e,t){var r=qn();return fe(r,131),fe(r,128,_G()),fe(r,153,vG(e.Workbook&&e.Workbook.WBProps||null)),bG(r,e),wG(r,e),fe(r,132),r.end()}function TG(e,t,r){return(t.slice(-4)===".bin"?EG:KR)(e)}function CG(e,t,r,n,s){return(t.slice(-4)===".bin"?lG:zR)(e,r,n,s)}function NG(e,t,r){return(t.slice(-4)===".bin"?Wz:kR)(e,r)}function jG(e,t,r){return(t.slice(-4)===".bin"?vz:TR)(e,r)}function kG(e,t,r){return(t.slice(-4)===".bin"?oW:IR)(e)}function AG(e){return(e.slice(-4)===".bin"?Zz:PR)()}function RG(e,t){var r=[];return e.Props&&r.push(NV(e.Props,t)),e.Custprops&&r.push(jV(e.Props,e.Custprops)),r.join("")}function PG(){return""}function OG(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var a=[];a.push(_e("NumberFormat",null,{"ss:Format":Dt(hr[n.numFmtId])}));var i={"ss:ID":"s"+(21+s)};r.push(_e("Style",a.join(""),i))}),_e("Styles",r.join(""))}function GR(e){return _e("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+D1(e.Ref,{r:0,c:0})})}function IG(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(GR(s)))}return _e("Names",r.join(""))}function DG(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],i=0;i<s.length;++i){var l=s[i];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(GR(l)))}return a.join("")}function FG(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(_e("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(_e("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(_e("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(_e("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Gr("ProtectContents","True")),e["!protect"].objects&&s.push(Gr("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Gr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Gr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Gr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&s.push("<"+i[1]+"/>")})),s.length==0?"":_e("WorksheetOptions",s.join(""),{xmlns:ns.x})}function MG(e){return e.map(function(t){var r=$q(t.t||""),n=_e("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return _e("Comment",n,{"ss:Author":t.a})}).join("")}function LG(e,t,r,n,s,a,i){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Dt(D1(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var c=Lr(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Dt(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Dt(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=i.c||u[d].s.r!=i.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Pf[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||hr[14]);break;case"s":f="String",h=Bq(e.v||"");break}var m=yo(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=i.c+1;var g=e.v!=null?h:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(p+=MG(e.c)),_e("Cell",p,l)}function UG(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=jR(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function BG(e,t,r,n){if(!e["!ref"])return"";var s=Gt(e["!ref"]),a=e["!merges"]||[],i=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,v){O1(x);var y=!!x.width,w=ap(v,x),S={"ss:Index":v+1};y&&(S["ss:Width"]=X0(w.width)),x.hidden&&(S["ss:Hidden"]="1"),l.push(_e("Column",null,S))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var d=[UG(u,(e["!rows"]||[])[u])],f=s.s.c;f<=s.e.c;++f){var h=!1;for(i=0;i!=a.length;++i)if(!(a[i].s.c>f)&&!(a[i].s.r>u)&&!(a[i].e.c<f)&&!(a[i].e.r<u)){(a[i].s.c!=f||a[i].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},g=Mt(m),p=c?(e[u]||[])[f]:e[g];d.push(LG(p,g,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function $G(e,t,r){var n=[],s=r.SheetNames[e],a=r.Sheets[s],i=a?DG(a,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=a?BG(a,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(FG(a,t,e,r)),n.join("")}function qG(e,t){t||(t={}),e.SSF||(e.SSF=zn(hr)),e.SSF&&(ep(),Zm(e.SSF),t.revssf=tp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],yo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(RG(e,t)),r.push(PG()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(_e("Worksheet",$G(n,t,e),{"ss:Name":Dt(e.SheetNames[n])}));return r[2]=OG(e,t),r[3]=IG(e),Nr+_e("Workbook",r.join(""),{xmlns:ns.ss,"xmlns:o":ns.o,"xmlns:x":ns.x,"xmlns:ss":ns.ss,"xmlns:dt":ns.dt,"xmlns:html":ns.html})}var fg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function VG(e,t){var r=[],n=[],s=[],a=0,i,l=uS(bS,"n"),c=uS(ES,"n");if(e.Props)for(i=nn(e.Props),a=0;a<i.length;++a)(Object.prototype.hasOwnProperty.call(l,i[a])?r:Object.prototype.hasOwnProperty.call(c,i[a])?n:s).push([i[a],e.Props[i[a]]]);if(e.Custprops)for(i=nn(e.Custprops),a=0;a<i.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},i[a])||(Object.prototype.hasOwnProperty.call(l,i[a])?r:Object.prototype.hasOwnProperty.call(c,i[a])?n:s).push([i[a],e.Custprops[i[a]]]);var u=[];for(a=0;a<s.length;++a)vR.indexOf(s[a][0])>-1||pR.indexOf(s[a][0])>-1||s[a][1]!=null&&u.push(s[a]);n.length&&Lt.utils.cfb_add(t,"/SummaryInformation",kS(n,fg.SI,c,ES)),(r.length||u.length)&&Lt.utils.cfb_add(t,"/DocumentSummaryInformation",kS(r,fg.DSI,l,bS,u.length?u:null,fg.UDI))}function zG(e,t){var r=t||{},n=Lt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Lt.utils.cfb_add(n,s,XR(e,r)),r.biff==8&&(e.Props||e.Custprops)&&VG(e,n),r.biff==8&&e.vbaraw&&lW(n,Lt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var WG={0:{f:GH},1:{f:rK},2:{f:SK},3:{f:uK},4:{f:iK},5:{f:vK},6:{f:NK},7:{f:mK},8:{f:IK},9:{f:OK},10:{f:RK},11:{f:PK},12:{f:sK},13:{f:EK},14:{f:fK},15:{f:lK},16:{f:wK},17:{f:kK},18:{f:gK},19:{f:k1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:yG},40:{},42:{},43:{f:Nz},44:{f:Tz},45:{f:Az},46:{f:Pz},47:{f:Rz},48:{},49:{f:sV},50:{},51:{f:Gz},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:az},62:{f:CK},63:{f:eW},64:{f:YK},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Na,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:HK},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:eK},148:{f:QH,p:16},151:{f:BK},152:{},153:{f:xG},154:{},155:{},156:{f:pG},157:{},158:{},159:{T:1,f:pz},160:{T:-1},161:{T:1,f:Nl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:DK},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Hz},336:{T:-1},337:{f:Qz,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:fv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ZV},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$K},427:{f:qK},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:zK},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ZH},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:LK},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:fv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:aW},633:{T:1},634:{T:-1},635:{T:1,f:nW},636:{T:-1},637:{f:lV},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:cG},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:QK},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Se(e,t,r,n){var s=t;if(!isNaN(s)){var a=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&C1(r)&&e.push(r)}}function HG(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return Se(e,t,r,s);var a=t;if(!isNaN(a)){for(var i=r.parts||[],l=0,c=0,u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,a),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(i[l]||8224)<=8224;)u+=i[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function If(e,t,r){return e||(e=re(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function KG(e,t,r,n){var s=re(9);return If(s,e,t),wR(r,n||"b",s),s}function GG(e,t,r){var n=re(8+2*r.length);return If(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function XG(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Vn(Nn(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Se(e,2,cz(r,n,s)):Se(e,3,lz(r,n,s));return;case"b":case"e":Se(e,5,KG(r,n,t.v,t.t));return;case"s":case"str":Se(e,4,GG(r,n,(t.v||"").slice(0,255)));return}Se(e,1,If(null,r,n))}function YG(e,t,r,n){var s=Array.isArray(t),a=Gt(t["!ref"]||"A1"),i,l="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=Cr(a)}for(var u=a.s.r;u<=a.e.r;++u){l=Qr(u);for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(c[d]=hn(d)),i=c[d]+l;var f=s?(t[u]||[])[d]:t[i];f&&XG(e,f,u,d)}}}function QG(e,t){for(var r=t||{},n=qn(),s=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(s=a);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Se(n,r.biff==4?1033:r.biff==3?521:9,P1(e,16,r)),YG(n,e.Sheets[e.SheetNames[s]],s,r),Se(n,10),n.end()}function JG(e,t,r){Se(e,49,WV({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function ZG(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Se(e,1054,GV(s,t[s],r))})}function eX(e,t){var r=re(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Se(e,2151,r),r=re(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),bR(Gt(t["!ref"]||"A1"),r),r.write_shift(4,4),Se(e,2152,r)}function tX(e,t){for(var r=0;r<16;++r)Se(e,224,RS({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Se(e,224,RS(n,0,t))})}function rX(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Se(e,440,rz(n)),n[1].Tooltip&&Se(e,2048,nz(n))}delete t["!links"]}function nX(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&Se(e,125,iz(ap(s,n),s))})}}function sX(e,t,r,n,s){var a=16+yo(s.cellXfs,t,s);if(t.v==null&&!t.bf){Se(e,513,xl(r,n,a));return}if(t.bf)Se(e,6,jH(t,r,n,s,a));else switch(t.t){case"d":case"n":var i=t.t=="d"?Vn(Nn(t.v)):t.v;Se(e,515,JV(r,n,i,a));break;case"b":case"e":Se(e,517,QV(r,n,t.v,a,s,t.t));break;case"s":case"str":if(s.bookSST){var l=M1(s.Strings,t.v,s.revStrings);Se(e,253,HV(r,n,l,a))}else Se(e,516,KV(r,n,(t.v||"").slice(0,255),a,s));break;default:Se(e,513,xl(r,n,a))}}function aX(e,t,r){var n=qn(),s=r.SheetNames[e],a=r.Sheets[s]||{},i=(r||{}).Workbook||{},l=(i.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,d,f="",h=[],m=Gt(a["!ref"]||"A1"),g=u?65536:16384;if(m.e.c>255||m.e.r>=g){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}Se(n,2057,P1(r,16,t)),Se(n,13,ys(1)),Se(n,12,ys(100)),Se(n,15,Tn(!0)),Se(n,17,Tn(!1)),Se(n,16,gl(.001)),Se(n,95,Tn(!0)),Se(n,42,Tn(!1)),Se(n,43,Tn(!1)),Se(n,130,ys(1)),Se(n,128,YV()),Se(n,131,Tn(!1)),Se(n,132,Tn(!1)),u&&nX(n,a["!cols"]),Se(n,512,XV(m,t)),u&&(a["!links"]=[]);for(var p=m.s.r;p<=m.e.r;++p){f=Qr(p);for(var x=m.s.c;x<=m.e.c;++x){p===m.s.r&&(h[x]=hn(x)),d=h[x]+f;var v=c?(a[p]||[])[x]:a[d];v&&(sX(n,v,p,x,t),u&&v.l&&a["!links"].push([d,v.l]))}}var y=l.CodeName||l.name||s;return u&&Se(n,574,zV((i.Views||[])[0])),u&&(a["!merges"]||[]).length&&Se(n,229,tz(a["!merges"])),u&&rX(n,a),Se(n,442,SR(y)),u&&eX(n,a),Se(n,10),n.end()}function iX(e,t,r){var n=qn(),s=(e||{}).Workbook||{},a=s.Sheets||[],i=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(Se(n,2057,P1(e,5,r)),r.bookType=="xla"&&Se(n,135),Se(n,225,l?ys(1200):null),Se(n,193,RV(2)),c&&Se(n,191),c&&Se(n,192),Se(n,226),Se(n,92,BV("SheetJS",r)),Se(n,66,ys(l?1200:1252)),l&&Se(n,353,ys(0)),l&&Se(n,448),Se(n,317,oz(e.SheetNames.length)),l&&e.vbaraw&&Se(n,211),l&&e.vbaraw){var u=i.CodeName||"ThisWorkbook";Se(n,442,SR(u))}Se(n,156,ys(17)),Se(n,25,Tn(!1)),Se(n,18,Tn(!1)),Se(n,19,ys(0)),l&&Se(n,431,Tn(!1)),l&&Se(n,444,ys(0)),Se(n,61,VV()),Se(n,64,Tn(!1)),Se(n,141,ys(0)),Se(n,34,Tn(dG(e)=="true")),Se(n,14,Tn(!0)),l&&Se(n,439,Tn(!1)),Se(n,218,ys(0)),JG(n,e,r),ZG(n,e.SSF,r),tX(n,r),l&&Se(n,352,Tn(!1));var d=n.end(),f=qn();l&&Se(f,140,sz()),l&&r.Strings&&HG(f,252,qV(r.Strings)),Se(f,10);var h=f.end(),m=qn(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var x=d.length+g+h.length;for(p=0;p<e.SheetNames.length;++p){var v=a[p]||{};Se(m,133,$V({pos:x,hs:v.Hidden||0,dt:0,name:e.SheetNames[p]},r)),x+=t[p].length}var y=m.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var w=[];return d.length&&w.push(d),y.length&&w.push(y),h.length&&w.push(h),Kr(w)}function oX(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=zn(hr)),e&&e.SSF&&(ep(),Zm(e.SSF),r.revssf=tp(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,L1(r),r.cellXfs=[],yo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=aX(s,r,e);return n.unshift(iX(e,n,r)),Kr(n)}function XR(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=hs(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return oX(e,t);case 4:case 3:case 2:return QG(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function lX(e,t,r,n){for(var s=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>i)&&!(s[u].e.r<r||s[u].e.c<i)){if(s[u].s.r<r||s[u].s.c<i){l=-1;break}l=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(l<0)){var d=Mt({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||Uq(f.w||(ii(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,a.push(_e("td",h,m))}}var g="<tr>";return g+a.join("")+"</tr>"}var cX='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',uX="</body></html>";function dX(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function YR(e,t){var r=t||{},n=r.header!=null?r.header:cX,s=r.footer!=null?r.footer:uX,a=[n],i=hs(e["!ref"]);r.dense=Array.isArray(e),a.push(dX(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)a.push(lX(e,i,l,r));return a.push("</table>"+s),a.join("")}function QR(e,t,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var i=typeof n.origin=="string"?Lr(n.origin):n.origin;s=i.r,a=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:s,c:a}};if(e["!ref"]){var d=hs(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),s==-1&&(u.e.r=s=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,x=0,v=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var S=l[g];if(LS(S)){if(n.display)continue;m[p]={hidden:!0}}var N=S.children;for(x=v=0;x<N.length;++x){var A=N[x];if(!(n.display&&LS(A))){var b=A.hasAttribute("data-v")?A.getAttribute("data-v"):A.hasAttribute("v")?A.getAttribute("v"):Vq(A.innerHTML),T=A.getAttribute("data-z")||A.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==v+a&&C.s.r<p+s&&p+s<=C.e.r&&(v=C.e.c+1-a,h=-1)}w=+A.getAttribute("colspan")||1,((y=+A.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+s,c:v+a},e:{r:p+s+(y||1)-1,c:v+a+(w||1)-1}});var R={t:"s",v:b},I=A.getAttribute("data-t")||A.getAttribute("t")||"";b!=null&&(b.length==0?R.t=I||"z":n.raw||b.trim().length==0||I=="s"||(b==="TRUE"?R={t:"b",v:!0}:b==="FALSE"?R={t:"b",v:!1}:isNaN(Ha(b))?isNaN(Jd(b).getDate())||(R={t:"d",v:Nn(b)},n.cellDates||(R={t:"n",v:Vn(R.v)}),R.z=n.dateNF||hr[14]):R={t:"n",v:Ha(b)})),R.z===void 0&&T!=null&&(R.z=T);var O="",K=A.getElementsByTagName("A");if(K&&K.length)for(var te=0;te<K.length&&!(K[te].hasAttribute("href")&&(O=K[te].getAttribute("href"),O.charAt(0)!="#"));++te);O&&O.charAt(0)!="#"&&(R.l={Target:O}),n.dense?(e[p+s]||(e[p+s]=[]),e[p+s][v+a]=R):e[Mt({c:v+a,r:p+s})]=R,u.e.c<v+a&&(u.e.c=v+a),v+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+s),e["!ref"]=Cr(u),p>=c&&(e["!fullref"]=Cr((u.e.r=l.length-g+p-1+s,u))),e}function JR(e,t){var r=t||{},n=r.dense?[]:{};return QR(n,e,t)}function fX(e,t){return bl(JR(e,t),t)}function LS(e){var t="",r=hX(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function hX(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var mX=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+ef({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Nr+t}}(),US=function(){var e=function(a){return Dt(a).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,i,l){var c=[];c.push('      <table:table table:name="'+Dt(i.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=hs(a["!ref"]||"A1"),h=a["!merges"]||[],m=0,g=Array.isArray(a);if(a["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(a["!cols"][d]?' table:style-name="co'+a["!cols"][d].ods+'"':"")+`></table:table-column>
`);var p="",x=a["!rows"]||[];for(u=0;u<f.s.r;++u)p=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=f.e.r;++u){for(p=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var v=!1,y={},w="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(v=!0),y["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,y["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(v){c.push(r);continue}var S=Mt({r:u,c:d}),N=g?(a[u]||[])[d]:a[S];if(N&&N.f&&(y["table:formula"]=Dt(IH(N.f)),N.F&&N.F.slice(0,S.length)==S)){var A=hs(N.F);y["table:number-matrix-columns-spanned"]=A.e.c-A.s.c+1,y["table:number-matrix-rows-spanned"]=A.e.r-A.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":w=N.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=N.v?"true":"false";break;case"n":w=N.w||String(N.v||0),y["office:value-type"]="float",y["office:value"]=N.v||0;break;case"s":case"str":w=N.v==null?"":N.v,y["office:value-type"]="string";break;case"d":w=N.w||Nn(N.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Nn(N.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var b=e(w);if(N.l&&N.l.Target){var T=N.l.Target;T=T.charAt(0)=="#"?"#"+DH(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),b=_e("text:a",b,{"xlink:href":T.replace(/&/g,"&amp;")})}c.push("          "+_e("table:table-cell",_e("text:p",b,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(a,i){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;O1(f),f.ods=l;var h=u["!cols"][d].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;i.SheetNames.map(function(u){return i.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(i,l){var c=[Nr],u=ef({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=ef({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(hR().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,i),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=i.SheetNames.length;++f)c.push(n(i.Sheets[i.SheetNames[f]],i,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function ZR(e,t){if(t.bookType=="fods")return US(e,t);var r=S1(),n="",s=[],a=[];return n="mimetype",ct(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ct(r,n,US(e,t)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",ct(r,n,mX(e,t)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",ct(r,n,Nr+hR()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",ct(r,n,CV(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ct(r,n,EV(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function J0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pX(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ys(Zd(e))}function gX(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function oo(e){var t=e.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function xX(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)e[t+a]=s&255;e[t+15]|=r>=0?0:128}function tf(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ot(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function _c(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Pr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=tf(e,r),a=s&7;s=Math.floor(s/8);var i=0,l;if(s==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=tf(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var u={data:l,type:a};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function Vr(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(Ot(n*8+s.type)),s.type==2&&t.push(Ot(s.data.length)),t.push(s.data))})}),oo(t)}function Ms(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=tf(e,n),a=Pr(e.slice(n[0],n[0]+s));n[0]+=s;var i={id:_c(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=Pr(l.data),u=_c(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(i.merge=_c(a[3][0].data)>>>0>0),r.push(i)}return r}function Bl(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Ot(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ot(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(i){s.push(i.data),i.meta[3]=[{type:0,data:Ot(i.data.length)}],n[2].push({data:Vr(i.meta),type:2})});var a=Vr(n);t.push(Ot(a.length)),t.push(a),s.forEach(function(i){return t.push(i)})}),oo(t)}function vX(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=tf(t,r),s=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}s.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[oo(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var d=oo(s);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Ls(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(vX(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return oo(t)}function $l(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var a=Ot(n),i=a.length;t.push(a),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,s[0]=0,s[1]=i&255,s[2]=i>>8&255,s[3]=i>>16&255,r+=n}return oo(t)}function hg(e,t){var r=new Uint8Array(32),n=J0(r),s=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,xX(r,s,e.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),a|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,s)}function mg(e,t){var r=new Uint8Array(32),n=J0(r),s=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),a|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,s)}function mi(e){var t=Pr(e);return tf(t[1][0].data)}function yX(e,t,r){var n,s,a,i;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((i=(a=e[8])==null?void 0:a[0])==null?void 0:i.data)&&_c(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=J0(e[7][0].data),d=0,f=[],h=J0(e[4][0].data),m=0,g=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}u.setUint16(p*2,d,!0),h.setUint16(p*2,m,!0);var x,v;switch(typeof t[p]){case"string":x=hg({t:"s",v:t[p]},r),v=mg({t:"s",v:t[p]},r);break;case"number":x=hg({t:"n",v:t[p]},r),v=mg({t:"n",v:t[p]},r);break;case"boolean":x=hg({t:"b",v:t[p]},r),v=mg({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(x),d+=x.length,g.push(v),m+=v.length,++c}for(e[2][0].data=Ot(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return e[6][0].data=oo(f),e[3][0].data=oo(g),c}function wX(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=hs(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Cr(n)));var a=Z0(r,{range:n,header:1}),i=["~Sh33tJ5~"];a.forEach(function(H){return H.forEach(function(B){typeof B=="string"&&i.push(B)})});var l={},c=[],u=Lt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(H,B){return[H,u.FullPaths[B]]}).forEach(function(H){var B=H[0],z=H[1];if(B.type==2&&B.name.match(/\.iwa/)){var ee=B.content,W=Ls(ee),ce=Ms(W);ce.forEach(function(de){c.push(de.id),l[de.id]={deps:[],location:z,type:_c(de.messages[0].meta[1][0].data)}})}}),c.sort(function(H,B){return H-B});var d=c.filter(function(H){return H>1}).map(function(H){return[H,Ot(H)]});u.FileIndex.map(function(H,B){return[H,u.FullPaths[B]]}).forEach(function(H){var B=H[0];if(H[1],!!B.name.match(/\.iwa/)){var z=Ms(Ls(B.content));z.forEach(function(ee){ee.messages.forEach(function(W){d.forEach(function(ce){ee.messages.some(function(de){return _c(de.meta[1][0].data)!=11006&&gX(de.data,ce[1])})&&l[ce[0]].deps.push(ee.id)})})})}});for(var f=Lt.find(u,l[1].location),h=Ms(Ls(f.content)),m,g=0;g<h.length;++g){var p=h[g];p.id==1&&(m=p)}var x=mi(Pr(m.messages[0].data)[1][0].data);for(f=Lt.find(u,l[x].location),h=Ms(Ls(f.content)),g=0;g<h.length;++g)p=h[g],p.id==x&&(m=p);for(x=mi(Pr(m.messages[0].data)[2][0].data),f=Lt.find(u,l[x].location),h=Ms(Ls(f.content)),g=0;g<h.length;++g)p=h[g],p.id==x&&(m=p);for(x=mi(Pr(m.messages[0].data)[2][0].data),f=Lt.find(u,l[x].location),h=Ms(Ls(f.content)),g=0;g<h.length;++g)p=h[g],p.id==x&&(m=p);var v=Pr(m.messages[0].data);{v[6][0].data=Ot(n.e.r+1),v[7][0].data=Ot(n.e.c+1);var y=mi(v[46][0].data),w=Lt.find(u,l[y].location),S=Ms(Ls(w.content));{for(var N=0;N<S.length&&S[N].id!=y;++N);if(S[N].id!=y)throw"Bad ColumnRowUIDMapArchive";var A=Pr(S[N].messages[0].data);A[1]=[],A[2]=[],A[3]=[];for(var b=0;b<=n.e.c;++b){var T=[];T[1]=T[2]=[{type:0,data:Ot(b+420690)}],A[1].push({type:2,data:Vr(T)}),A[2].push({type:0,data:Ot(b)}),A[3].push({type:0,data:Ot(b)})}A[4]=[],A[5]=[],A[6]=[];for(var C=0;C<=n.e.r;++C)T=[],T[1]=T[2]=[{type:0,data:Ot(C+726270)}],A[4].push({type:2,data:Vr(T)}),A[5].push({type:0,data:Ot(C)}),A[6].push({type:0,data:Ot(C)});S[N].messages[0].data=Vr(A)}w.content=$l(Bl(S)),w.size=w.content.length,delete v[46];var R=Pr(v[4][0].data);{R[7][0].data=Ot(n.e.r+1);var I=Pr(R[1][0].data),O=mi(I[2][0].data);w=Lt.find(u,l[O].location),S=Ms(Ls(w.content));{if(S[0].id!=O)throw"Bad HeaderStorageBucket";var K=Pr(S[0].messages[0].data);for(C=0;C<a.length;++C){var te=Pr(K[2][0].data);te[1][0].data=Ot(C),te[4][0].data=Ot(a[C].length),K[2][C]={type:K[2][0].type,data:Vr(te)}}S[0].messages[0].data=Vr(K)}w.content=$l(Bl(S)),w.size=w.content.length;var le=mi(R[2][0].data);w=Lt.find(u,l[le].location),S=Ms(Ls(w.content));{if(S[0].id!=le)throw"Bad HeaderStorageBucket";for(K=Pr(S[0].messages[0].data),b=0;b<=n.e.c;++b)te=Pr(K[2][0].data),te[1][0].data=Ot(b),te[4][0].data=Ot(n.e.r+1),K[2][b]={type:K[2][0].type,data:Vr(te)};S[0].messages[0].data=Vr(K)}w.content=$l(Bl(S)),w.size=w.content.length;var ue=mi(R[4][0].data);(function(){for(var H=Lt.find(u,l[ue].location),B=Ms(Ls(H.content)),z,ee=0;ee<B.length;++ee){var W=B[ee];W.id==ue&&(z=W)}var ce=Pr(z.messages[0].data);{ce[3]=[];var de=[];i.forEach(function(Oe,gt){de[1]=[{type:0,data:Ot(gt)}],de[2]=[{type:0,data:Ot(1)}],de[3]=[{type:2,data:pX(Oe)}],ce[3].push({type:2,data:Vr(de)})})}z.messages[0].data=Vr(ce);var ie=Bl(B),Ie=$l(ie);H.content=Ie,H.size=H.content.length})();var he=Pr(R[3][0].data);{var L=he[1][0];delete he[2];var U=Pr(L.data);{var ne=mi(U[2][0].data);(function(){for(var H=Lt.find(u,l[ne].location),B=Ms(Ls(H.content)),z,ee=0;ee<B.length;++ee){var W=B[ee];W.id==ne&&(z=W)}var ce=Pr(z.messages[0].data);{delete ce[6],delete he[7];var de=new Uint8Array(ce[5][0].data);ce[5]=[];for(var ie=0,Ie=0;Ie<=n.e.r;++Ie){var Oe=Pr(de);ie+=yX(Oe,a[Ie],i),Oe[1][0].data=Ot(Ie),ce[5].push({data:Vr(Oe),type:2})}ce[1]=[{type:0,data:Ot(n.e.c+1)}],ce[2]=[{type:0,data:Ot(n.e.r+1)}],ce[3]=[{type:0,data:Ot(ie)}],ce[4]=[{type:0,data:Ot(n.e.r+1)}]}z.messages[0].data=Vr(ce);var gt=Bl(B),Xe=$l(gt);H.content=Xe,H.size=H.content.length})()}L.data=Vr(U)}R[3][0].data=Vr(he)}v[4][0].data=Vr(R)}m.messages[0].data=Vr(v);var be=Bl(h),j=$l(be);return f.content=j,f.size=f.content.length,u}function _X(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function L1(e){_X([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function SX(e,t){return t.bookType=="ods"?ZR(e,t):t.bookType=="numbers"?wX(e,t):t.bookType=="xlsb"?bX(e,t):EX(e,t)}function bX(e,t){ic=1024,e&&!e.SSF&&(e.SSF=zn(hr)),e&&e.SSF&&(ep(),Zm(e.SSF),t.revssf=tp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,xd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=DR.indexOf(t.bookType)>-1,s=uR();L1(t=t||{});var a=S1(),i="",l=0;if(t.cellXfs=[],yo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",ct(a,i,mR(e.Props,t)),s.coreprops.push(i),It(t.rels,2,i,_t.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,ct(a,i,gR(e.Props)),s.extprops.push(i),It(t.rels,3,i,_t.EXT_PROPS),e.Custprops!==e.Props&&nn(e.Custprops||{}).length>0&&(i="docProps/custom.xml",ct(a,i,xR(e.Custprops)),s.custprops.push(i),It(t.rels,4,i,_t.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,ct(a,i,CG(l-1,i,t,e,d)),s.sheets.push(i),It(t.wbrels,-1,"worksheets/sheet"+l+"."+r,_t.WS[0])}if(f){var m=f["!comments"],g=!1,p="";m&&m.length>0&&(p="xl/comments"+l+"."+r,ct(a,p,kG(m,p)),s.comments.push(p),It(d,-1,"../comments"+l+"."+r,_t.CMNT),g=!0),f["!legacy"]&&g&&ct(a,"xl/drawings/vmlDrawing"+l+".vml",OR(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&ct(a,fR(i),yc(d))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,ct(a,i,jG(t.Strings,i,t)),s.strs.push(i),It(t.wbrels,-1,"sharedStrings."+r,_t.SST)),i="xl/workbook."+r,ct(a,i,TG(e,i)),s.workbooks.push(i),It(t.rels,1,i,_t.WB),i="xl/theme/theme1.xml",ct(a,i,RR(e.Themes,t)),s.themes.push(i),It(t.wbrels,-1,"theme/theme1.xml",_t.THEME),i="xl/styles."+r,ct(a,i,NG(e,i,t)),s.styles.push(i),It(t.wbrels,-1,"styles."+r,_t.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",ct(a,i,e.vbaraw),s.vba.push(i),It(t.wbrels,-1,"vbaProject.bin",_t.VBA)),i="xl/metadata."+r,ct(a,i,AG(i)),s.metadata.push(i),It(t.wbrels,-1,"metadata."+r,_t.XLMETA),ct(a,"[Content_Types].xml",dR(s,t)),ct(a,"_rels/.rels",yc(t.rels)),ct(a,"xl/_rels/workbook."+r+".rels",yc(t.wbrels)),delete t.revssf,delete t.ssf,a}function EX(e,t){ic=1024,e&&!e.SSF&&(e.SSF=zn(hr)),e&&e.SSF&&(ep(),Zm(e.SSF),t.revssf=tp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,xd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=DR.indexOf(t.bookType)>-1,s=uR();L1(t=t||{});var a=S1(),i="",l=0;if(t.cellXfs=[],yo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",ct(a,i,mR(e.Props,t)),s.coreprops.push(i),It(t.rels,2,i,_t.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,ct(a,i,gR(e.Props)),s.extprops.push(i),It(t.rels,3,i,_t.EXT_PROPS),e.Custprops!==e.Props&&nn(e.Custprops||{}).length>0&&(i="docProps/custom.xml",ct(a,i,xR(e.Custprops)),s.custprops.push(i),It(t.rels,4,i,_t.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:i="xl/worksheets/sheet"+l+"."+r,ct(a,i,zR(l-1,t,e,f)),s.sheets.push(i),It(t.wbrels,-1,"worksheets/sheet"+l+"."+r,_t.WS[0])}if(h){var g=h["!comments"],p=!1,x="";if(g&&g.length>0){var v=!1;g.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+l+"."+r,ct(a,x,tW(g,d,t)),s.threadedcomments.push(x),It(f,-1,"../threadedComments/threadedComment"+l+"."+r,_t.TCMNT)),x="xl/comments"+l+"."+r,ct(a,x,IR(g)),s.comments.push(x),It(f,-1,"../comments"+l+"."+r,_t.CMNT),p=!0}h["!legacy"]&&p&&ct(a,"xl/drawings/vmlDrawing"+l+".vml",OR(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&ct(a,fR(i),yc(f))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,ct(a,i,TR(t.Strings,t)),s.strs.push(i),It(t.wbrels,-1,"sharedStrings."+r,_t.SST)),i="xl/workbook."+r,ct(a,i,KR(e)),s.workbooks.push(i),It(t.rels,1,i,_t.WB),i="xl/theme/theme1.xml",ct(a,i,RR(e.Themes,t)),s.themes.push(i),It(t.wbrels,-1,"theme/theme1.xml",_t.THEME),i="xl/styles."+r,ct(a,i,kR(e,t)),s.styles.push(i),It(t.wbrels,-1,"styles."+r,_t.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",ct(a,i,e.vbaraw),s.vba.push(i),It(t.wbrels,-1,"vbaProject.bin",_t.VBA)),i="xl/metadata."+r,ct(a,i,PR()),s.metadata.push(i),It(t.wbrels,-1,"metadata."+r,_t.XLMETA),d.length>1&&(i="xl/persons/person.xml",ct(a,i,rW(d)),s.people.push(i),It(t.wbrels,-1,"persons/person.xml",_t.PEOPLE)),ct(a,"[Content_Types].xml",dR(s,t)),ct(a,"_rels/.rels",yc(t.rels)),ct(a,"xl/_rels/workbook."+r+".rels",yc(t.wbrels)),delete t.revssf,delete t.ssf,a}function TX(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ai(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function e4(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Af(t.file,Lt.write(e,{type:Nt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Lt.write(e,t)}function CX(e,t){var r=zn(t||{}),n=SX(e,r);return NX(n,r)}function NX(e,t){var r={},n=Nt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Lt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(Jm(s))}return t.password&&typeof encrypt_agile<"u"?e4(encrypt_agile(s,t.password),t):t.type==="file"?Af(t.file,s):t.type=="string"?hd(s):s}function jX(e,t){var r=t||{},n=zG(e,r);return e4(n,r)}function ha(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Qd(Zd(n));case"binary":return Zd(n);case"string":return e;case"file":return Af(t.file,n,"utf8");case"buffer":return Nt?ui(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ha(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function kX(e,t){switch(t.type){case"base64":return Qd(e);case"binary":return e;case"string":return e;case"file":return Af(t.file,e,"binary");case"buffer":return Nt?ui(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function yh(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Qd(r):t.type=="string"?hd(r):r;case"file":return Af(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function t4(e,t){nq(),mG(e);var r=zn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=t4(e,r);return r.type="array",Jm(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ha(qG(e,r),r);case"slk":case"sylk":return ha(dz.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return ha(YR(e.Sheets[e.SheetNames[s]],r),r);case"txt":return kX(r4(e.Sheets[e.SheetNames[s]],r),r);case"csv":return ha(U1(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return ha(fz.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return yh(uz.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return ha(hz.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return ha(wz.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return ha(ER.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return ha(ZR(e,r),r);case"wk1":return yh(PS.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return yh(PS.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),yh(XR(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),jX(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return CX(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function AX(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function RX(e,t,r){var n={};return n.type="file",n.file=t,AX(n),t4(e,n)}function PX(e,t,r,n,s,a,i,l){var c=Qr(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=i?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;a[m]!=null&&(h[a[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(a[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[a[m]]=null;else if(u!==void 0)h[a[m]]=u;else if(d&&p===null)h[a[m]]=null;else continue;else h[a[m]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:ii(g,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function Z0(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Gt(d);break;case"number":c=Gt(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(s=0);var f=Qr(c.s.r),h=[],m=[],g=0,p=0,x=Array.isArray(e),v=c.s.r,y=0,w={};x&&!e[v]&&(e[v]=[]);var S=u.skipHidden&&e["!cols"]||[],N=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(S[y]||{}).hidden)switch(h[y]=hn(y),r=x?e[v][y]:e[h[y]+f],n){case 1:a[y]=y-c.s.c;break;case 2:a[y]=h[y];break;case 3:a[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=ii(r,null,u),p=w[i]||0,!p)w[i]=1;else{do l=i+"_"+p++;while(w[l]);w[i]=p,w[l]=1}a[y]=l}for(v=c.s.r+s;v<=c.e.r;++v)if(!(N[v]||{}).hidden){var A=PX(e,c,v,h,n,a,x,u);(A.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=A.row)}return m.length=g,m}var BS=/"/g;function OX(e,t,r,n,s,a,i,l){for(var c=!0,u=[],d="",f=Qr(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:ii(m,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===s||p===a||p===34||l.forceQuotes){d='"'+d.replace(BS,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(BS,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(i)}function U1(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=Gt(e["!ref"]),a=n.FS!==void 0?n.FS:",",i=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=s.s.c;g<=s.e.c;++g)(h[g]||{}).hidden||(f[g]=hn(g));for(var p=0,x=s.s.r;x<=s.e.r;++x)(m[x]||{}).hidden||(d=OX(e,s,x,f,i,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function r4(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=U1(e,t);return r}function IX(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=Gt(e["!ref"]),a="",i=[],l,c=[],u=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)i[l]=hn(l);for(var d=s.s.r;d<=s.e.r;++d)for(a=Qr(d),l=s.s.c;l<=s.e.c;++l)if(t=i[l]+a,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function n4(e,t,r){var n=r||{},s=+!n.skipHeader,a=e||{},i=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?Lr(n.origin):n.origin;i=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:i+t.length-1+s}};if(a["!ref"]){var f=Gt(a["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+s)}else i==-1&&(i=0,d.e.r=t.length-1+s);var h=n.header||[],m=0;t.forEach(function(p,x){nn(p).forEach(function(v){(m=h.indexOf(v))==-1&&(h[m=h.length]=v);var y=p[v],w="z",S="",N=Mt({c:l+m,r:i+x+s});u=rf(a,N),y&&typeof y=="object"&&!(y instanceof Date)?a[N]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",n.cellDates||(w="n",y=Vn(y)),S=n.dateNF||hr[14]):y===null&&n.nullError&&(w="e",y=0),u?(u.t=w,u.v=y,delete u.w,delete u.R,S&&(u.z=S)):a[N]=u={t:w,v:y},S&&(u.z=S))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=Qr(i);if(s)for(m=0;m<h.length;++m)a[hn(m+l)+g]={t:"s",v:h[m]};return a["!ref"]=Cr(d),a}function DX(e,t){return n4(null,e,t)}function rf(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Lr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?rf(e,Mt(t)):rf(e,Mt({r:t,c:r||0}))}function FX(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function MX(){return{SheetNames:[],Sheets:{}}}function LX(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=i+s)!=-1;++s);}if(HR(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function UX(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=FX(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function BX(e,t){return e.z=t,e}function s4(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function $X(e,t,r){return s4(e,"#"+t,r)}function qX(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function VX(e,t,r,n){for(var s=typeof t!="string"?t:Gt(t),a=typeof t=="string"?t:Cr(t),i=s.s.r;i<=s.e.r;++i)for(var l=s.s.c;l<=s.e.c;++l){var c=rf(e,i,l);c.t="n",c.F=a,delete c.v,i==s.s.r&&l==s.s.c&&(c.f=r,n&&(c.D=!0))}return e}var pg={encode_col:hn,encode_row:Qr,encode_cell:Mt,encode_range:Cr,decode_col:j1,decode_row:N1,split_cell:nV,decode_cell:Lr,decode_range:hs,format_cell:ii,sheet_add_aoa:sR,sheet_add_json:n4,sheet_add_dom:QR,aoa_to_sheet:gu,json_to_sheet:DX,table_to_sheet:JR,table_to_book:fX,sheet_to_csv:U1,sheet_to_txt:r4,sheet_to_json:Z0,sheet_to_html:YR,sheet_to_formulae:IX,sheet_to_row_object_array:Z0,sheet_get_cell:rf,book_new:MX,book_append_sheet:LX,book_set_sheet_visibility:UX,cell_set_number_format:BX,cell_set_hyperlink:s4,cell_set_internal_link:$X,cell_add_comment:qX,sheet_set_array_formula:VX,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const zX=async e=>{const t=X.from("items").select(`
      asset_tag,
      name,
      description,
      serial_number,
      status,
      purchase_date,
      purchase_cost,
      departments(name, colleges(name)),
      profiles(full_name)
    `);e!=null&&e.departmentId&&t.eq("owner_department_id",e.departmentId);const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r==null?void 0:r.map(s=>{var a,i,l,c;return{"Asset Tag":s.asset_tag,"Item Name":s.name,Description:s.description||"","Serial Number":s.serial_number||"",Status:s.status,Department:((a=s.departments)==null?void 0:a.name)||"",College:((l=(i=s.departments)==null?void 0:i.colleges)==null?void 0:l.name)||"","Current Custodian":((c=s.profiles)==null?void 0:c.full_name)||"Unassigned","Purchase Date":s.purchase_date||"","Purchase Cost":s.purchase_cost||""}})},WX=async e=>{const t=X.from("item_requests").select(`
      item_name,
      item_description,
      quantity,
      status,
      created_at,
      profiles!requester_id(full_name),
      departments(name, colleges(name))
    `);e!=null&&e.dateFrom&&t.gte("created_at",e.dateFrom),e!=null&&e.dateTo&&t.lte("created_at",e.dateTo);const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r==null?void 0:r.map(s=>{var a,i,l,c;return{"Item Name":s.item_name,Description:s.item_description||"",Quantity:s.quantity,Status:s.status,Requester:((a=s.profiles)==null?void 0:a.full_name)||"",Department:((i=s.departments)==null?void 0:i.name)||"",College:((c=(l=s.departments)==null?void 0:l.colleges)==null?void 0:c.name)||"","Request Date":new Date(s.created_at).toLocaleDateString()}})},HX=async e=>{const t=X.from("item_transfers").select(`
      status,
      created_at,
      items(name, asset_tag),
      initiator:profiles!initiator_id(full_name),
      receiver:profiles!receiver_id(full_name)
    `);e!=null&&e.dateFrom&&t.gte("created_at",e.dateFrom),e!=null&&e.dateTo&&t.lte("created_at",e.dateTo);const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r==null?void 0:r.map(s=>{var a,i,l,c;return{"Item Name":((a=s.items)==null?void 0:a.name)||"","Asset Tag":((i=s.items)==null?void 0:i.asset_tag)||"",From:((l=s.initiator)==null?void 0:l.full_name)||"",To:((c=s.receiver)==null?void 0:c.full_name)||"",Status:s.status,"Transfer Date":new Date(s.created_at).toLocaleDateString()}})},KX=async e=>{const t=X.from("audit_log").select(`
      timestamp,
      action,
      target_resource_type,
      details,
      profiles(full_name, role)
    `);e!=null&&e.dateFrom&&t.gte("timestamp",e.dateFrom),e!=null&&e.dateTo&&t.lte("timestamp",e.dateTo);const{data:r,error:n}=await t.order("timestamp",{ascending:!1}).limit(1e3);if(n)throw new Error(n.message);return r==null?void 0:r.map(s=>{var a,i;return{Timestamp:new Date(s.timestamp).toLocaleString(),User:((a=s.profiles)==null?void 0:a.full_name)||"System",Role:((i=s.profiles)==null?void 0:i.role)||"",Action:s.action,"Resource Type":s.target_resource_type||"",Details:JSON.stringify(s.details||{})}})};function Js({reportType:e,filters:t}){const r=async()=>{try{let n=[],s="";switch(e){case"inventory":n=await zX(t)||[],s=`inventory_report_${new Date().toISOString().split("T")[0]}.xlsx`;break;case"requests":n=await WX(t)||[],s=`requests_report_${new Date().toISOString().split("T")[0]}.xlsx`;break;case"transfers":n=await HX(t)||[],s=`transfers_report_${new Date().toISOString().split("T")[0]}.xlsx`;break;case"audit":n=await KX(t)||[],s=`audit_report_${new Date().toISOString().split("T")[0]}.xlsx`;break}if(n.length===0){Qt({title:"No Data",description:"No data available for the selected criteria.",variant:"destructive"});return}const a=pg.book_new(),i=pg.json_to_sheet(n),l=Object.keys(n[0]).map(c=>({wch:Math.max(c.length,...n.map(u=>String(u[c]||"").length))}));i["!cols"]=l,pg.book_append_sheet(a,i,e.charAt(0).toUpperCase()+e.slice(1)),RX(a,s),Qt({title:"Export Successful",description:`${e.charAt(0).toUpperCase()+e.slice(1)} report exported successfully.`})}catch(n){Qt({title:"Export Failed",description:n instanceof Error?n.message:"Failed to export report",variant:"destructive"})}};return o.jsxs(we,{variant:"outline",size:"sm",onClick:r,children:[o.jsx(Wx,{className:"h-4 w-4 mr-2"}),"Export ",e.charAt(0).toUpperCase()+e.slice(1)]})}function GX(){const{profile:e,user:t}=He();return o.jsx(st,{role:"college_dean",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"College Dean",userEmail:(t==null?void 0:t.email)||"",pageTitle:"College Reports",pageSubtitle:"Generate and export college-wide reports",notificationCount:0,children:o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-5 w-5"}),"College Inventory Report"]})}),o.jsxs(Je,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Export complete college inventory across all departments."}),o.jsx(Js,{reportType:"inventory",filters:{collegeId:e==null?void 0:e.college_id}})]})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-5 w-5"}),"Approval Requests Report"]})}),o.jsxs(Je,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Export all item requests processed at college level."}),o.jsx(Js,{reportType:"requests",filters:{collegeId:e==null?void 0:e.college_id}})]})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-5 w-5"}),"Transfer Activity Report"]})}),o.jsxs(Je,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Export item transfer history across college departments."}),o.jsx(Js,{reportType:"transfers",filters:{collegeId:e==null?void 0:e.college_id}})]})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-5 w-5"}),"College Audit Report"]})}),o.jsxs(Je,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Export audit trail of all college-level activities."}),o.jsx(Js,{reportType:"audit",filters:{collegeId:e==null?void 0:e.college_id}})]})]})]})})}function XX(){const{profile:e,user:t}=He(),{toast:r}=sn(),n=Vt(),{data:s=[]}=Le({queryKey:["dean-notifications",e==null?void 0:e.id],queryFn:async()=>{const{data:p,error:x}=await X.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(x)throw x;return p||[]},enabled:!!(e!=null&&e.id)}),{paginatedData:a,currentPage:i,pageSize:l,totalPages:c,totalItems:u,handlePageChange:d,handlePageSizeChange:f}=Kt(s,10),h=nt({mutationFn:async p=>{const{error:x}=await X.from("notifications").update({is_read:!0}).eq("id",p);if(x)throw x},onSuccess:()=>{n.invalidateQueries({queryKey:["dean-notifications"]})}}),m=nt({mutationFn:async p=>{const{error:x}=await X.from("notifications").delete().eq("id",p);if(x)throw x},onSuccess:()=>{n.invalidateQueries({queryKey:["dean-notifications"]}),r({title:"Success",description:"Notification deleted"})}}),g=p=>{switch(p){case"request_approved":return o.jsx(fu,{className:"h-4 w-4 text-green-500"});case"request_rejected":return o.jsx(du,{className:"h-4 w-4 text-red-500"});case"request_pending":return o.jsx(vf,{className:"h-4 w-4 text-yellow-500"});default:return o.jsx(Es,{className:"h-4 w-4 text-blue-500"})}};return o.jsxs(st,{role:"college_dean",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"College Dean",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Notifications",pageSubtitle:"View college notifications and alerts",notificationCount:0,children:[o.jsxs("div",{className:"space-y-4",children:[a.map(p=>o.jsx("div",{className:`rounded-lg border p-4 ${p.is_read?"bg-card":"bg-blue-50 border-blue-200"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g(p.type),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-sm",children:p.title}),!p.is_read&&o.jsx(Rt,{variant:"secondary",className:"text-xs",children:"New"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.message}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(p.created_at).toLocaleString()})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!p.is_read&&o.jsx(we,{size:"sm",variant:"ghost",onClick:()=>h.mutate(p.id),children:o.jsx(jn,{className:"h-4 w-4"})}),o.jsx(we,{size:"sm",variant:"ghost",onClick:()=>m.mutate(p.id),children:o.jsx(hu,{className:"h-4 w-4"})})]})]})},p.id)),s.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Es,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No notifications"}),o.jsx("p",{className:"text-muted-foreground",children:"You'll see notifications about college activities here."})]})]}),s.length>0&&o.jsx(qt,{currentPage:i,totalPages:c,pageSize:l,totalItems:u,onPageChange:d,onPageSizeChange:f})]})}function B1(){const{profile:e,user:t}=He(),{toast:r}=sn(),n=Vt(),s=(e==null?void 0:e.role)==="department_head"?"department_head":(e==null?void 0:e.role)==="college_dean"?"college_dean":"staff",{data:a=[],isLoading:i}=Le({queryKey:["incoming-transfers",e==null?void 0:e.id],queryFn:async()=>{console.log("Fetching incoming transfers for user:",e==null?void 0:e.id);const{data:x,error:v}=await X.from("item_transfers").select(`
          *,
          items(name, asset_tag),
          initiator:profiles!initiator_id(full_name)
        `).eq("receiver_id",e==null?void 0:e.id).eq("status","pending_receiver_acceptance").order("created_at",{ascending:!1});if(v)throw console.error("Error fetching transfers:",v),v;return console.log("Found incoming transfers:",(x==null?void 0:x.length)||0),x||[]},enabled:!!(e!=null&&e.id),refetchInterval:3e4}),l=nt({mutationFn:async x=>{var N;console.log("Accepting transfer request:",x);const{data:v,error:y}=await X.from("item_transfers").select("item_id, receiver_id, receiver:profiles!receiver_id(department_id)").eq("id",x).single();if(y||!v)throw new Error("Transfer not found");const{error:w}=await X.from("items").update({current_custodian_id:v.receiver_id,owner_department_id:(N=v.receiver)==null?void 0:N.department_id,status:"Allocated",updated_at:new Date().toISOString()}).eq("id",v.item_id);if(w)throw w;const{error:S}=await X.from("item_transfers").update({status:"completed"}).eq("id",x);if(S)throw S;console.log("Transfer completed successfully")},onSuccess:()=>{n.invalidateQueries({queryKey:["incoming-transfers"]}),n.invalidateQueries({queryKey:["my-items"]}),n.invalidateQueries({queryKey:["department-items"]}),r({title:"Success",description:"Transfer completed. Item is now in your custody."})},onError:x=>{console.error("Accept transfer error:",x),r({title:"Error",description:x.message||"Failed to accept transfer",variant:"destructive"})}}),c=nt({mutationFn:async x=>{const{error:v}=await X.from("item_transfers").update({status:"rejected",rejected_at:new Date().toISOString(),rejection_reason:"Rejected by receiver"}).eq("id",x);if(v)throw v},onSuccess:()=>{n.invalidateQueries({queryKey:["incoming-transfers"]}),r({title:"Success",description:"Transfer request rejected"})},onError:x=>{r({title:"Error",description:"Failed to reject transfer",variant:"destructive"})}}),{paginatedData:u,currentPage:d,pageSize:f,totalPages:h,totalItems:m,handlePageChange:g,handlePageSizeChange:p}=Kt(a,10);return o.jsx(st,{role:s,userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"User",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Incoming Transfers",pageSubtitle:"Review and accept item transfer requests sent to you",children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"h-5 w-5"}),"Pending Transfer Requests (",m,")"]})}),o.jsx(Je,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asset Tag"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[i?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-gray-500",children:"Loading transfer requests..."})}):u.map(x=>{var v,y,w;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 text-sm font-medium",children:((v=x.items)==null?void 0:v.name)||"Unknown Item"}),o.jsx("td",{className:"px-2 py-1 text-xs font-mono",children:((y=x.items)==null?void 0:y.asset_tag)||"N/A"}),o.jsx("td",{className:"px-2 py-1 text-sm",children:((w=x.initiator)==null?void 0:w.full_name)||"Unknown"}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(x.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-2 py-1 text-xs max-w-32 truncate",title:x.reason,children:x.reason||"No reason"}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs(we,{size:"sm",className:"h-6 text-xs px-2",onClick:()=>l.mutate(x.id),disabled:l.isPending,children:[o.jsx(jn,{className:"h-3 w-3 mr-1"}),"Accept"]}),o.jsxs(we,{size:"sm",variant:"destructive",className:"h-6 text-xs px-2",onClick:()=>c.mutate(x.id),disabled:c.isPending,children:[o.jsx(ro,{className:"h-3 w-3 mr-1"}),"Reject"]})]})})]},x.id)}),!i&&a.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-gray-500",children:"No pending transfer requests"})})]})]}),m>0&&o.jsx(qt,{currentPage:d,totalPages:h,pageSize:f,totalItems:m,onPageChange:g,onPageSizeChange:p})]})})]})})}function YX(){const{profile:e,user:t}=He(),{data:r=0}=Le({queryKey:["dean-pending-approvals-count",e==null?void 0:e.college_id],queryFn:async()=>{if(!(e!=null&&e.college_id))return 0;const{data:c,error:u}=await X.from("departments").select("id").eq("college_id",e.college_id);if(u)throw u;if(!c||c.length===0)return 0;const d=c.map(h=>h.id),{count:f}=await X.from("item_requests").select("*",{count:"exact",head:!0}).eq("status","pending_dean").in("requester_department_id",d);return Number(f)||0},enabled:!!(e!=null&&e.college_id)}),n=typeof r=="number"?r:0,{data:s=0}=Le({queryKey:["college-departments",e==null?void 0:e.college_id],queryFn:async()=>{const{count:c}=await X.from("departments").select("*",{count:"exact",head:!0}).eq("college_id",e==null?void 0:e.college_id);return Number(c)||0},enabled:!!(e!=null&&e.college_id)}),a=typeof s=="number"?s:0,{data:i=0}=Le({queryKey:["college-items",e==null?void 0:e.college_id],queryFn:async()=>{const{data:c}=await X.from("departments").select("id").eq("college_id",e==null?void 0:e.college_id);if(!c||c.length===0)return 0;const u=c.map(f=>f.id),{count:d}=await X.from("items").select("*",{count:"exact",head:!0}).in("owner_department_id",u);return Number(d)||0},enabled:!!(e!=null&&e.college_id)}),l=typeof i=="number"?i:0;return o.jsx(st,{role:"college_dean",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"College Dean",userEmail:(t==null?void 0:t.email)||"",pageTitle:"College Administration",pageSubtitle:"Manage college departments, approvals, and inventory oversight",notificationCount:n,children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Tr,{title:"Pending Approvals",value:n,subtitle:"Awaiting dean approval",icon:Yo,variant:"primary"}),o.jsx(Tr,{title:"Departments",value:a,subtitle:"Under college",icon:Vc,variant:"info"}),o.jsx(Tr,{title:"College Items",value:l,subtitle:"Total inventory",icon:fn,variant:"success"}),o.jsx(Tr,{title:"Transfer Requests",value:0,subtitle:"Pending transfers",icon:Xt,variant:"default"})]})})})}function QX(){return o.jsxs(cu,{children:[o.jsx($e,{index:!0,element:o.jsx(YX,{})}),o.jsx($e,{path:"approvals",element:o.jsx(X$,{})}),o.jsx($e,{path:"departments",element:o.jsx(Y$,{})}),o.jsx($e,{path:"inventory",element:o.jsx(Z$,{})}),o.jsx($e,{path:"transfers",element:o.jsx(eq,{})}),o.jsx($e,{path:"incoming-transfers",element:o.jsx(B1,{})}),o.jsx($e,{path:"reports",element:o.jsx(GX,{})}),o.jsx($e,{path:"notifications",element:o.jsx(XX,{})})]})}function JX(){const{profile:e,user:t}=He(),[r,n]=_.useState(null),{data:s=[],isLoading:a}=Le({queryKey:["department-pending-approvals",e==null?void 0:e.department_id],queryFn:async()=>{console.log("Approvals - Fetching pending approvals for department:",e==null?void 0:e.department_id);const{data:g,error:p}=await X.from("item_requests").select(`
          *,
          requester:profiles!requester_id(full_name, department_id)
        `).eq("status","pending_dept_head").eq("requester_department_id",e==null?void 0:e.department_id).order("created_at",{ascending:!1});if(p)throw console.error("Error fetching requests:",p),p;return console.log("Department requests needing approval:",(g==null?void 0:g.length)||0),g||[]},enabled:!!(e!=null&&e.department_id),refetchInterval:1e4}),i=g=>{switch(g){case"critical":return"destructive";case"high":return"secondary";case"medium":return"default";case"low":return"outline";default:return"outline"}},{paginatedData:l,currentPage:c,pageSize:u,totalPages:d,totalItems:f,handlePageChange:h,handlePageSizeChange:m}=Kt(s,25);return o.jsxs(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Pending Approvals",pageSubtitle:"Review and approve department item requests",notificationCount:Array.isArray(s)?s.length:0,children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Yo,{className:"h-5 w-5"}),"Pending Approvals (",Array.isArray(s)?s.length:0,")"]})}),o.jsx(Je,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested By"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgency"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Justification"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-2 py-4 text-center text-gray-500",children:"Loading pending requests..."})}):Array.isArray(l)&&l.map(g=>{var p,x;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 font-medium text-sm",children:(p=g.requester)==null?void 0:p.full_name}),o.jsx("td",{className:"px-2 py-1 text-sm",children:g.item_name||"N/A"}),o.jsx("td",{className:"px-2 py-1 text-sm",children:g.quantity}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:i(g.urgency),className:"text-xs",children:(x=g.urgency)==null?void 0:x.toUpperCase()})}),o.jsx("td",{className:"px-2 py-1 text-xs max-w-32 truncate",title:g.justification,children:g.justification}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(g.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(we,{size:"sm",className:"h-6 text-xs px-2",onClick:()=>n(g.id),children:"Review"})})]},g.id)}),(!Array.isArray(s)||s.length===0)&&!a&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-2 py-4 text-center text-muted-foreground",children:"No pending requests found"})})]})]}),s.length>0&&o.jsx(qt,{currentPage:c,totalPages:d,pageSize:u,totalItems:f,onPageChange:h,onPageSizeChange:m})]})})]}),r&&o.jsx(Qm,{requestId:r,requestType:"item_request",currentStage:"department_head",isOpen:!!r,onClose:()=>n(null)})]})}function ZX(){const{profile:e,user:t}=He(),{data:r,isLoading:n}=Le({queryKey:["department-staff",e==null?void 0:e.department_id],queryFn:async()=>{const{data:h,error:m}=await X.from("profiles").select("*").eq("department_id",e==null?void 0:e.department_id).order("full_name");if(m)throw m;return h},enabled:!!(e!=null&&e.department_id),refetchInterval:3e4}),s=h=>{switch(h){case"admin":return"destructive";case"department_head":return"default";case"staff":return"secondary";case"storekeeper":return"outline";default:return"secondary"}},{paginatedData:a,currentPage:i,pageSize:l,totalPages:c,totalItems:u,handlePageChange:d,handlePageSizeChange:f}=Kt(r||[],25);return o.jsx(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Department Staff",pageSubtitle:"Manage department staff members",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(il,{className:"h-5 w-5"}),"Staff Members (",(r==null?void 0:r.length)||0,")"]})}),o.jsx(Je,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n?o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"px-2 py-4 text-center text-gray-500",children:"Loading staff..."})}):a.map(h=>{var m;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 font-medium text-sm",children:h.full_name}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:s(h.role),className:"text-xs",children:(m=h.role)==null?void 0:m.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(h.created_at||h.updated_at).toLocaleDateString()})]},h.id)}),!n&&(!r||r.length===0)&&o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"px-2 py-4 text-center text-gray-500",children:"No staff members found"})})]})]}),r&&r.length>0&&o.jsx(qt,{currentPage:i,totalPages:c,pageSize:l,totalItems:u,onPageChange:d,onPageSizeChange:f})]})})]})})}const eY=async()=>{const{data:e,error:t}=await X.from("items").select(`
      *,
      item_categories(name),
      owner_department:departments!owner_department_id(
        name,
        colleges(name)
      )
    `);if(t)throw new Error(t.message);return await Promise.all((e||[]).map(async n=>{let s=null;if(n.current_custodian_id){const{data:a}=await X.from("profiles").select("full_name").eq("id",n.current_custodian_id).single();s=a?{full_name:a.full_name,email:"Email not available"}:null}return{...n,current_custodian:s}}))},tY=async(e,t)=>{const{data:r}=await X.from("profiles").select("department_id").eq("id",t).single();if(!r)throw new Error("Custodian profile not found");const{error:n}=await X.from("items").update({current_custodian_id:t,owner_department_id:r.department_id,status:"Allocated",updated_at:new Date().toISOString()}).eq("id",e);if(n)throw new Error(`Failed to allocate item: ${n.message}`)},a4=async(e,t)=>{const{data:r}=await X.from("items").select("status, current_custodian_id").eq("id",e).single();if(!r)throw new Error("Item not found");const n={status:t,updated_at:new Date().toISOString()};t==="Available"&&(n.current_custodian_id=null);const{error:s}=await X.from("items").update(n).eq("id",e);if(s)throw new Error(`Failed to update item status: ${s.message}`)},i4=async e=>{const{data:t,error:r}=await X.from("items").select(`
      *,
      item_categories(name),
      owner_department:departments!owner_department_id(
        name,
        colleges(name)
      )
    `).eq("current_custodian_id",e);if(r)throw new Error(r.message);return t||[]},rY=async(e,t,r)=>{console.log("getItemsByDepartment called with:",{departmentId:e,page:t,pageSize:r});const{data:n,error:s}=await X.from("items").select("id").eq("owner_department_id",e);if(console.log("Count query result:",{count:n==null?void 0:n.length,error:s}),s)throw console.error("Count query error:",s),new Error(s.message);const a=(n==null?void 0:n.length)||0,i=(t-1)*r,l=i+r-1;console.log("Fetching paginated data, range:",i,"-",l);const{data:c,error:u}=await X.from("items").select(`
      *,
      item_categories(name),
      owner_department:departments!owner_department_id(
        name,
        colleges(name)
      ),
      current_custodian:profiles!current_custodian_id(
        full_name
      ),
      return_requests(id, status)
    `).eq("owner_department_id",e).order("created_at",{ascending:!1}).range(i,l);if(console.log("Data query result:",{itemsCount:c==null?void 0:c.length,error:u}),u)throw console.error("Data query error:",u),new Error(u.message);return{data:c||[],count:a}};function nY(){var p,x;const{profile:e,user:t}=He(),r=Vt(),[n,s]=_.useState(1),[a,i]=_.useState(25),{data:l,isLoading:c,error:u}=Le({queryKey:["department-items",e==null?void 0:e.department_id,n,a],queryFn:async()=>{var v;if(console.log("=== Department Items Query ==="),console.log("Department ID:",e==null?void 0:e.department_id),console.log("Page:",n,"Size:",a),!(e!=null&&e.department_id))return console.log("No department ID found"),{items:[],count:0};try{const y=await rY(e.department_id,n,a);return console.log("Query result:",y),console.log("Items:",(v=y.data)==null?void 0:v.length,"Total count:",y.count),{items:y.data,count:y.count}}catch(y){throw console.error("Query error:",y),y}},enabled:!!(e!=null&&e.department_id)});console.log("Component state:",{isLoading:c,error:u,itemsCount:(p=l==null?void 0:l.items)==null?void 0:p.length,totalCount:l==null?void 0:l.count});const{data:d=[]}=Le({queryKey:["department-staff",e==null?void 0:e.department_id],queryFn:async()=>{const{data:v,error:y}=await X.from("profiles").select("id, full_name").eq("department_id",e==null?void 0:e.department_id).order("full_name");if(y)throw y;return v||[]},enabled:!!(e!=null&&e.department_id)}),f=nt({mutationFn:async({itemId:v,custodianId:y})=>{if(y)await tY(v,y);else{const{error:w}=await X.from("items").update({current_custodian_id:null,status:"Available"}).eq("id",v);if(w)throw w}},onSuccess:()=>{r.invalidateQueries({queryKey:["department-items"]})}}),h=v=>{switch(v){case"Available":return"default";case"Allocated":return"secondary";case"Under Maintenance":return"destructive";case"Damaged":return"outline";default:return"default"}},m=(l==null?void 0:l.count)??0,g=Math.ceil(m/a);return o.jsx(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Department Items",pageSubtitle:"View and manage department inventory",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(fn,{className:"h-5 w-5"}),"Department Inventory (",m," items)"]})}),o.jsx(Je,{children:c?o.jsx("p",{children:"Loading items..."}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Serial Number"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[(x=l==null?void 0:l.items)==null?void 0:x.map(v=>{var y,w;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 font-medium text-sm",children:v.name}),o.jsx("td",{className:"px-2 py-1 text-sm",children:((y=v.item_categories)==null?void 0:y.name)||"N/A"}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:h(v.status),className:"text-xs",children:v.status})}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs(dr,{value:v.current_custodian_id||"unassigned",onValueChange:S=>{const N=S==="unassigned"?null:S;f.mutate({itemId:v.id,custodianId:N})},children:[o.jsx(rr,{className:"w-32 h-7 text-xs",children:o.jsx(fr,{placeholder:((w=v.current_custodian)==null?void 0:w.full_name)||"Unassigned"})}),o.jsxs(nr,{children:[o.jsx(ut,{value:"unassigned",children:"Unassigned"}),d.map(S=>o.jsx(ut,{value:S.id,children:S.full_name},S.id))]})]})}),o.jsx("td",{className:"px-2 py-1 font-mono text-xs",children:v.serial_number})]},v.id)}),m===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-4 text-center text-muted-foreground",children:"No items found"})})]})]}),m>0&&o.jsx(qt,{currentPage:n,totalPages:g,pageSize:a,totalItems:m,onPageChange:s,onPageSizeChange:i})]})})]})})}function sY(){const{profile:e,user:t}=He(),{data:r=[],isLoading:n}=Le({queryKey:["department-request-count",e==null?void 0:e.department_id],queryFn:async()=>{const{data:m,error:g}=await X.from("item_requests").select(`
          *,
          requester:profiles!requester_id(full_name)
        `).eq("requester_department_id",e==null?void 0:e.department_id).order("created_at",{ascending:!1});if(g)throw g;return m||[]},enabled:!!(e!=null&&e.department_id),refetchInterval:3e4}),s=m=>{switch(m){case"pending_dept_head":return"destructive";case"pending_dean":return"secondary";case"pending_storekeeper":return"default";case"approved":return"default";case"rejected":return"outline";default:return"secondary"}},a=m=>{switch(m){case"critical":return"destructive";case"high":return"secondary";case"medium":return"default";case"low":return"outline";default:return"outline"}},{paginatedData:i,currentPage:l,pageSize:c,totalPages:u,totalItems:d,handlePageChange:f,handlePageSizeChange:h}=Kt(r,25);return o.jsx(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Item Requests",pageSubtitle:"View all department item requests",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Hd,{className:"h-5 w-5"}),"Department Requests (",Array.isArray(r)?r.length:0,")"]})}),o.jsx(Je,{children:n?o.jsx("p",{children:"Loading requests..."}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requester"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgency"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Array.isArray(i)&&i.map(m=>{var g,p;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 text-sm font-medium",children:((g=m.requester)==null?void 0:g.full_name)||"Unknown"}),o.jsx("td",{className:"px-2 py-1 text-sm",children:m.item_name}),o.jsx("td",{className:"px-2 py-1 text-sm",children:m.quantity}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:a(m.urgency),className:"text-xs",children:(p=m.urgency)==null?void 0:p.toUpperCase()})}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:s(m.status),className:"text-xs",children:m.status.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(m.created_at).toLocaleDateString()})]},m.id)}),(!Array.isArray(r)||r.length===0)&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-gray-500",children:"No requests found"})})]})]}),Array.isArray(r)&&r.length>0&&o.jsx(qt,{currentPage:l,totalPages:u,pageSize:c,totalItems:d,onPageChange:f,onPageSizeChange:h})]})})]})})}function aY(){const{profile:e,user:t}=He(),{data:r,isLoading:n}=Le({queryKey:["department-transfers",e==null?void 0:e.department_id],queryFn:async()=>{const{data:h,error:m}=await X.rpc("get_transfers_with_emails");if(m)throw m;return h||[]},enabled:!!(e!=null&&e.department_id),refetchInterval:3e4}),s=h=>{switch(h){case"pending_receiver_acceptance":return"secondary";case"pending_dept_head_approval":return"default";case"pending_dean_approval":return"default";case"pending_storekeeper_approval":return"default";case"approved":return"outline";case"rejected":return"destructive";case"cancelled":return"destructive";default:return"secondary"}},{paginatedData:a,currentPage:i,pageSize:l,totalPages:c,totalItems:u,handlePageChange:d,handlePageSizeChange:f}=Kt(r||[],25);return o.jsx(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Item Transfers",pageSubtitle:"Manage item transfers within department",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"h-5 w-5"}),"Transfer History (",(r==null?void 0:r.length)||0,")"]})}),o.jsx(Je,{children:n?o.jsx("p",{children:"Loading transfers..."}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.map(h=>{var m;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-2 py-1 font-medium text-sm",children:[h.item_name," (",h.asset_tag,")"]}),o.jsx("td",{className:"px-2 py-1 text-sm",children:h.initiator_email||"Unknown"}),o.jsx("td",{className:"px-2 py-1 text-sm",children:h.receiver_email||"Unknown"}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:s(h.status),className:"text-xs",children:(m=h.status)==null?void 0:m.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(h.created_at).toLocaleDateString()})]},h.id)}),a.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-4 text-center text-gray-500",children:"No transfers found"})})]})]}),r&&r.length>0&&o.jsx(qt,{currentPage:i,totalPages:c,pageSize:l,totalItems:u,onPageChange:d,onPageSizeChange:f})]})})]})})}function iY(){const{profile:e,user:t}=He();return o.jsx(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Department Reports",pageSubtitle:"Generate and export department reports",notificationCount:0,children:o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-5 w-5"}),"Inventory Report"]})}),o.jsxs(Je,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Export complete department inventory with current assignments and status."}),o.jsx(Js,{reportType:"inventory",filters:{departmentId:e==null?void 0:e.department_id}})]})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-5 w-5"}),"Requests Report"]})}),o.jsxs(Je,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Export all item requests from department staff with approval status."}),o.jsx(Js,{reportType:"requests",filters:{departmentId:e==null?void 0:e.department_id}})]})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-5 w-5"}),"Transfers Report"]})}),o.jsxs(Je,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Export item transfer history within the department."}),o.jsx(Js,{reportType:"transfers",filters:{departmentId:e==null?void 0:e.department_id}})]})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-5 w-5"}),"Audit Report"]})}),o.jsxs(Je,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Export audit trail of all department activities and changes."}),o.jsx(Js,{reportType:"audit",filters:{departmentId:e==null?void 0:e.department_id}})]})]})]})})}function oY(){const{profile:e,user:t}=He(),{toast:r}=sn(),n=Vt(),{data:s=[]}=Le({queryKey:["department-notifications",e==null?void 0:e.id],queryFn:async()=>{const{data:c,error:u}=await X.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(u)throw u;return c||[]},enabled:!!(e!=null&&e.id)}),a=nt({mutationFn:async c=>{const{error:u}=await X.from("notifications").update({is_read:!0}).eq("id",c);if(u)throw u},onSuccess:()=>{n.invalidateQueries({queryKey:["department-notifications"]})}}),i=nt({mutationFn:async c=>{const{error:u}=await X.from("notifications").delete().eq("id",c);if(u)throw u},onSuccess:()=>{n.invalidateQueries({queryKey:["department-notifications"]}),r({title:"Success",description:"Notification deleted"})}}),l=c=>{switch(c){case"request_approved":return o.jsx(fu,{className:"h-4 w-4 text-green-500"});case"request_rejected":return o.jsx(du,{className:"h-4 w-4 text-red-500"});case"request_pending":return o.jsx(vf,{className:"h-4 w-4 text-yellow-500"});default:return o.jsx(Es,{className:"h-4 w-4 text-blue-500"})}};return o.jsx(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Notifications",pageSubtitle:"View department notifications and alerts",notificationCount:0,children:o.jsxs("div",{className:"space-y-4",children:[s.map(c=>o.jsx("div",{className:`rounded-lg border p-4 ${c.is_read?"bg-card":"bg-blue-50 border-blue-200"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l(c.type),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-sm",children:c.title}),!c.is_read&&o.jsx(Rt,{variant:"secondary",className:"text-xs",children:"New"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:c.message}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(c.created_at).toLocaleString()})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!c.is_read&&o.jsx(we,{size:"sm",variant:"ghost",onClick:()=>a.mutate(c.id),children:o.jsx(jn,{className:"h-4 w-4"})}),o.jsx(we,{size:"sm",variant:"ghost",onClick:()=>i.mutate(c.id),children:o.jsx(hu,{className:"h-4 w-4"})})]})]})},c.id)),s.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Es,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No notifications"}),o.jsx("p",{className:"text-muted-foreground",children:"You'll see notifications about department activities here."})]})]})})}const lY=async e=>i4(e);function cY(){const{profile:e,user:t}=He(),r=Vt(),{toast:n}=sn(),[s,a]=_.useState(null),[i,l]=_.useState(!1),[c,u]=_.useState(""),{data:d=[],isLoading:f}=Le({queryKey:["department-head-items",e==null?void 0:e.id],queryFn:()=>lY((e==null?void 0:e.id)||""),enabled:!!(e!=null&&e.id),refetchInterval:3e4}),h=nt({mutationFn:async({itemId:T,newStatus:C})=>{await a4(T,C)},onSuccess:()=>{r.invalidateQueries({queryKey:["department-head-items"]}),n({title:"Success",description:"Item status updated"})},onError:()=>{n({title:"Error",description:"Failed to update status",variant:"destructive"})}}),m=nt({mutationFn:async({itemId:T,reason:C})=>{const{error:R}=await X.from("return_requests").insert({item_id:T,requester_id:e==null?void 0:e.id,reason:C});if(R)throw R},onSuccess:()=>{r.invalidateQueries({queryKey:["department-head-items"]}),n({title:"Success",description:"Return request submitted successfully"}),l(!1),a(null),u("")},onError:T=>{n({title:"Error",description:"Failed to submit return request",variant:"destructive"})}}),g=(T,C)=>{h.mutate({itemId:T,newStatus:C})},p=T=>{a(T),l(!0)},x=()=>{s&&c.trim()&&m.mutate({itemId:s.id,reason:c.trim()})},{paginatedData:v,currentPage:y,pageSize:w,totalPages:S,totalItems:N,handlePageChange:A,handlePageSizeChange:b}=Kt(d,25);return o.jsxs(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",pageTitle:"My Items",pageSubtitle:"Items currently assigned to you",children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{children:["My Assigned Items (",d.length,")"]})}),o.jsx(Je,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asset Tag"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Date"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[f?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-2 text-center text-gray-500",children:"Loading your items..."})}):v.map(T=>{var R,I;const C=(R=T.return_requests)==null?void 0:R.some(O=>O.status==="pending");return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1",children:o.jsx("span",{className:"font-mono text-xs bg-gray-100 px-1 py-0.5 rounded",children:T.asset_tag})}),o.jsx("td",{className:"px-2 py-1 font-medium text-gray-900 text-sm",children:T.name}),o.jsx("td",{className:"px-2 py-1 text-gray-900 text-sm",children:((I=T.item_categories)==null?void 0:I.name)||"N/A"}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs(dr,{value:T.status,onValueChange:O=>g(T.id,O),disabled:C,children:[o.jsx(rr,{className:"w-28 h-7 text-xs",children:o.jsx(fr,{})}),o.jsxs(nr,{children:[o.jsx(ut,{value:"Allocated",children:"Allocated"}),o.jsx(ut,{value:"In Use",children:"In Use"}),o.jsx(ut,{value:"Under Maintenance",children:"Under Maintenance"}),o.jsx(ut,{value:"Damaged",children:"Damaged"})]})]})}),o.jsx("td",{className:"px-2 py-1 text-gray-500 text-sm",children:T.created_at?new Date(T.created_at).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(we,{onClick:()=>p(T),disabled:C||m.isPending,size:"sm",variant:C?"secondary":"outline",className:"h-6 text-xs px-2",children:C?"Return Pending":"Request Return"})})]},T.id)}),!f&&d.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-gray-500",children:"No items assigned to you yet"})})]})]}),d.length>0&&o.jsx(qt,{currentPage:y,totalPages:S,pageSize:w,totalItems:N,onPageChange:A,onPageSizeChange:b})]})})]}),o.jsx(gn,{open:i,onOpenChange:l,children:o.jsxs(en,{children:[o.jsxs(tn,{children:[o.jsx(rn,{children:"Request Item Return"}),o.jsxs(ll,{children:["Submit a return request for ",s==null?void 0:s.name,". Please provide a reason for returning this item."]})]}),o.jsx("div",{className:"space-y-4 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Reason for Return"}),o.jsx(vo,{placeholder:"Please explain why you want to return this item...",value:c,onChange:T=>u(T.target.value),className:"min-h-[100px]"})]})}),o.jsxs(ds,{children:[o.jsx(we,{variant:"outline",onClick:()=>{l(!1),a(null),u("")},children:"Cancel"}),o.jsx(we,{onClick:x,disabled:!c.trim()||m.isPending,children:m.isPending?"Submitting...":"Submit Request"})]})]})})]})}function uY(){const{profile:e,user:t}=He(),r=Vt(),{toast:n}=sn(),{data:s=[],isLoading:a}=Le({queryKey:["department-transfer-approvals",e==null?void 0:e.department_id],queryFn:async()=>{const{data:c,error:u}=await X.from("item_transfers").select(`
          *,
          items(name, asset_tag),
          initiator:profiles!initiator_id(full_name, department_id),
          receiver:profiles!receiver_id(full_name, department_id)
        `).or("status.eq.pending_dept_head_approval,status.eq.pending_dean_approval").order("created_at",{ascending:!1});if(u)throw u;return(c||[]).filter(d=>{var f;return((f=d.receiver)==null?void 0:f.department_id)===(e==null?void 0:e.department_id)})},enabled:!!(e!=null&&e.department_id),refetchInterval:3e4}),i=nt({mutationFn:async c=>{const{data:u}=await X.from("item_transfers").select("status, receiver:profiles!receiver_id(department_id, departments(college_id))").eq("id",c).single();let d="pending_storekeeper_approval";(u==null?void 0:u.status)==="pending_dept_head_approval"&&(d="pending_dean_approval");const{error:f}=await X.from("item_transfers").update({status:d,approved_by_id:e==null?void 0:e.id,approved_at:new Date().toISOString()}).eq("id",c);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["department-transfer-approvals"]}),r.invalidateQueries({queryKey:["dean-transfer-approvals"]}),n({title:"Success",description:"Transfer approved successfully"})},onError:c=>{n({title:"Error",description:"Failed to approve transfer",variant:"destructive"})}}),l=nt({mutationFn:async({transferId:c,reason:u})=>{const{error:d}=await X.from("item_transfers").update({status:"rejected",rejection_reason:u,rejected_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",c);if(d)throw d},onSuccess:()=>{r.invalidateQueries({queryKey:["department-transfer-approvals"]}),n({title:"Success",description:"Transfer rejected"})},onError:c=>{n({title:"Error",description:"Failed to reject transfer",variant:"destructive"})}});return o.jsx(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Transfer Approvals",pageSubtitle:"Approve cross-department and cross-college transfers",notificationCount:s.length,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"h-5 w-5"}),"Pending Transfer Approvals (",s.length,")"]})}),o.jsx(Je,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-2 py-4 text-center text-gray-500",children:"Loading pending transfers..."})}):s.map(c=>{var u,d,f,h,m;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-2 py-1",children:[o.jsx("div",{className:"font-medium text-sm",children:(u=c.items)==null?void 0:u.name}),o.jsx("div",{className:"text-xs text-gray-500",children:(d=c.items)==null?void 0:d.asset_tag})]}),o.jsxs("td",{className:"px-2 py-1",children:[o.jsx("div",{className:"font-medium text-sm",children:(f=c.initiator)==null?void 0:f.full_name}),o.jsx("div",{className:"text-xs text-gray-500",children:"Initiator"})]}),o.jsxs("td",{className:"px-2 py-1",children:[o.jsx("div",{className:"font-medium text-sm",children:(h=c.receiver)==null?void 0:h.full_name}),o.jsx("div",{className:"text-xs text-gray-500",children:"Receiver"})]}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:"outline",className:"text-xs",children:(m=c.transfer_type)==null?void 0:m.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-2 py-1 max-w-xs",children:o.jsx("div",{className:"text-sm truncate",children:"No reason provided"})}),o.jsx("td",{className:"px-2 py-1 text-sm text-gray-500",children:new Date(c.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(we,{size:"sm",onClick:()=>i.mutate(c.id),disabled:i.isPending,className:"h-6 w-6 p-0",children:o.jsx(fu,{className:"h-3 w-3"})}),o.jsx(we,{size:"sm",variant:"destructive",onClick:()=>l.mutate({transferId:c.id,reason:"Rejected by department head"}),disabled:l.isPending,className:"h-6 w-6 p-0",children:o.jsx(O6,{className:"h-3 w-3"})})]})})]},c.id)}),!a&&s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-2 py-4 text-center text-gray-500",children:"No pending transfer approvals"})})]})]})})})]})})}const dY=wl({item_id:pr().uuid("Please select an item"),college_id:pr().min(1,"Please select a college"),department_id:pr().min(1,"Please select a department"),receiver_id:pr().uuid("Please select a receiver"),reason:pr().optional()}),fY=async e=>{const{data:t,error:r}=await X.from("items").select("id, name, asset_tag").eq("current_custodian_id",e);if(r)throw new Error(r.message);return t},hY=async()=>{const{data:e,error:t}=await X.from("colleges").select("id, name").order("name");if(t)throw new Error(t.message);return e},mY=async e=>{const{data:t,error:r}=await X.from("departments").select("id, name, college_id").eq("college_id",e).order("name");if(r)throw new Error(r.message);return t},pY=async e=>{const{data:t,error:r}=await X.from("profiles").select("id, full_name, department_id").eq("department_id",e).in("role",["staff","department_head"]).order("full_name");if(r)throw new Error(r.message);return t};function o4(){const[e,t]=_.useState(!1),{profile:r}=He(),n=Vt(),s=ti({resolver:ni(dY),defaultValues:{item_id:"",college_id:"",department_id:"",receiver_id:"",reason:""}}),{data:a}=Le({queryKey:["my-items",r==null?void 0:r.id],queryFn:()=>fY((r==null?void 0:r.id)||""),enabled:!!(r!=null&&r.id)}),i=s.watch("college_id"),l=s.watch("department_id"),{data:c}=Le({queryKey:["colleges"],queryFn:hY}),{data:u}=Le({queryKey:["departments",i],queryFn:()=>mY(i),enabled:!!i}),{data:d}=Le({queryKey:["staff-members",l],queryFn:()=>pY(l),enabled:!!l}),f=nt({mutationFn:async m=>{console.log("Submitting transfer with values:",m);const{college_id:g,department_id:p,...x}=m,{data:v,error:y}=await X.from("item_transfers").insert([{item_id:x.item_id,initiator_id:r==null?void 0:r.id,receiver_id:x.receiver_id,status:"pending_storekeeper"}]).select();if(y)throw console.error("Transfer submission error:",y),y.code==="42P01"?new Error("Transfer system is not yet configured. Please contact administrator."):new Error(y.message);return console.log("Transfer created successfully:",v),v},onSuccess:()=>{n.invalidateQueries({queryKey:["my-transfers"]}),Qt({title:"Transfer Request Submitted",description:"The storekeeper will review your transfer request."}),t(!1),s.reset()},onError:m=>{Qt({title:"Error",description:m.message,variant:"destructive"})}}),h=m=>{f.mutate(m)};return o.jsxs(gn,{open:e,onOpenChange:t,children:[o.jsx(Lm,{asChild:!0,children:o.jsxs(we,{variant:"outline",className:"gap-2",children:[o.jsx(Xt,{className:"h-4 w-4"}),"Transfer Item"]})}),o.jsxs(en,{className:"sm:max-w-[500px] max-h-[90vh] flex flex-col",children:[o.jsx(tn,{children:o.jsx(rn,{children:"Transfer Item"})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:o.jsx(ri,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(h),className:"space-y-4",children:[o.jsx(kt,{control:s.control,name:"item_id",render:({field:m})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Select Item to Transfer"}),o.jsxs(dr,{onValueChange:m.onChange,defaultValue:m.value,children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:"Choose an item from your custody"})})}),o.jsx(nr,{children:a==null?void 0:a.map(g=>o.jsxs(ut,{value:g.id,children:[g.name," (",g.asset_tag,")"]},g.id))})]}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:s.control,name:"college_id",render:({field:m})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Select College"}),o.jsxs(dr,{onValueChange:g=>{m.onChange(g),s.setValue("department_id",""),s.setValue("receiver_id","")},defaultValue:m.value,children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:"Choose a college"})})}),o.jsx(nr,{children:c==null?void 0:c.map(g=>o.jsx(ut,{value:g.id,children:g.name},g.id))})]}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:s.control,name:"department_id",render:({field:m})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Select Department"}),o.jsxs(dr,{onValueChange:g=>{m.onChange(g),s.setValue("receiver_id","")},defaultValue:m.value,disabled:!i,children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:i?"Choose a department":"Select college first"})})}),o.jsx(nr,{children:u==null?void 0:u.map(g=>o.jsx(ut,{value:g.id,children:g.name},g.id))})]}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:s.control,name:"receiver_id",render:({field:m})=>{var g;return o.jsxs(bt,{children:[o.jsx(Et,{children:"Select Staff Member"}),o.jsxs(dr,{onValueChange:m.onChange,defaultValue:m.value,disabled:!l,children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:l?"Select staff member":"Select department first"})})}),o.jsx(nr,{className:"max-h-60",children:(g=d==null?void 0:d.filter(p=>p.id!==(r==null?void 0:r.id)))==null?void 0:g.map(p=>o.jsx(ut,{value:p.id,children:p.full_name},p.id))})]}),o.jsx(Ct,{})]})}}),o.jsx(kt,{control:s.control,name:"reason",render:({field:m})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Reason for Transfer (Optional)"}),o.jsx(Tt,{children:o.jsx(vo,{placeholder:"Explain why this item needs to be transferred...",className:"resize-none",...m})}),o.jsx(Ct,{})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(we,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.jsx(we,{type:"submit",disabled:f.isPending,children:f.isPending?"Submitting...":"Submit Transfer"})]})]})})})]})]})}function gY(){var r;const{profile:e,user:t}=He();return o.jsx(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",departmentName:(r=e==null?void 0:e.departments)==null?void 0:r.name,pageTitle:"Transfer Item",pageSubtitle:"Request to transfer items to other staff members",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"h-5 w-5"}),"Item Transfer Request"]})}),o.jsx(Je,{children:o.jsx(o4,{})})]})})}function xY(){var d;const{profile:e,user:t}=He(),{data:r=[]}=Le({queryKey:["department-pending-approvals",e==null?void 0:e.department_id],queryFn:async()=>{console.log("Dashboard - Checking pending approvals for department:",e==null?void 0:e.department_id);const{data:f,error:h}=await X.from("item_requests").select(`
          *,
          requester:profiles!requester_id(full_name, department_id)
        `).eq("status","pending_dept_head").eq("requester_department_id",e==null?void 0:e.department_id).order("created_at",{ascending:!1});if(h)throw console.error("Error fetching requests:",h),h;return console.log("Department requests needing approval:",(f==null?void 0:f.length)||0),f||[]},enabled:!!(e!=null&&e.department_id),refetchInterval:1e4}),n=Array.isArray(r)?r.length:0,{data:s=0}=Le({queryKey:["department-staff-count",e==null?void 0:e.department_id],queryFn:async()=>{const{count:f}=await X.from("profiles").select("*",{count:"exact",head:!0}).eq("department_id",e==null?void 0:e.department_id);return Number(f)||0},enabled:!!(e!=null&&e.department_id)}),a=typeof s=="number"?s:0,{data:i=0}=Le({queryKey:["department-item-count",e==null?void 0:e.department_id],queryFn:async()=>{const{count:f}=await X.from("items").select("*",{count:"exact",head:!0}).eq("owner_department_id",e==null?void 0:e.department_id);return Number(f)||0},enabled:!!(e!=null&&e.department_id)}),l=typeof i=="number"?i:0,{data:c=0}=Le({queryKey:["department-request-count",e==null?void 0:e.department_id],queryFn:async()=>{const{data:f}=await X.from("item_requests").select("id").eq("requester_department_id",e==null?void 0:e.department_id);return Number(f==null?void 0:f.length)||0},enabled:!!(e!=null&&e.department_id)}),u=typeof c=="number"?c:0;return o.jsx(st,{role:"department_head",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Department Head",userEmail:(t==null?void 0:t.email)||"",departmentName:(d=e==null?void 0:e.departments)==null?void 0:d.name,pageTitle:"Department Management",pageSubtitle:"Manage department staff, items, and approval workflows",notificationCount:n,children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Tr,{title:"Pending Approvals",value:n,subtitle:"Awaiting your review",icon:Hd,variant:"primary"}),o.jsx(Tr,{title:"Department Staff",value:a,subtitle:"Active members",icon:il,variant:"info"}),o.jsx(Tr,{title:"Department Items",value:l,subtitle:"Total inventory",icon:fn,variant:"success"}),o.jsx(Tr,{title:"Total Requests",value:u,subtitle:"All time",icon:Xt,variant:"default"})]})})})}function vY(){return o.jsxs(cu,{children:[o.jsx($e,{index:!0,element:o.jsx(xY,{})}),o.jsx($e,{path:"my-items",element:o.jsx(cY,{})}),o.jsx($e,{path:"approvals",element:o.jsx(JX,{})}),o.jsx($e,{path:"transfer-approvals",element:o.jsx(uY,{})}),o.jsx($e,{path:"staff",element:o.jsx(ZX,{})}),o.jsx($e,{path:"items",element:o.jsx(nY,{})}),o.jsx($e,{path:"requests",element:o.jsx(sY,{})}),o.jsx($e,{path:"transfer",element:o.jsx(gY,{})}),o.jsx($e,{path:"incoming-transfers",element:o.jsx(B1,{})}),o.jsx($e,{path:"transfers",element:o.jsx(aY,{})}),o.jsx($e,{path:"reports",element:o.jsx(iY,{})}),o.jsx($e,{path:"notifications",element:o.jsx(oY,{})})]})}const yY={available:{label:"Available",className:"bg-status-available/15 text-status-available border-status-available/30"},allocated:{label:"Allocated",className:"bg-status-allocated/15 text-status-allocated border-status-allocated/30"},under_maintenance:{label:"Under Maintenance",className:"bg-status-maintenance/15 text-status-maintenance border-status-maintenance/30"},damaged:{label:"Damaged",className:"bg-status-damaged/15 text-status-damaged border-status-damaged/30"}},wY={pending:{label:"Pending",className:"bg-stage-pending/15 text-stage-pending border-stage-pending/30"},approved:{label:"Approved",className:"bg-stage-approved/15 text-stage-approved border-stage-approved/30"},rejected:{label:"Rejected",className:"bg-stage-rejected/15 text-stage-rejected border-stage-rejected/30"}},_Y={admin:{label:"System Admin",className:"bg-role-admin/15 text-role-admin border-role-admin/30"},college_dean:{label:"College Dean",className:"bg-role-dean/15 text-role-dean border-role-dean/30"},department_head:{label:"Department Head",className:"bg-role-department/15 text-role-department border-role-department/30"},storekeeper:{label:"Storekeeper",className:"bg-role-storekeeper/15 text-role-storekeeper border-role-storekeeper/30"},staff:{label:"Staff",className:"bg-role-staff/15 text-role-staff border-role-staff/30"}},SY={low:{label:"Low",className:"bg-muted text-muted-foreground border-border"},medium:{label:"Medium",className:"bg-info/15 text-info border-info/30"},high:{label:"High",className:"bg-warning/15 text-warning border-warning/30"},critical:{label:"Critical",className:"bg-destructive/15 text-destructive border-destructive/30"}};function $1({status:e,variant:t="item",size:r="sm",className:n}){let s;switch(t){case"item":s=yY[e]||{label:e,className:"bg-muted text-muted-foreground"};break;case"approval":s=wY[e]||{label:e,className:"bg-muted text-muted-foreground"};break;case"role":s=_Y[e]||{label:e,className:"bg-muted text-muted-foreground"};break;case"urgency":s=SY[e]||{label:e,className:"bg-muted text-muted-foreground"};break;default:s={label:e,className:"bg-muted text-muted-foreground"}}return o.jsx("span",{className:Fe("inline-flex items-center font-medium border rounded-full",r==="sm"?"px-2 py-0.5 text-xs":"px-3 py-1 text-sm",s.className,n),children:s.label})}function q1({isOpen:e,onClose:t,onSuccess:r}){const{toast:n}=sn(),[s,a]=_.useState(!1),[i,l]=_.useState({name:"",description:"",serial_number:"",asset_tag:"",purchase_cost:"",owner_department_id:""}),c=async u=>{u.preventDefault(),a(!0);try{const{error:d}=await ia.supabase.from("items").insert([{...i,purchase_cost:i.purchase_cost?parseFloat(i.purchase_cost):null,status:"Available",owner_department_id:null}]);if(d)throw d;console.log("Item added successfully"),l({name:"",description:"",serial_number:"",asset_tag:"",purchase_cost:"",owner_department_id:""}),r()}catch(d){console.error("Error adding item:",d);let f="An error occurred while adding the item.";d.message?d.message.includes("duplicate")||d.message.includes("unique")?f="Asset tag or serial number already exists. Please use a unique value.":f=d.message:d.code==="23505"&&(f="Asset tag or serial number already exists. Please use a unique value."),n({title:"Failed to Add Item",description:f,variant:"destructive"})}finally{a(!1)}};return o.jsx(gn,{open:e,onOpenChange:t,children:o.jsxs(en,{className:"sm:max-w-[425px] max-h-[90vh] flex flex-col",children:[o.jsx(tn,{children:o.jsx(rn,{children:"Add New Item"})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:o.jsxs("form",{id:"add-item-form",onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(br,{htmlFor:"name",children:"Item Name"}),o.jsx(xt,{id:"name",value:i.name,onChange:u=>l({...i,name:u.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(br,{htmlFor:"asset_tag",children:"Inventory Tag"}),o.jsx(xt,{id:"asset_tag",value:i.asset_tag,onChange:u=>l({...i,asset_tag:u.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(br,{htmlFor:"serial_number",children:"Serial Number"}),o.jsx(xt,{id:"serial_number",value:i.serial_number,onChange:u=>l({...i,serial_number:u.target.value})})]}),o.jsxs("div",{children:[o.jsx(br,{htmlFor:"description",children:"Description"}),o.jsx(vo,{id:"description",value:i.description,onChange:u=>l({...i,description:u.target.value})})]}),o.jsxs("div",{children:[o.jsx(br,{htmlFor:"purchase_cost",children:"Purchase Cost"}),o.jsx(xt,{id:"purchase_cost",type:"number",step:"0.01",value:i.purchase_cost,onChange:u=>l({...i,purchase_cost:u.target.value})})]})]})}),o.jsxs(ds,{children:[o.jsx(we,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),o.jsx(we,{type:"submit",form:"add-item-form",disabled:s,children:s?"Adding...":"Add Item"})]})]})})}function l4({isOpen:e,onClose:t,onSuccess:r,item:n}){const[s,a]=_.useState(!1),[i,l]=_.useState({name:"",description:"",serial_number:"",asset_tag:"",purchase_cost:"",status:"Available"});_.useEffect(()=>{var u;n&&l({name:n.name||"",description:n.description||"",serial_number:n.serial_number||"",asset_tag:n.asset_tag||"",purchase_cost:((u=n.purchase_cost)==null?void 0:u.toString())||"",status:n.status||"Available"})},[n]);const c=async u=>{u.preventDefault(),a(!0);try{const{error:d}=await ia.supabase.from("items").update({...i,purchase_cost:i.purchase_cost?parseFloat(i.purchase_cost):null}).eq("id",n.id);if(d)throw d;console.log("Item updated successfully"),r(),t()}catch(d){console.error("Error updating item:",d.message)}finally{a(!1)}};return o.jsx(gn,{open:e,onOpenChange:t,children:o.jsxs(en,{className:"sm:max-w-[425px] max-h-[90vh] flex flex-col",children:[o.jsx(tn,{children:o.jsx(rn,{children:"Edit Item"})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:o.jsxs("form",{id:"edit-item-form",onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(br,{htmlFor:"name",children:"Item Name"}),o.jsx(xt,{id:"name",value:i.name,onChange:u=>l({...i,name:u.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(br,{htmlFor:"asset_tag",children:"Inventory Tag"}),o.jsx(xt,{id:"asset_tag",value:i.asset_tag,onChange:u=>l({...i,asset_tag:u.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(br,{htmlFor:"serial_number",children:"Serial Number"}),o.jsx(xt,{id:"serial_number",value:i.serial_number,onChange:u=>l({...i,serial_number:u.target.value})})]}),o.jsxs("div",{children:[o.jsx(br,{htmlFor:"description",children:"Description"}),o.jsx(vo,{id:"description",value:i.description,onChange:u=>l({...i,description:u.target.value})})]}),o.jsxs("div",{children:[o.jsx(br,{htmlFor:"purchase_cost",children:"Purchase Cost"}),o.jsx(xt,{id:"purchase_cost",type:"number",step:"0.01",value:i.purchase_cost,onChange:u=>l({...i,purchase_cost:u.target.value})})]})]})}),o.jsxs(ds,{children:[o.jsx(we,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),o.jsx(we,{type:"submit",form:"edit-item-form",disabled:s,children:s?"Updating...":"Update Item"})]})]})})}function bY(){const{profile:e,user:t}=He(),{toast:r}=sn(),[n,s]=_.useState(""),[a,i]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[f,h]=_.useState(null),[m,g]=_.useState(null),[p,x]=_.useState(""),[v,y]=_.useState(""),[w,S]=_.useState(""),N=Vt(),{data:A=[],isLoading:b}=Le({queryKey:["inventory-items"],queryFn:eY}),{data:T=[]}=Le({queryKey:["colleges"],queryFn:async()=>{const{data:W,error:ce}=await X.from("colleges").select("*");if(ce)throw ce;return W||[]},enabled:u}),{data:C=[]}=Le({queryKey:["departments"],queryFn:async()=>{const{data:W,error:ce}=await X.from("departments").select("*");if(ce)throw ce;return W||[]},enabled:u}),{data:R=[]}=Le({queryKey:["staff-members",w],queryFn:async()=>{if(!w)return[];const{data:W,error:ce}=await X.from("profiles").select("id, full_name").eq("department_id",w).in("role",["staff","department_head"]);if(ce)throw ce;return W||[]},enabled:!!w&&u}),I=nt({mutationFn:async W=>{const{error:ce}=await X.from("items").delete().eq("id",W);if(ce)throw ce},onSuccess:()=>{N.invalidateQueries({queryKey:["inventory-items"]}),r({title:"Success",description:"Item deleted successfully"})},onError:W=>{console.error("Error deleting item:",W),r({title:"Error",description:"Failed to delete item",variant:"destructive"})}}),O=nt({mutationFn:async({itemId:W,newStatus:ce})=>{await K(W,ce)},onSuccess:()=>{N.invalidateQueries({queryKey:["inventory-items"]}),r({title:"Success",description:"Item status updated"})},onError:()=>{r({title:"Error",description:"Failed to update status",variant:"destructive"})}}),K=(W,ce)=>{O.mutate({itemId:W,newStatus:ce})},te=nt({mutationFn:async()=>{if(!m||!w||!v)return;const{error:W}=await X.from("items").update({status:"Allocated",current_custodian_id:v,owner_department_id:w,updated_at:new Date().toISOString()}).eq("id",m.id);if(W)throw W},onSuccess:()=>{N.invalidateQueries({queryKey:["inventory-items"]}),r({title:"Success",description:"Item allocated successfully"}),d(!1),g(null),x(""),S(""),y("")},onError:W=>{r({title:"Error",description:W.message,variant:"destructive"})}}),le=W=>{confirm(`Are you sure you want to delete "${W.name}"?`)&&I.mutate(W.id)},ue=W=>{h(W),c(!0)},he=W=>{g(W),d(!0)},L=A.filter(W=>{var ce,de,ie;return((ce=W.name)==null?void 0:ce.toLowerCase().includes(n.toLowerCase()))||((de=W.asset_tag)==null?void 0:de.toLowerCase().includes(n.toLowerCase()))||((ie=W.serial_number)==null?void 0:ie.toLowerCase().includes(n.toLowerCase()))}),{paginatedData:U,currentPage:ne,pageSize:be,totalPages:j,totalItems:H,handlePageChange:B,handlePageSizeChange:z}=Kt(L,25),ee=C.filter(W=>W.college_id===p);return o.jsxs(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Inventory Management",pageSubtitle:"Manage all university items and inventory",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(xt,{placeholder:"Search items by name, asset tag, or serial number...",value:n,onChange:W=>s(W.target.value),className:"pl-10"})]})}),o.jsxs("div",{className:"bg-white rounded-lg border",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Details"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asset Tag"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner Department"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Custodian"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(W=>{var ce,de,ie;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-2 py-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.name}),W.serial_number&&o.jsxs("div",{className:"text-xs text-gray-500",children:["SN: ",W.serial_number]})]}),o.jsx("td",{className:"px-2 py-1",children:o.jsx("span",{className:"text-xs font-mono text-gray-900",children:W.asset_tag})}),o.jsx("td",{className:"px-2 py-1",children:o.jsx("span",{className:"text-sm text-gray-900",children:((ce=W.owner_department)==null?void 0:ce.name)==="Store Department"?"Store":((de=W.owner_department)==null?void 0:de.name)||"Store"})}),o.jsx("td",{className:"px-2 py-1",children:o.jsx("span",{className:"text-sm text-gray-900",children:((ie=W.current_custodian)==null?void 0:ie.full_name)||"None"})}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs(dr,{value:W.status,onValueChange:Ie=>{Ie==="Allocated"?he(W):K(W.id,Ie)},children:[o.jsx(rr,{className:"w-28 h-7 text-xs",children:o.jsx(fr,{})}),o.jsxs(nr,{children:[o.jsx(ut,{value:"Available",children:"Available"}),o.jsx(ut,{value:"Allocated",children:"Allocated"}),o.jsx(ut,{value:"Under Maintenance",children:"Under Maintenance"}),o.jsx(ut,{value:"Damaged",children:"Damaged"})]})]})}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs("span",{className:"text-sm text-gray-900",children:["$",W.purchase_cost||0]})}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(we,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>ue(W),children:o.jsx(wf,{className:"h-3 w-3"})}),o.jsx(we,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>he(W),title:"Allocate",children:o.jsx(B6,{className:"h-3 w-3"})}),o.jsx(we,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>le(W),disabled:I.isPending,children:o.jsx(hu,{className:"h-3 w-3"})})]})})]},W.id)})})]})}),L.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:n?"No items found matching your search.":"No items registered yet."}),L.length>0&&o.jsx(qt,{currentPage:ne,totalPages:j,pageSize:be,totalItems:H,onPageChange:B,onPageSizeChange:z})]})]}),a&&o.jsx(q1,{isOpen:a,onClose:()=>i(!1),onSuccess:()=>{N.invalidateQueries({queryKey:["inventory-items"]}),i(!1),r({title:"Success",description:"Item added successfully"})}}),l&&o.jsx(l4,{isOpen:l,onClose:()=>{c(!1),h(null)},onSuccess:()=>{N.invalidateQueries({queryKey:["inventory-items"]}),c(!1),h(null),r({title:"Success",description:"Item updated successfully"})},item:f}),o.jsx(gn,{open:u,onOpenChange:d,children:o.jsxs(en,{children:[o.jsxs(tn,{children:[o.jsx(rn,{children:"Allocate Item"}),o.jsxs(ll,{children:["Assign ",m==null?void 0:m.name," to a college department."]})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"College"}),o.jsxs(dr,{value:p,onValueChange:x,children:[o.jsx(rr,{children:o.jsx(fr,{placeholder:"Select College"})}),o.jsx(nr,{children:T.map(W=>o.jsx(ut,{value:W.id,children:W.name},W.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Department"}),o.jsxs(dr,{value:w,onValueChange:S,disabled:!p,children:[o.jsx(rr,{children:o.jsx(fr,{placeholder:"Select Department"})}),o.jsx(nr,{children:ee.map(W=>o.jsx(ut,{value:W.id,children:W.name},W.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Staff Member"}),o.jsxs(dr,{value:v,onValueChange:y,disabled:!w,children:[o.jsx(rr,{children:o.jsx(fr,{placeholder:"Select Staff Member"})}),o.jsx(nr,{children:R.map(W=>o.jsx(ut,{value:W.id,children:W.full_name},W.id))})]})]})]}),o.jsxs(ds,{children:[o.jsx(we,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),o.jsx(we,{onClick:()=>te.mutate(),disabled:!v||te.isPending,children:te.isPending?"Allocating...":"Allocate"})]})]})})]})}function EY(e){const r=new Date().getTime()-new Date(e).getTime(),n=Math.floor(r/(1e3*60*60)),s=Math.floor(n/24);return n<1?"Just now":n<24?`${n}h ago`:s<7?`${s}d ago`:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}function TY({items:e,onApprove:t,onReject:r,onView:n,className:s}){return e.length===0?o.jsxs("div",{className:Fe("rounded-lg border border-border bg-card p-8 text-center",s),children:[o.jsx("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:o.jsx(vf,{className:"h-6 w-6 text-muted-foreground"})}),o.jsx("p",{className:"text-sm font-medium text-foreground",children:"No pending approvals"}),o.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"All requests have been processed"})]}):o.jsx("div",{className:Fe("rounded-lg border border-border bg-card overflow-hidden",s),children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requester"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Justification"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgency"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-2 py-1",children:[o.jsx("div",{className:"text-sm font-medium",children:a.requesterName}),o.jsx("div",{className:"text-xs text-gray-500",children:a.requesterDepartment})]}),o.jsx("td",{className:"px-2 py-1 text-sm font-medium",children:a.itemName||"New Request"}),o.jsx("td",{className:"px-2 py-1 text-xs max-w-32 truncate",title:a.justification,children:a.justification}),o.jsx("td",{className:"px-2 py-1",children:o.jsx($1,{status:a.urgency,variant:"urgency"})}),o.jsx("td",{className:"px-2 py-1 text-xs",children:EY(a.submittedAt)}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(we,{variant:"ghost",size:"sm",onClick:()=>n(a.id),className:"h-6 w-6 p-0",children:o.jsx(jm,{className:"h-3 w-3"})}),o.jsx(we,{variant:"ghost",size:"sm",onClick:()=>t(a.id),className:"h-6 w-6 p-0 text-success hover:text-success hover:bg-success/10",children:o.jsx(jn,{className:"h-3 w-3"})}),o.jsx(we,{variant:"ghost",size:"sm",onClick:()=>r(a.id),className:"h-6 w-6 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",children:o.jsx(ro,{className:"h-3 w-3"})})]})})]},a.id))})]})})})}const CY=async()=>{const{data:e,error:t}=await X.from("item_requests").select(`
      id,
      item_name,
      quantity,
      urgency,
      created_at,
      justification,
      requester_id,
      requester_department_id,
      profiles!requester_id(full_name),
      departments(name, colleges(name))
    `).eq("status","pending_storekeeper").order("created_at",{ascending:!0});if(t)throw new Error(t.message);return(e==null?void 0:e.map(r=>{var n,s;return{id:r.id,type:"request",requesterName:((n=r.profiles)==null?void 0:n.full_name)||"Unknown",requesterId:r.requester_id,requesterDepartment:((s=r.departments)==null?void 0:s.name)||"Unknown",requesterDepartmentId:r.requester_department_id,itemName:r.item_name,quantity:r.quantity,justification:r.justification||"",urgency:r.urgency,submittedAt:new Date(r.created_at),previousApprovals:[{role:"dept_head",status:"approved"},{role:"dean",status:"approved"},{role:"storekeeper",status:"pending"}]}}))||[]};function NY(){var I;const{profile:e,user:t}=He(),{toast:r}=sn(),[n,s]=_.useState(null),[a,i]=_.useState(!1),[l,c]=_.useState(null),[u,d]=_.useState(!1),[f,h]=_.useState(!1),[m,g]=_.useState(null),[p,x]=_.useState([]),[v,y]=_.useState(""),w=Vt(),{data:S=[]}=Le({queryKey:["pending-allocations"],queryFn:CY}),{data:N=[]}=Le({queryKey:["available-items"],queryFn:async()=>{const{data:O,error:K}=await X.from("items").select("*").eq("status","Available");if(K)throw K;return O||[]},enabled:f}),A=nt({mutationFn:async()=>{if(!m||p.length===0)return;const O=m.quantity||1,K=m.itemName.includes("Transfer Request - Item ID:");if(K){const le=m.itemName.match(/Item ID: ([a-f0-9-]+)/),ue=le?le[1]:null;if(ue){const{error:he}=await X.from("items").update({current_custodian_id:m.requesterId,owner_department_id:m.requesterDepartmentId,status:"Allocated",updated_at:new Date().toISOString()}).eq("id",ue);if(he)throw he}}else{if(p.length!==O)throw new Error(`Please select exactly ${O} item(s). Currently selected: ${p.length}`);for(const le of p){const{error:ue}=await X.from("items").update({status:"Allocated",current_custodian_id:m.requesterId,owner_department_id:m.requesterDepartmentId,updated_at:new Date().toISOString()}).eq("id",le);if(ue)throw ue}}const{error:te}=await X.from("item_requests").update({status:"approved",allocated_item_id:K?null:p[0],storekeeper_allocator_id:e==null?void 0:e.id,updated_at:new Date().toISOString()}).eq("id",m.id);if(te)throw te},onSuccess:()=>{r({title:"Success",description:`${p.length} item(s) allocated successfully`}),h(!1),g(null),x([]),w.invalidateQueries({queryKey:["pending-allocations"]}),w.invalidateQueries({queryKey:["available-items"]}),w.invalidateQueries({queryKey:["items-registry"]})},onError:O=>{console.error("Allocation error:",O),r({title:"Allocation Failed",description:O.message||"Failed to allocate item. Please try again.",variant:"destructive"})}}),b=N.filter(O=>O.name.toLowerCase().includes(v.toLowerCase())||O.asset_tag.toLowerCase().includes(v.toLowerCase())),T=O=>{const K=S.find(te=>te.id===O);if(K){if(g(K),x([]),K.itemName.includes("Transfer Request - Item ID:")){const le=K.itemName.match(/Item ID: ([a-f0-9-]+)/);le&&x([le[1]])}else y(K.itemName);h(!0)}},C=O=>{s(O),i(!0)},R=O=>{const K=S.find(te=>te.id===O);K&&(c(K),d(!0))};return o.jsxs(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Pending Allocations",pageSubtitle:"Review and process item allocation requests",children:[o.jsx(TY,{items:S,onApprove:T,onReject:C,onView:R}),o.jsx(gn,{open:u,onOpenChange:d,children:o.jsxs(en,{className:"sm:max-w-[500px]",children:[o.jsxs(tn,{children:[o.jsx(rn,{children:"Request Details"}),o.jsx(ll,{children:"Review the full details of this allocation request."})]}),l&&o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:l.itemName}),o.jsx(Rt,{variant:l.urgency==="critical"?"destructive":"secondary",children:l.urgency.toUpperCase()})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx($y,{className:"h-4 w-4"}),o.jsx("span",{children:l.requesterName})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(b0,{className:"h-4 w-4"}),o.jsx("span",{children:l.requesterDepartment})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(Nm,{className:"h-4 w-4"}),o.jsx("span",{children:l.submittedAt.toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(du,{className:"h-4 w-4"}),o.jsx("span",{children:"Status: Pending Storekeeper"})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-md space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 font-medium text-gray-900",children:[o.jsx(E0,{className:"h-4 w-4"}),"Justification"]}),o.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:l.justification||"No justification provided."})]}),o.jsxs("div",{className:"pt-4 flex justify-end gap-2",children:[o.jsx(Rt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Dept. Head Approved"}),o.jsx(Rt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Dean Approved"})]})]})]})}),o.jsx(gn,{open:f,onOpenChange:h,children:o.jsxs(en,{className:"sm:max-w-[600px]",children:[o.jsxs(tn,{children:[o.jsx(rn,{children:"Allocate Item"}),o.jsx(ll,{children:"Select an available item from inventory to allocate for this request."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[m&&o.jsx("div",{className:"p-3 bg-gray-50 border rounded-lg",children:o.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Requested: ",o.jsx("span",{className:"text-lg font-bold text-blue-600",children:m.quantity||1})," item(s)",p.length>0&&o.jsxs("span",{className:"ml-2 text-sm",children:["| Selected: ",o.jsx("span",{className:"font-bold text-green-600",children:p.length})]})]})}),m!=null&&m.itemName.includes("Transfer Request - Item ID:")?o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Transfer Request"}),o.jsx("p",{className:"text-sm text-blue-700",children:"This is a transfer request. The item will be transferred to the new custodian."}),o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Item ID: ",(I=m.itemName.match(/Item ID: ([a-f0-9-]+)/))==null?void 0:I[1]]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yf,{className:"h-4 w-4 text-gray-500"}),o.jsx(xt,{placeholder:"Search available items...",value:v,onChange:O=>y(O.target.value),className:"flex-1"})]}),o.jsx("div",{className:"border rounded-md h-[300px] overflow-y-auto",children:b.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(fn,{className:"h-8 w-8 mb-2 opacity-50"}),o.jsx("p",{children:"No available items found"})]}):o.jsx("div",{className:"divide-y",children:b.map(O=>{const K=p.includes(O.id);return o.jsxs("div",{className:`p-3 flex items-center justify-between cursor-pointer hover:bg-gray-50 ${K?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>{x(K?te=>te.filter(le=>le!==O.id):te=>[...te,O.id])},children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:O.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Tag: ",O.asset_tag]})]}),K&&o.jsx(jn,{className:"h-4 w-4 text-blue-600"})]},O.id)})})})]})]}),o.jsxs(ds,{children:[o.jsx(we,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),o.jsx(we,{onClick:()=>A.mutate(),disabled:p.length===0||A.isPending,children:A.isPending?"Processing...":m!=null&&m.itemName.includes("Transfer Request")?"Confirm Transfer":"Confirm Allocation"})]})]})}),n&&o.jsx(Qm,{requestId:n,requestType:"item_request",currentStage:"storekeeper",isOpen:a,onClose:()=>{i(!1),s(null),w.invalidateQueries({queryKey:["pending-allocations"]})}})]})}function jY(){const{profile:e,user:t}=He(),{toast:r}=sn(),[n,s]=_.useState(""),[a,i]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(null),f=Vt(),{data:h=[],isLoading:m}=Le({queryKey:["items-registry"],queryFn:async()=>{const{data:w,error:S}=await ia.supabase.from("items").select("*").order("created_at",{ascending:!1});if(S)throw S;return w||[]}}),g=nt({mutationFn:async w=>{const{error:S}=await ia.supabase.from("items").delete().eq("id",w);if(S)throw S},onSuccess:()=>{f.invalidateQueries({queryKey:["items-registry"]}),r({title:"Success",description:"Item deleted successfully"})},onError:w=>{console.error("Error deleting item:",w),r({title:"Delete Failed",description:w.message||"Failed to delete item. It may be in use.",variant:"destructive"})}}),p=w=>{confirm(`Are you sure you want to delete "${w.name}"?`)&&g.mutate(w.id)},x=w=>{d(w),c(!0)},v=h.filter(w=>{var S,N,A;return((S=w.name)==null?void 0:S.toLowerCase().includes(n.toLowerCase()))||((N=w.asset_tag)==null?void 0:N.toLowerCase().includes(n.toLowerCase()))||((A=w.serial_number)==null?void 0:A.toLowerCase().includes(n.toLowerCase()))}),y=w=>{switch(w){case"Available":return"bg-green-100 text-green-800";case"Allocated":return"bg-blue-100 text-blue-800";case"Under Maintenance":return"bg-yellow-100 text-yellow-800";case"Damaged":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o.jsxs(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Item Registry",pageSubtitle:"Complete inventory management",headerActions:o.jsxs(we,{onClick:()=>i(!0),children:[o.jsx(GC,{className:"h-4 w-4 mr-2"}),"Add Item"]}),children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(xt,{placeholder:"Search items by name, asset tag, or serial number...",value:n,onChange:w=>s(w.target.value),className:"pl-10"})]})}),o.jsxs("div",{className:"bg-white rounded-lg border",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Details"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asset Tag"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchase Cost"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[m?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-4 text-center text-gray-500",children:"Loading items..."})}):v.map(w=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-2 py-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.name}),w.serial_number&&o.jsxs("div",{className:"text-xs text-gray-500",children:["SN: ",w.serial_number]})]}),o.jsx("td",{className:"px-2 py-1",children:o.jsx("span",{className:"text-xs font-mono text-gray-900",children:w.asset_tag})}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{className:`${y(w.status)} text-xs`,children:w.status})}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs("span",{className:"text-sm text-gray-900",children:["$",w.purchase_cost||0]})}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(we,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>x(w),children:o.jsx(wf,{className:"h-3 w-3"})}),o.jsx(we,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>p(w),disabled:g.isPending,children:o.jsx(hu,{className:"h-3 w-3"})})]})})]},w.id)),!m&&v.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-4 text-center text-gray-500",children:n?"No items found matching your search.":"No items registered yet."})})]})]})}),v.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500",children:n?"No items found matching your search.":"No items registered yet."})]})]}),a&&o.jsx(q1,{isOpen:a,onClose:()=>i(!1),onSuccess:()=>{f.invalidateQueries({queryKey:["items-registry"]}),i(!1),r({title:"Success",description:"Item added successfully"})}}),l&&o.jsx(l4,{isOpen:l,onClose:()=>{c(!1),d(null)},onSuccess:()=>{f.invalidateQueries({queryKey:["items-registry"]}),c(!1),d(null),r({title:"Success",description:"Item updated successfully"})},item:u})]})}function wh({className:e,...t}){return o.jsx("div",{className:Fe("animate-pulse rounded-md bg-muted",e),...t})}function kY(){const{profile:e,user:t}=He(),[r,n]=_.useState(""),{data:s=[],isLoading:a}=Le({queryKey:["distribution-log"],queryFn:async()=>{const{data:x,error:v}=await ia.supabase.from("item_requests").select(`
          id,
          updated_at,
          item_name,
          quantity,
          urgency,
          requester:profiles!requester_id(full_name),
          department:departments!requester_department_id(name),
          item:items!allocated_item_id(name, asset_tag)
        `).eq("status","approved").not("allocated_item_id","is",null).order("updated_at",{ascending:!1});if(v)throw console.error("Error fetching distribution log:",v),v;return x||[]}}),i=s.filter(x=>{var y,w,S,N,A,b,T;const v=r.toLowerCase();return((y=x.item_name)==null?void 0:y.toLowerCase().includes(v))||((S=(w=x.requester)==null?void 0:w.full_name)==null?void 0:S.toLowerCase().includes(v))||((A=(N=x.department)==null?void 0:N.name)==null?void 0:A.toLowerCase().includes(v))||((T=(b=x.item)==null?void 0:b.asset_tag)==null?void 0:T.toLowerCase().includes(v))}),{paginatedData:l,currentPage:c,pageSize:u,totalPages:d,totalItems:f,handlePageChange:h,handlePageSizeChange:m}=Kt(i,25),g=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=x=>{switch(x){case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}};return o.jsx(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Distribution Log",pageSubtitle:"Track all item allocations and distributions",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),o.jsx(xt,{placeholder:"Search by item, requester, department, asset tag...",value:r,onChange:x=>n(x.target.value),className:"pl-10"})]})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[o.jsx(gg,{icon:o.jsx(fn,{className:"h-8 w-8 text-blue-600"}),label:"Total Allocations",value:a?o.jsx(wh,{className:"h-8 w-20"}):s.length}),o.jsx(gg,{icon:o.jsx($y,{className:"h-8 w-8 text-green-600"}),label:"Unique Requesters",value:a?o.jsx(wh,{className:"h-8 w-20"}):new Set(s.map(x=>{var v;return(v=x.requester)==null?void 0:v.full_name})).size}),o.jsx(gg,{icon:o.jsx(Nm,{className:"h-8 w-8 text-purple-600"}),label:"Today's Allocations",value:a?o.jsx(wh,{className:"h-8 w-20"}):s.filter(x=>new Date(x.updated_at).toDateString()===new Date().toDateString()).length})]}),o.jsxs("div",{className:"bg-white rounded-lg border",children:[o.jsx("div",{className:"px-6 py-4 border-b",children:o.jsx("h3",{className:"text-lg font-semibold",children:"Recent Distributions"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Details"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allocated To"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgency"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a?[...Array(5)].map((x,v)=>o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-2",children:o.jsx(wh,{className:"h-4 w-full"})})},v)):l.map(x=>{var v,y,w,S;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-2 py-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:((v=x.item)==null?void 0:v.name)||x.item_name}),o.jsx("div",{className:"text-xs text-gray-500",children:((y=x.item)==null?void 0:y.asset_tag)||"N/A"})]}),o.jsxs("td",{className:"px-2 py-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:(w=x.requester)==null?void 0:w.full_name}),o.jsx("div",{className:"text-xs text-gray-500",children:(S=x.department)==null?void 0:S.name})]}),o.jsx("td",{className:"px-2 py-1",children:o.jsx("div",{className:"text-xs text-gray-900",children:g(x.updated_at)})}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{className:`${p(x.urgency)} text-xs`,children:x.urgency})}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{className:"bg-green-100 text-green-800 text-xs",children:"Allocated"})})]},x.id)}),!a&&i.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-4 text-center text-gray-500",children:r?"No distributions found matching your search.":"No distributions recorded yet."})})]})]})}),i.length>0&&o.jsx(qt,{currentPage:c,totalPages:d,pageSize:u,totalItems:f,onPageChange:h,onPageSizeChange:m})]})]})})}const gg=({icon:e,label:t,value:r})=>o.jsxs("div",{className:"bg-white p-6 rounded-lg border flex items-center gap-4",children:[e,o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600",children:t}),o.jsx("div",{className:"text-2xl font-bold",children:r})]})]});function AY(){var S,N,A,b,T,C;const{profile:e,user:t}=He(),{toast:r}=sn(),n=Vt(),[s,a]=_.useState(null),[i,l]=_.useState(!1),{data:c=[],isLoading:u}=Le({queryKey:["pending-transfers"],queryFn:async()=>{const{data:R,error:I}=await X.from("item_transfers").select(`
          *,
          items(name, asset_tag),
          initiator:profiles!initiator_id(full_name),
          receiver:profiles!receiver_id(full_name)
        `).eq("status","pending_storekeeper").order("created_at",{ascending:!1});if(I)throw I;return R||[]},refetchInterval:3e4}),d=nt({mutationFn:async R=>{console.log("Storekeeper approving transfer:",R);const{error:I}=await X.from("item_transfers").update({status:"pending_receiver_acceptance",storekeeper_approver_id:e==null?void 0:e.id}).eq("id",R);if(I)throw I},onSuccess:()=>{n.invalidateQueries({queryKey:["pending-transfers"]}),n.invalidateQueries({queryKey:["inventory-items"]}),r({title:"Success",description:"Transfer approved. Waiting for receiver acceptance."})},onError:R=>{r({title:"Error",description:"Failed to approve transfer",variant:"destructive"})}}),f=nt({mutationFn:async R=>{const{error:I}=await X.from("item_transfers").update({status:"rejected",approved_by_id:e==null?void 0:e.id,approved_at:new Date().toISOString()}).eq("id",R);if(I)throw I},onSuccess:()=>{n.invalidateQueries({queryKey:["pending-transfers"]}),r({title:"Success",description:"Transfer rejected"})},onError:R=>{r({title:"Error",description:"Failed to reject transfer",variant:"destructive"})}}),h=R=>{a(R),l(!0)},{paginatedData:m,currentPage:g,pageSize:p,totalPages:x,totalItems:v,handlePageChange:y,handlePageSizeChange:w}=Kt(c,25);return o.jsxs(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Transfer Approvals",pageSubtitle:"Review and approve item transfer requests between departments",children:[o.jsx("div",{className:"space-y-6",children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"h-5 w-5"}),"Pending Transfer Requests (",c.length,")"]})}),o.jsxs(Je,{children:[u?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading transfer requests..."}):c.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending transfer requests"}):o.jsx("div",{className:"space-y-4",children:m.map(R=>{var I,O,K,te,le,ue;return o.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(fn,{className:"h-5 w-5 text-gray-400"}),o.jsx("h3",{className:"font-medium text-gray-900",children:(I=R.items)==null?void 0:I.name}),o.jsx(Rt,{className:"bg-blue-100 text-blue-800",children:(O=R.status)==null?void 0:O.replace("_"," ").toUpperCase()})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Asset Tag:"})," ",(K=R.items)==null?void 0:K.asset_tag]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"From:"})," ",(te=R.initiator)==null?void 0:te.full_name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"To:"})," ",(le=R.receiver)==null?void 0:le.full_name]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx($y,{className:"h-4 w-4"}),o.jsxs("span",{children:["Transfer Type: ",(ue=R.transfer_type)==null?void 0:ue.replace("_"," ")]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Nm,{className:"h-4 w-4"}),o.jsx("span",{children:new Date(R.requested_at).toLocaleDateString()})]})]}),R.reason&&o.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[o.jsx("span",{className:"font-medium",children:"Reason:"})," ",R.reason]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx(we,{size:"sm",variant:"outline",onClick:()=>h(R),children:o.jsx(jm,{className:"h-4 w-4"})}),o.jsxs(we,{size:"sm",onClick:()=>d.mutate(R.id),disabled:d.isPending,children:[o.jsx(jn,{className:"h-4 w-4 mr-1"}),"Approve"]}),o.jsxs(we,{size:"sm",variant:"destructive",onClick:()=>f.mutate(R.id),disabled:f.isPending,children:[o.jsx(ro,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})},R.id)})}),c.length>0&&o.jsx(qt,{currentPage:g,totalPages:x,pageSize:p,totalItems:v,onPageChange:y,onPageSizeChange:w})]})]})}),o.jsx(gn,{open:i,onOpenChange:l,children:o.jsxs(en,{className:"sm:max-w-[600px]",children:[o.jsxs(tn,{children:[o.jsx(rn,{children:"Transfer Request Details"}),o.jsx(ll,{children:"Review the complete details of this transfer request."})]}),s&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Item Information"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",(S=s.items)==null?void 0:S.name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Asset Tag:"})," ",(N=s.items)==null?void 0:N.asset_tag]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Transfer Details"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"From:"})," ",(A=s.initiator)==null?void 0:A.full_name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"To:"})," ",(b=s.receiver)==null?void 0:b.full_name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"}),o.jsx(Rt,{className:"ml-2 bg-blue-100 text-blue-800",children:(T=s.transfer_type)==null?void 0:T.replace("_"," ").toUpperCase()})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Request Information"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Initiated by:"})," ",(C=s.initiator)==null?void 0:C.full_name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(s.requested_at).toLocaleString()]})]})]}),s.reason&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Reason for Transfer"}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:s.reason})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(we,{variant:"outline",onClick:()=>l(!1),children:"Close"}),o.jsxs(we,{onClick:()=>{d.mutate(s.id),l(!1)},disabled:d.isPending,children:[o.jsx(jn,{className:"h-4 w-4 mr-1"}),"Approve"]}),o.jsxs(we,{variant:"destructive",onClick:()=>{f.mutate(s.id),l(!1)},disabled:f.isPending,children:[o.jsx(ro,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})]})})]})}function RY(){const{profile:e,user:t}=He(),{data:r=[],isLoading:n}=Le({queryKey:["storekeeper-transfer-history"],queryFn:async()=>{const{data:h,error:m}=await X.rpc("get_transfers_with_emails");if(m)throw m;return h||[]},refetchInterval:3e4}),s=h=>{switch(h){case"pending_storekeeper":return"secondary";case"pending_receiver_acceptance":return"default";case"completed":return"outline";case"rejected":return"destructive";default:return"secondary"}},{paginatedData:a,currentPage:i,pageSize:l,totalPages:c,totalItems:u,handlePageChange:d,handlePageSizeChange:f}=Kt(r,25);return o.jsx(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Transfer History",pageSubtitle:"View all item transfer records",children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"h-5 w-5"}),"Transfer History (",u,")"]})}),o.jsx(Je,{children:n?o.jsx("p",{children:"Loading transfers..."}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.map(h=>{var m;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-2 py-1 font-medium text-sm",children:[h.item_name," (",h.asset_tag,")"]}),o.jsx("td",{className:"px-2 py-1 text-sm",children:h.initiator_email||"Unknown"}),o.jsx("td",{className:"px-2 py-1 text-sm",children:h.receiver_email||"Unknown"}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:s(h.status),className:"text-xs",children:(m=h.status)==null?void 0:m.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(h.created_at).toLocaleDateString()})]},h.id)}),a.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-4 text-center text-gray-500",children:"No transfer history found"})})]})]}),r.length>0&&o.jsx(qt,{currentPage:i,totalPages:c,pageSize:l,totalItems:u,onPageChange:d,onPageSizeChange:f})]})})]})})}function PY(){const{profile:e,user:t}=He(),[r,n]=_.useState("30"),{data:s}=Le({queryKey:["inventory-stats"],queryFn:async()=>{const{data:d,error:f}=await X.from("items").select("status, purchase_cost");if(f)throw f;return{total:d.length,available:d.filter(m=>m.status==="Available").length,allocated:d.filter(m=>m.status==="Allocated").length,maintenance:d.filter(m=>m.status==="Under Maintenance").length,damaged:d.filter(m=>m.status==="Damaged").length,totalValue:d.reduce((m,g)=>m+(g.purchase_cost||0),0)}}}),{data:a}=Le({queryKey:["request-stats",r],queryFn:async()=>{const d=new Date;d.setDate(d.getDate()-parseInt(r));const{data:f,error:h}=await X.from("item_requests").select("status, created_at, urgency").gte("created_at",d.toISOString());if(h)throw h;return{total:f.length,pending:f.filter(g=>g.status.includes("pending")).length,approved:f.filter(g=>g.status==="approved").length,rejected:f.filter(g=>g.status==="rejected").length,critical:f.filter(g=>g.urgency==="critical").length,high:f.filter(g=>g.urgency==="high").length}}}),{data:i}=Le({queryKey:["department-stats"],queryFn:async()=>{const{data:d,error:f}=await X.from("departments").select(`
          id,
          name,
          items:items(id),
          requests:item_requests(id)
        `);if(f)throw f;return d.map(h=>{var m,g;return{name:h.name,itemCount:((m=h.items)==null?void 0:m.length)||0,requestCount:((g=h.requests)==null?void 0:g.length)||0}})}}),{data:l}=Le({queryKey:["recent-activity"],queryFn:async()=>{const{data:d,error:f}=await X.from("item_requests").select(`
          *,
          requester:profiles!requester_id(full_name),
          department:departments(name)
        `).order("updated_at",{ascending:!1}).limit(10);if(f)throw f;return d||[]}}),c=d=>d==="approved"?"bg-green-100 text-green-800":d==="rejected"?"bg-red-100 text-red-800":d.includes("pending")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",u=d=>{switch(d){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return o.jsx(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Reports & Analytics",pageSubtitle:"Comprehensive inventory and request analytics",headerActions:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Js,{reportType:"inventory"}),o.jsx(Js,{reportType:"requests"})]}),children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm font-medium",children:"Report Period:"}),o.jsx("div",{className:"flex gap-2",children:["7","30","90"].map(d=>o.jsxs(we,{variant:r===d?"default":"outline",size:"sm",onClick:()=>n(d),children:[d," days"]},d))})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(fn,{className:"h-5 w-5"}),"Inventory Overview"]})}),o.jsx(Je,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.total)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Items"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:(s==null?void 0:s.available)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Available"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(s==null?void 0:s.allocated)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Allocated"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(s==null?void 0:s.maintenance)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Maintenance"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:(s==null?void 0:s.damaged)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Damaged"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",(s==null?void 0:s.totalValue)||0]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]})]})})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Ts,{className:"h-5 w-5"}),"Request Statistics (Last ",r," days)"]})}),o.jsx(Je,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(a==null?void 0:a.total)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Requests"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(a==null?void 0:a.pending)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.approved)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Approved"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:(a==null?void 0:a.rejected)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:(a==null?void 0:a.critical)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Critical"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(a==null?void 0:a.high)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(il,{className:"h-5 w-5"}),"Department Activity"]})}),o.jsx(Je,{children:o.jsx("div",{className:"space-y-3",children:i==null?void 0:i.slice(0,5).map((d,f)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:d.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:[d.requestCount," requests"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-medium",children:d.itemCount}),o.jsx("div",{className:"text-sm text-gray-600",children:"items"})]})]},f))})})]}),o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx($6,{className:"h-5 w-5"}),"Recent Activity"]})}),o.jsx(Je,{children:o.jsx("div",{className:"space-y-3",children:l==null?void 0:l.slice(0,5).map(d=>{var f,h;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:d.item_name}),o.jsxs("div",{className:"text-sm text-gray-600",children:[(f=d.requester)==null?void 0:f.full_name,"  ",(h=d.department)==null?void 0:h.name]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rt,{className:u(d.urgency),children:d.urgency}),o.jsx(Rt,{className:c(d.status),children:d.status.replace("_"," ")})]})]},d.id)})})})]})]})]})})}function OY(){const{profile:e,user:t}=He(),{toast:r}=sn(),n=Vt(),[s,a]=_.useState("all"),{data:i=[],isLoading:l}=Le({queryKey:["storekeeper-notifications",e==null?void 0:e.id],queryFn:async()=>{const{data:p,error:x}=await X.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(x)throw x;return p||[]},enabled:!!(e!=null&&e.id),refetchInterval:3e4}),c=nt({mutationFn:async p=>{const{error:x}=await X.from("notifications").update({is_read:!0}).eq("id",p);if(x)throw x},onSuccess:()=>{n.invalidateQueries({queryKey:["storekeeper-notifications"]}),n.invalidateQueries({queryKey:["notification-count"]})}}),u=nt({mutationFn:async p=>{const{error:x}=await X.from("notifications").delete().eq("id",p);if(x)throw x},onSuccess:()=>{n.invalidateQueries({queryKey:["storekeeper-notifications"]}),n.invalidateQueries({queryKey:["notification-count"]}),r({title:"Success",description:"Notification deleted"})}}),d=nt({mutationFn:async()=>{const{error:p}=await X.from("notifications").update({is_read:!0}).eq("user_id",e==null?void 0:e.id).eq("is_read",!1);if(p)throw p},onSuccess:()=>{n.invalidateQueries({queryKey:["storekeeper-notifications"]}),n.invalidateQueries({queryKey:["notification-count"]}),r({title:"Success",description:"All notifications marked as read"})}}),f=i.filter(p=>s==="all"||s==="unread"&&!p.is_read),h=p=>{switch(p){case"request_approved":return o.jsx(fu,{className:"h-5 w-5 text-green-600"});case"request_rejected":return o.jsx(du,{className:"h-5 w-5 text-red-600"});case"new_request":return o.jsx(Es,{className:"h-5 w-5 text-blue-600"});default:return o.jsx(KC,{className:"h-5 w-5 text-gray-600"})}},m=p=>{switch(p){case"request_approved":return"bg-green-50 border-green-200";case"request_rejected":return"bg-red-50 border-red-200";case"new_request":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}},g=i.filter(p=>!p.is_read).length;return o.jsx(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Notifications",pageSubtitle:"Stay updated with system alerts and messages",headerActions:o.jsx("div",{className:"flex gap-2",children:o.jsxs(we,{variant:"outline",size:"sm",onClick:()=>d.mutate(),disabled:g===0||d.isPending,children:[o.jsx(jn,{className:"h-4 w-4 mr-2"}),"Mark All Read"]})}),children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(we,{variant:s==="all"?"default":"outline",size:"sm",onClick:()=>a("all"),children:["All (",i.length,")"]}),o.jsxs(we,{variant:s==="unread"?"default":"outline",size:"sm",onClick:()=>a("unread"),children:["Unread (",g,")"]})]})}),o.jsx("div",{className:"space-y-3",children:l?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading notifications..."}):f.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:s==="unread"?"No unread notifications":"No notifications yet"}):f.map(p=>o.jsx("div",{className:`p-4 rounded-lg border ${p.is_read?"bg-white":m(p.type)} ${p.is_read?"":"border-l-4"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[h(p.type),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:p.title}),!p.is_read&&o.jsx(Rt,{variant:"secondary",className:"text-xs",children:"New"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:p.message}),o.jsx("p",{className:"text-xs text-gray-400",children:new Date(p.created_at).toLocaleString()})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!p.is_read&&o.jsx(we,{size:"sm",variant:"ghost",onClick:()=>c.mutate(p.id),disabled:c.isPending,children:o.jsx(jn,{className:"h-4 w-4"})}),o.jsx(we,{size:"sm",variant:"ghost",onClick:()=>u.mutate(p.id),disabled:u.isPending,children:o.jsx(hu,{className:"h-4 w-4"})})]})]})},p.id))})]})})}function IY(){const{profile:e,user:t}=He(),{toast:r}=sn(),n=Vt(),{data:s=[],isLoading:a}=Le({queryKey:["return-requests"],queryFn:async()=>{const{data:T,error:C}=await X.from("return_requests").select(`
          *,
          items(name, asset_tag, status),
          profiles!return_requests_requester_id_fkey(full_name)
        `).order("requested_at",{ascending:!1});return C?(console.error("Error fetching return requests:",C),[]):T||[]},refetchInterval:3e4}),i=nt({mutationFn:async T=>{console.log("Approving return request:",T);const{data:C,error:R}=await X.from("return_requests").select("item_id").eq("id",T).single();if(R||!C)throw console.error("Failed to fetch return request:",R),new Error("Return request not found");console.log("Found return request for item:",C.item_id);let I=null;const{data:O}=await X.from("departments").select("id").ilike("name","%store%").limit(1).single();if(O)I=O.id;else{const{data:le}=await X.from("colleges").select("id").limit(1).single();if(le){const{data:ue}=await X.from("departments").insert({name:"Store Department",college_id:le.id}).select("id").single();I=ue==null?void 0:ue.id}}const{error:K}=await X.from("items").update({status:"Available",current_custodian_id:null,owner_department_id:I,updated_at:new Date().toISOString()}).eq("id",C.item_id);if(K)throw console.error("Failed to update item:",K),K;console.log("Item updated successfully");const{error:te}=await X.from("return_requests").update({status:"approved",processed_at:new Date().toISOString(),processed_by_id:e==null?void 0:e.id}).eq("id",T);if(te)throw console.error("Failed to update return request:",te),te;console.log("Return request approved successfully")},onSuccess:()=>{n.invalidateQueries({queryKey:["return-requests"]}),n.invalidateQueries({queryKey:["items-registry"]}),n.invalidateQueries({queryKey:["inventory-items"]}),n.invalidateQueries({queryKey:["my-items"]}),r({title:"Success",description:"Return request approved and item returned to store"})},onError:T=>{console.error("Approve error:",T),r({title:"Error",description:"Failed to approve return request",variant:"destructive"})}}),l=nt({mutationFn:async T=>{const{error:C}=await X.from("return_requests").update({status:"rejected",processed_at:new Date().toISOString(),processed_by_id:e==null?void 0:e.id}).eq("id",T);if(C)throw C},onSuccess:()=>{n.invalidateQueries({queryKey:["return-requests"]}),r({title:"Success",description:"Return request rejected"})},onError:T=>{console.error("Reject error:",T),r({title:"Error",description:"Failed to reject return request",variant:"destructive"})}}),c=T=>{switch(T){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=s.filter(T=>T.status==="pending"),{paginatedData:d,currentPage:f,pageSize:h,totalPages:m,totalItems:g,handlePageChange:p,handlePageSizeChange:x}=Kt(u,25),{paginatedData:v,currentPage:y,pageSize:w,totalPages:S,totalItems:N,handlePageChange:A,handlePageSizeChange:b}=Kt(s,25);return o.jsx(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Return Requests",pageSubtitle:"Review and process item return requests from staff",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(fn,{className:"h-5 w-5"}),"Pending Return Requests (",u.length,")"]})}),o.jsx(Je,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asset Tag"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested By"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-gray-500",children:"Loading return requests..."})}):d.map(T=>{var C,R,I;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 text-sm font-medium",children:((C=T.items)==null?void 0:C.name)||"Unknown Item"}),o.jsx("td",{className:"px-2 py-1 text-xs font-mono",children:((R=T.items)==null?void 0:R.asset_tag)||"N/A"}),o.jsx("td",{className:"px-2 py-1 text-sm",children:((I=T.profiles)==null?void 0:I.full_name)||"Unknown"}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(T.requested_at).toLocaleDateString()}),o.jsx("td",{className:"px-2 py-1 text-xs max-w-32 truncate",title:T.reason,children:T.reason||"No reason"}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs(we,{size:"sm",className:"h-6 text-xs px-2",onClick:()=>i.mutate(T.id),disabled:i.isPending,children:[o.jsx(jn,{className:"h-3 w-3 mr-1"}),"Approve"]}),o.jsxs(we,{size:"sm",variant:"destructive",className:"h-6 text-xs px-2",onClick:()=>l.mutate(T.id),disabled:l.isPending,children:[o.jsx(ro,{className:"h-3 w-3 mr-1"}),"Reject"]})]})})]},T.id)}),!a&&u.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-gray-500",children:"No pending return requests"})})]})]}),u.length>0&&o.jsx(qt,{currentPage:f,totalPages:m,pageSize:h,totalItems:g,onPageChange:p,onPageSizeChange:x})]})})]}),s.length>u.length&&o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsx(rt,{children:"All Return Requests"})}),o.jsxs(Je,{children:[o.jsx("div",{className:"space-y-2",children:v.map(T=>{var C,R,I;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:((C=T.items)==null?void 0:C.name)||"Unknown Item"}),o.jsxs("div",{className:"text-sm text-gray-600",children:[(R=T.profiles)==null?void 0:R.full_name,"  ",new Date(T.requested_at).toLocaleDateString()]})]}),o.jsx(Rt,{className:c(T.status),children:(I=T.status)==null?void 0:I.toUpperCase()})]},T.id)})}),s.length>0&&o.jsx(qt,{currentPage:y,totalPages:S,pageSize:w,totalItems:N,onPageChange:A,onPageSizeChange:b})]})]})]})})}const DY=async()=>{const{data:e,error:t}=await ia.supabase.from("item_requests").select(`
      id,
      item_name,
      quantity,
      urgency,
      created_at,
      profiles!requester_id(full_name)
    `).eq("status","pending_storekeeper").order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e||[]},FY=async()=>ia.getInventoryStats(),MY=async e=>{const{data:t,error:r}=await ia.supabase.from("notifications").select("id").eq("user_id",e).eq("is_read",!1);if(r)throw r;return(t==null?void 0:t.length)||0};function LY(){const{profile:e,user:t}=He(),[r,n]=_.useState(null),[s,a]=_.useState(!1),[i,l]=_.useState(!1),c=Vt(),{data:u=[]}=Le({queryKey:["pending-approvals"],queryFn:DY}),{data:d}=Le({queryKey:["inventory-stats"],queryFn:FY}),{data:f=0}=Le({queryKey:["notification-count",e==null?void 0:e.id],queryFn:()=>e!=null&&e.id?MY(e.id):0,enabled:!!(e!=null&&e.id)}),h=u.filter(p=>p.urgency==="critical"),m=u.filter(p=>Math.floor((new Date().getTime()-new Date(p.created_at).getTime())/864e5)>3),g=async p=>{try{const{error:x}=await ia.supabase.from("item_requests").update({status:"approved",storekeeper_allocator_id:e==null?void 0:e.id,updated_at:new Date().toISOString()}).eq("id",p);if(x)throw x;c.invalidateQueries({queryKey:["pending-approvals"]})}catch(x){console.error("Error approving request:",x)}};return o.jsxs(st,{role:"storekeeper",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Storekeeper",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Store Management",pageSubtitle:"Inventory control and item allocation",showSearch:!0,searchPlaceholder:"Search items, asset tags...",headerActions:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Js,{reportType:"inventory"}),o.jsxs(we,{size:"sm",onClick:()=>l(!0),children:[o.jsx(GC,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),notificationCount:f,children:[o.jsxs("div",{className:"space-y-6",children:[m.length>0&&o.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-destructive/30 bg-destructive/5 px-4 py-3",children:[o.jsx(By,{className:"h-5 w-5 text-destructive shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:[m.length," allocation",m.length>1?"s":""," pending for 4+ days"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:h.length>0?"Critical items urgently needed":"Items awaiting allocation"})]}),o.jsx(we,{size:"sm",variant:"destructive",children:"Review Now"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[u.length>0&&o.jsx(Tr,{title:"Pending Allocations",value:u.length,subtitle:`${h.length} critical priority`,icon:Yo,variant:"warning"}),o.jsx(Tr,{title:"Total Inventory",value:(d==null?void 0:d.total)||0,subtitle:"Across all categories",icon:YC,variant:"primary"}),o.jsx(Tr,{title:"Available Items",value:(d==null?void 0:d.available)||0,subtitle:"Ready for allocation",icon:fn,variant:"success"}),o.jsx(Tr,{title:"Under Maintenance",value:(d==null?void 0:d.maintenance)||0,subtitle:"Items being serviced",icon:Xt,variant:"info"})]}),o.jsxs("div",{className:"rounded-lg border border-border bg-card",children:[o.jsx("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Recent Allocation Queue"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest requests awaiting distribution"})]})}),o.jsxs("div",{className:"divide-y divide-border",children:[u.slice(0,3).map(p=>{var v;const x=Math.floor((new Date().getTime()-new Date(p.created_at).getTime())/864e5);return o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-foreground",children:(v=p.profiles)==null?void 0:v.full_name}),o.jsx($1,{status:p.urgency,variant:"urgency",size:"sm"}),x>3&&o.jsxs("span",{className:"text-[10px] font-medium text-destructive bg-destructive/10 px-1.5 py-0.5 rounded",children:[x," days waiting"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Request from user"}),o.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Item"}),o.jsx("p",{className:"text-sm font-medium",children:p.item_name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantity"}),o.jsx("p",{className:"text-sm",children:p.quantity})]})]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:o.jsxs(we,{size:"sm",className:"gap-2",onClick:()=>g(p.id),children:[o.jsx(jn,{className:"h-4 w-4"}),"Approve"]})})]})},p.id)}),u.length===0&&o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No pending allocations"})]})]})]}),r&&o.jsx(Qm,{requestId:r,requestType:"item_request",currentStage:"storekeeper",isOpen:s,onClose:()=>{a(!1),n(null)}}),o.jsx(q1,{isOpen:i,onClose:()=>l(!1),onSuccess:()=>{c.invalidateQueries({queryKey:["inventory-stats"]}),c.invalidateQueries({queryKey:["items-registry"]})}})]})}function UY(){return o.jsxs(cu,{children:[o.jsx($e,{index:!0,element:o.jsx(LY,{})}),o.jsx($e,{path:"inventory",element:o.jsx(bY,{})}),o.jsx($e,{path:"allocations",element:o.jsx(NY,{})}),o.jsx($e,{path:"registry",element:o.jsx(jY,{})}),o.jsx($e,{path:"distribution",element:o.jsx(kY,{})}),o.jsx($e,{path:"transfers",element:o.jsx(AY,{})}),o.jsx($e,{path:"transfer-history",element:o.jsx(RY,{})}),o.jsx($e,{path:"reports",element:o.jsx(PY,{})}),o.jsx($e,{path:"returns",element:o.jsx(IY,{})}),o.jsx($e,{path:"notifications",element:o.jsx(OY,{})})]})}const BY=async e=>i4(e);function $Y(){const{profile:e,user:t}=He(),r=Vt(),{toast:n}=sn(),[s,a]=_.useState(null),[i,l]=_.useState(!1),[c,u]=_.useState(""),{data:d=[],isLoading:f}=Le({queryKey:["my-items",e==null?void 0:e.id],queryFn:()=>BY((e==null?void 0:e.id)||""),enabled:!!(e!=null&&e.id),refetchInterval:3e4}),h=nt({mutationFn:async({itemId:T,newStatus:C})=>{await a4(T,C)},onSuccess:()=>{r.invalidateQueries({queryKey:["my-items"]}),n({title:"Success",description:"Item status updated"})},onError:()=>{n({title:"Error",description:"Failed to update status",variant:"destructive"})}}),m=nt({mutationFn:async({itemId:T,reason:C})=>{const{error:R}=await X.from("return_requests").insert({item_id:T,requester_id:e==null?void 0:e.id,reason:C});if(R)throw R},onSuccess:()=>{r.invalidateQueries({queryKey:["my-items"]}),n({title:"Success",description:"Return request submitted successfully"}),l(!1),a(null),u("")},onError:T=>{n({title:"Error",description:"Failed to submit return request",variant:"destructive"})}}),g=(T,C)=>{h.mutate({itemId:T,newStatus:C})},p=T=>{a(T),l(!0)},x=()=>{s&&c.trim()&&m.mutate({itemId:s.id,reason:c.trim()})},{paginatedData:v,currentPage:y,pageSize:w,totalPages:S,totalItems:N,handlePageChange:A,handlePageSizeChange:b}=Kt(d,25);return o.jsxs(st,{role:"staff",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Staff Member",userEmail:(t==null?void 0:t.email)||"",pageTitle:"My Items",pageSubtitle:"Items currently assigned to you",children:[o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{children:["My Assigned Items (",d.length,")"]})}),o.jsx(Je,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asset Tag"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Date"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[f?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-2 text-center text-gray-500",children:"Loading your items..."})}):v.map(T=>{var R,I;const C=(R=T.return_requests)==null?void 0:R.some(O=>O.status==="pending");return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1",children:o.jsx("span",{className:"font-mono text-xs bg-gray-100 px-1 py-0.5 rounded",children:T.asset_tag})}),o.jsx("td",{className:"px-2 py-1 font-medium text-gray-900 text-sm",children:T.name}),o.jsx("td",{className:"px-2 py-1 text-gray-900 text-sm",children:((I=T.item_categories)==null?void 0:I.name)||"N/A"}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs(dr,{value:T.status,onValueChange:O=>g(T.id,O),disabled:C,children:[o.jsx(rr,{className:"w-28 h-7 text-xs",children:o.jsx(fr,{})}),o.jsxs(nr,{children:[o.jsx(ut,{value:"Allocated",children:"Allocated"}),o.jsx(ut,{value:"In Use",children:"In Use"}),o.jsx(ut,{value:"Under Maintenance",children:"Under Maintenance"}),o.jsx(ut,{value:"Damaged",children:"Damaged"})]})]})}),o.jsx("td",{className:"px-2 py-1 text-gray-500 text-sm",children:T.created_at?new Date(T.created_at).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(we,{onClick:()=>p(T),disabled:C||m.isPending,size:"sm",variant:C?"secondary":"outline",className:"h-6 text-xs px-2",children:C?"Return Pending":"Request Return"})})]},T.id)}),!f&&d.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-gray-500",children:"No items assigned to you yet"})})]})]}),d.length>0&&o.jsx(qt,{currentPage:y,totalPages:S,pageSize:w,totalItems:N,onPageChange:A,onPageSizeChange:b})]})})]}),o.jsx(gn,{open:i,onOpenChange:l,children:o.jsxs(en,{children:[o.jsxs(tn,{children:[o.jsx(rn,{children:"Request Item Return"}),o.jsxs(ll,{children:["Submit a return request for ",s==null?void 0:s.name,". Please provide a reason for returning this item."]})]}),o.jsx("div",{className:"space-y-4 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Reason for Return"}),o.jsx(vo,{placeholder:"Please explain why you want to return this item...",value:c,onChange:T=>u(T.target.value),className:"min-h-[100px]"})]})}),o.jsxs(ds,{children:[o.jsx(we,{variant:"outline",onClick:()=>{l(!1),a(null),u("")},children:"Cancel"}),o.jsx(we,{onClick:x,disabled:!c.trim()||m.isPending,children:m.isPending?"Submitting...":"Submit Request"})]})]})})]})}const qY=wl({item_name:pr().min(3,"Item name is required"),quantity:L9.number().min(1,"Quantity must be at least 1"),urgency:qm(["low","medium","high","critical"]),justification:pr().min(10,"Please provide a justification")});function VY(){const{profile:e,user:t}=He(),{toast:r}=sn(),n=Vt(),s=ti({resolver:ni(qY),defaultValues:{item_name:"",quantity:1,urgency:"low",justification:""}}),a=nt({mutationFn:async l=>{if(!(e!=null&&e.id)||!(e!=null&&e.department_id))throw new Error("User profile not loaded. Please try again.");const{data:c,error:u}=await X.from("item_requests").insert([{item_name:l.item_name,quantity:l.quantity,urgency:l.urgency,justification:l.justification,requester_id:e.id,requester_department_id:e.department_id,status:"pending_dept_head"}]).select();if(u)throw new Error(u.message);return c},onSuccess:()=>{n.invalidateQueries({queryKey:["my-requests"]}),r({title:"Request Submitted",description:"Your item request has been submitted for approval."}),s.reset()},onError:l=>{r({title:"Error",description:l.message,variant:"destructive"})}}),i=l=>{a.mutate(l)};return o.jsx(st,{role:"staff",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Staff Member",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Request Item",pageSubtitle:"Submit a new item request",children:o.jsx("div",{className:"max-w-2xl",children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsx(rt,{children:"Submit New Item Request"})}),o.jsx(Je,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this form to request new items for your work. All requests go through the approval process: Department Head  College Dean  Storekeeper."}),o.jsx(ri,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[o.jsx(kt,{control:s.control,name:"item_name",render:({field:l})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Item Name"}),o.jsx(Tt,{children:o.jsx(xt,{placeholder:"e.g., Laptop, Office Chair",...l})}),o.jsx(Ct,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(kt,{control:s.control,name:"quantity",render:({field:l})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Quantity"}),o.jsx(Tt,{children:o.jsx(xt,{type:"number",min:"1",...l})}),o.jsx(Ct,{})]})}),o.jsx(kt,{control:s.control,name:"urgency",render:({field:l})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Urgency"}),o.jsxs(dr,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(Tt,{children:o.jsx(rr,{children:o.jsx(fr,{placeholder:"Select urgency"})})}),o.jsxs(nr,{children:[o.jsx(ut,{value:"low",children:"Low"}),o.jsx(ut,{value:"medium",children:"Medium"}),o.jsx(ut,{value:"high",children:"High"}),o.jsx(ut,{value:"critical",children:"Critical"})]})]}),o.jsx(Ct,{})]})})]}),o.jsx(kt,{control:s.control,name:"justification",render:({field:l})=>o.jsxs(bt,{children:[o.jsx(Et,{children:"Justification"}),o.jsx(Tt,{children:o.jsx(vo,{placeholder:"Explain why you need this item...",className:"resize-none",...l})}),o.jsx(Ct,{})]})}),o.jsx(we,{type:"submit",disabled:a.isPending||!(e!=null&&e.department_id),children:a.isPending?"Submitting...":"Submit Request"})]})})]})})]})})})}function zY(){var r;const{profile:e,user:t}=He();return o.jsx(st,{role:"staff",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Staff Member",userEmail:(t==null?void 0:t.email)||"",departmentName:(r=e==null?void 0:e.departments)==null?void 0:r.name,pageTitle:"Transfer Item",pageSubtitle:"Request to transfer items to other staff members",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"h-5 w-5"}),"Item Transfer Request"]})}),o.jsx(Je,{children:o.jsx(o4,{})})]})})}function WY(){const{profile:e,user:t}=He(),{data:r=[],isLoading:n}=Le({queryKey:["staff-requests",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:m,error:g}=await X.from("item_requests").select("*").eq("requester_id",e.id).order("created_at",{ascending:!1});return g?(console.error("Error:",g),[]):m||[]},enabled:!!(e!=null&&e.id),refetchInterval:3e4}),{paginatedData:s,currentPage:a,pageSize:i,totalPages:l,totalItems:c,handlePageChange:u,handlePageSizeChange:d}=Kt(r,25),f=m=>m==="approved"?"bg-green-100 text-green-800":m==="rejected"?"bg-red-100 text-red-800":m.includes("pending")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",h=m=>{switch(m){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return o.jsx(st,{role:"staff",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Staff Member",userEmail:(t==null?void 0:t.email)||"",pageTitle:"My Requests",pageSubtitle:"Track all your item requests",children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{children:["Request History (",r.length,")"]})}),o.jsxs(Je,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urgency"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Justification"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-gray-500",children:"Loading requests..."})}):s.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-2 py-4 text-center text-gray-500",children:"No requests found. Create your first request to get started."})}):s.map(m=>{var g,p;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-2 py-1 text-sm font-medium",children:m.item_name||"Item Request"}),o.jsx("td",{className:"px-2 py-1 text-sm",children:m.quantity}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{className:`${h(m.urgency)} text-xs`,children:((g=m.urgency)==null?void 0:g.toUpperCase())||"LOW"})}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{className:`${f(m.status)} text-xs`,children:(p=m.status)==null?void 0:p.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(m.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-2 py-1 text-xs max-w-48 truncate",title:m.justification,children:m.justification||"No justification"})]},m.id)})})]})}),r.length>0&&o.jsx(qt,{currentPage:a,totalPages:l,pageSize:i,totalItems:c,onPageChange:u,onPageSizeChange:d})]})]})})}function HY(){var p;const{profile:e,user:t}=He(),{toast:r}=sn(),n=Vt(),{data:s=[]}=Le({queryKey:["staff-notifications",e==null?void 0:e.id],queryFn:async()=>{const{data:x,error:v}=await X.from("notifications").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(v)throw v;return x||[]},enabled:!!(e!=null&&e.id)}),{paginatedData:a,currentPage:i,pageSize:l,totalPages:c,totalItems:u,handlePageChange:d,handlePageSizeChange:f}=Kt(s,25),h=nt({mutationFn:async x=>{const{error:v}=await X.from("notifications").update({is_read:!0}).eq("id",x);if(v)throw v},onSuccess:()=>{n.invalidateQueries({queryKey:["staff-notifications"]})}}),m=nt({mutationFn:async x=>{const{error:v}=await X.from("notifications").delete().eq("id",x);if(v)throw v},onSuccess:()=>{n.invalidateQueries({queryKey:["staff-notifications"]}),r({title:"Success",description:"Notification deleted"})}}),g=x=>{switch(x){case"request_approved":return o.jsx(fu,{className:"h-4 w-4 text-green-500"});case"request_rejected":return o.jsx(du,{className:"h-4 w-4 text-red-500"});case"request_pending":return o.jsx(vf,{className:"h-4 w-4 text-yellow-500"});default:return o.jsx(Es,{className:"h-4 w-4 text-blue-500"})}};return o.jsxs(st,{role:"staff",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Staff Member",userEmail:(t==null?void 0:t.email)||"",departmentName:(p=e==null?void 0:e.departments)==null?void 0:p.name,pageTitle:"Notifications",pageSubtitle:"Stay updated on your requests and items",children:[o.jsxs("div",{className:"space-y-4",children:[a.map(x=>o.jsx("div",{className:`rounded-lg border p-4 ${x.is_read?"bg-card":"bg-blue-50 border-blue-200"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g(x.type),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-sm",children:x.title}),!x.is_read&&o.jsx(Rt,{variant:"secondary",className:"text-xs",children:"New"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:x.message}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(x.created_at).toLocaleString()})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!x.is_read&&o.jsx(we,{size:"sm",variant:"ghost",onClick:()=>h.mutate(x.id),children:o.jsx(jn,{className:"h-4 w-4"})}),o.jsx(we,{size:"sm",variant:"ghost",onClick:()=>m.mutate(x.id),children:o.jsx(hu,{className:"h-4 w-4"})})]})]})},x.id)),s.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Es,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No notifications"}),o.jsx("p",{className:"text-muted-foreground",children:"You'll see notifications about your requests and items here."})]})]}),s.length>0&&o.jsx(qt,{currentPage:i,totalPages:c,pageSize:l,totalItems:u,onPageChange:d,onPageSizeChange:f})]})}function KY(){const{profile:e,user:t}=He(),{data:r,isLoading:n}=Le({queryKey:["staff-transfer-history",e==null?void 0:e.id],queryFn:async()=>{const{data:h,error:m}=await X.rpc("get_transfers_with_emails");if(m)throw m;return(h||[]).filter(g=>g.initiator_id===(e==null?void 0:e.id)||g.receiver_id===(e==null?void 0:e.id))},enabled:!!(e!=null&&e.id),refetchInterval:3e4}),s=h=>{switch(h){case"pending_receiver_acceptance":return"secondary";case"completed":return"outline";case"rejected":return"destructive";default:return"secondary"}},{paginatedData:a,currentPage:i,pageSize:l,totalPages:c,totalItems:u,handlePageChange:d,handlePageSizeChange:f}=Kt(r||[],25);return o.jsx(st,{role:"staff",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Staff Member",userEmail:(t==null?void 0:t.email)||"",pageTitle:"Transfer History",pageSubtitle:"View your item transfer history",notificationCount:0,children:o.jsxs(Qe,{children:[o.jsx(tt,{children:o.jsxs(rt,{className:"flex items-center gap-2",children:[o.jsx(Xt,{className:"h-5 w-5"}),"Transfer History (",u,")"]})}),o.jsx(Je,{children:n?o.jsx("p",{children:"Loading transfers..."}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.map(h=>{var m;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-2 py-1 font-medium text-sm",children:[h.item_name," (",h.asset_tag,")"]}),o.jsx("td",{className:"px-2 py-1 text-sm",children:h.initiator_email||"Unknown"}),o.jsx("td",{className:"px-2 py-1 text-sm",children:h.receiver_email||"Unknown"}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(Rt,{variant:s(h.status),className:"text-xs",children:(m=h.status)==null?void 0:m.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-2 py-1 text-xs",children:new Date(h.created_at).toLocaleDateString()})]},h.id)}),a.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-2 py-4 text-center text-gray-500",children:"No transfer history found"})})]})]}),r&&r.length>0&&o.jsx(qt,{currentPage:i,totalPages:c,pageSize:l,totalItems:u,onPageChange:d,onPageSizeChange:f})]})})]})})}const GY=async e=>{const{data:t,error:r}=await X.from("items").select("id, name, asset_tag, status, created_at, item_categories(name)").eq("current_custodian_id",e);if(r)throw new Error(r.message);return t},XY=async e=>{const{data:t,error:r}=await X.from("item_requests").select("*").eq("requester_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t};function YY(){var l;const{profile:e,user:t}=He(),r=gf(),{data:n=[]}=Le({queryKey:["my-items",e==null?void 0:e.id],queryFn:()=>GY((e==null?void 0:e.id)||""),enabled:!!(e!=null&&e.id)}),{data:s=[]}=Le({queryKey:["my-requests",e==null?void 0:e.id],queryFn:()=>XY((e==null?void 0:e.id)||""),enabled:!!(e!=null&&e.id)}),a=(s||[]).filter(c=>c.status!=="approved"&&c.status!=="rejected"),i=(s||[]).filter(c=>{if(!c.created_at)return!1;const u=new Date(c.created_at),d=new Date;return u.getMonth()===d.getMonth()&&u.getFullYear()===d.getFullYear()});return o.jsx(st,{role:"staff",userName:(e==null?void 0:e.full_name)||(t==null?void 0:t.email)||"Staff Member",userEmail:(t==null?void 0:t.email)||"",departmentName:((l=e==null?void 0:e.departments)==null?void 0:l.name)??"Not Available",pageTitle:"My Dashboard",pageSubtitle:"View your assigned items and requests",notificationCount:0,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Tr,{title:"My Items",value:(n||[]).length,subtitle:"Currently assigned to you",icon:fn,variant:"primary"}),o.jsx(Tr,{title:"Active Requests",value:a.length,subtitle:"Awaiting approval",icon:Hd,variant:"warning"}),o.jsx(Tr,{title:"Pending Transfers",value:0,subtitle:"No transfers pending",icon:Xt,variant:"default"}),o.jsx(Tr,{title:"Completed This Month",value:i.length,subtitle:"Requests processed",icon:vf,variant:"success"})]}),o.jsx("div",{className:"flex flex-wrap gap-3"}),o.jsxs("div",{className:"rounded-lg border border-border bg-card",children:[o.jsx("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"My Assigned Items"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Items currently in your custody"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"data-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Asset Tag"}),o.jsx("th",{children:"Item Name"}),o.jsx("th",{children:"Category"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Assigned Date"}),o.jsx("th",{className:"text-right",children:"Actions"})]})}),o.jsxs("tbody",{children:[(n||[]).slice(0,5).map(c=>{var u,d;return o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-0.5 rounded",children:c.asset_tag})}),o.jsx("td",{className:"font-medium",children:c.name}),o.jsx("td",{className:"text-muted-foreground",children:((u=c.item_categories)==null?void 0:u.name)||"N/A"}),o.jsx("td",{children:o.jsx($1,{status:((d=c.status)==null?void 0:d.toLowerCase())??"unknown",variant:"status",size:"sm"})}),o.jsx("td",{className:"text-muted-foreground",children:new Date(c.created_at).toLocaleDateString()}),o.jsx("td",{className:"text-right",children:o.jsx(we,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>r(`/staff/items/${c.id}`),children:o.jsx(jm,{className:"h-4 w-4"})})})]},c.id)}),(n||[]).length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No items assigned to you yet"})})]})]})})]})]})})}function QY(){return o.jsxs(cu,{children:[o.jsx($e,{index:!0,element:o.jsx(YY,{})}),o.jsx($e,{path:"items",element:o.jsx($Y,{})}),o.jsx($e,{path:"request",element:o.jsx(VY,{})}),o.jsx($e,{path:"requests",element:o.jsx(WY,{})}),o.jsx($e,{path:"transfer",element:o.jsx(zY,{})}),o.jsx($e,{path:"incoming-transfers",element:o.jsx(B1,{})}),o.jsx($e,{path:"transfer-history",element:o.jsx(KY,{})}),o.jsx($e,{path:"notifications",element:o.jsx(HY,{})})]})}const JY=()=>{const e=mo();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},qu=({allowedRoles:e})=>{const{profile:t,loading:r,session:n}=He(),s=mo();return r?o.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:o.jsx("div",{className:"text-muted-foreground",children:"Loading authentication..."})}):n?e?t?e.includes(t.role)?o.jsx(Rx,{}):o.jsx(Ax,{to:"/",replace:!0}):o.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:o.jsx("div",{className:"text-muted-foreground",children:"Loading user profile..."})}):o.jsx(Rx,{}):o.jsx(Ax,{to:"/login",state:{from:s},replace:!0})},ZY={admin:"/admin",college_dean:"/dean",department_head:"/department",storekeeper:"/store",staff:"/staff"},eQ=()=>{const{session:e,profile:t,loading:r}=He();if(r)return o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading application..."})})});if(e&&t){const n=ZY[t.role]||"/";return o.jsx(Ax,{to:n,replace:!0})}return o.jsx(Rx,{})};class tQ extends _.Component{constructor(){super(...arguments);Eo(this,"state",{hasError:!1,error:null});Eo(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.reload()})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[o.jsx(du,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),o.jsx(we,{onClick:this.handleReset,className:"w-full",children:"Reload Application"})]})}):this.props.children}}const rQ={BASE_URL:"/DMU_Inventory_management_system/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV4bmJmZmxtdHFseWNxamJ2eWloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5Mjg4MjMsImV4cCI6MjA4NDUwNDgyM30.UOnNvu8dLJvspvd2KlVoBvkOPe0i6SVmpIb5BA47jqM",VITE_SUPABASE_PROJECT_ID:"exnbfflmtqlycqjbvyih",VITE_SUPABASE_URL:"https://exnbfflmtqlycqjbvyih.supabase.co"};function nQ(){const t=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(r=>!rQ[r]);if(t.length>0)throw new Error(`Missing required environment variables: ${t.join(", ")}
Please check your .env file.`)}class sQ{constructor(){Eo(this,"isDevelopment",!1);Eo(this,"logs",[]);Eo(this,"maxLogs",100)}createLogEntry(t,r,n,s){return{level:t,message:r,data:n,timestamp:new Date().toISOString(),context:s}}addLog(t){this.logs.push(t),this.logs.length>this.maxLogs&&this.logs.shift()}info(t,r,n){const s=this.createLogEntry("info",t,r,n);this.addLog(s),this.isDevelopment&&console.log(`[INFO] ${n?`[${n}]`:""} ${t}`,r||"")}warn(t,r,n){const s=this.createLogEntry("warn",t,r,n);this.addLog(s),this.isDevelopment&&console.warn(`[WARN] ${n?`[${n}]`:""} ${t}`,r||"")}error(t,r,n){const s=this.createLogEntry("error",t,r,n);this.addLog(s),console.error(`[ERROR] ${n?`[${n}]`:""} ${t}`,r||"")}debug(t,r,n){if(this.isDevelopment){const s=this.createLogEntry("debug",t,r,n);this.addLog(s),console.debug(`[DEBUG] ${n?`[${n}]`:""} ${t}`,r||"")}}getLogs(t){return t?this.logs.filter(r=>r.level===t):[...this.logs]}clearLogs(){this.logs=[]}exportLogs(){return JSON.stringify(this.logs,null,2)}}const $S=new sQ;try{nQ(),$S.info("Application configuration validated successfully")}catch(e){$S.error("Configuration validation failed",e)}const aQ=new _3({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e4}}}),iQ=()=>o.jsx(tQ,{children:o.jsx(C3,{client:aQ,children:o.jsxs(s3,{children:[o.jsx(UO,{}),o.jsx(xI,{}),o.jsx(D5,{children:o.jsx(w6,{children:o.jsxs(cu,{children:[o.jsx($e,{element:o.jsx(eQ,{}),children:o.jsx($e,{path:"/login",element:o.jsx(q6,{})})}),o.jsx($e,{path:"/",element:o.jsx(S6,{})}),o.jsx($e,{element:o.jsx(qu,{allowedRoles:["admin"]}),children:o.jsx($e,{path:"/admin/*",element:o.jsx(K$,{})})}),o.jsx($e,{element:o.jsx(qu,{allowedRoles:["college_dean"]}),children:o.jsx($e,{path:"/dean/*",element:o.jsx(QX,{})})}),o.jsx($e,{element:o.jsx(qu,{allowedRoles:["department_head"]}),children:o.jsx($e,{path:"/department/*",element:o.jsx(vY,{})})}),o.jsx($e,{element:o.jsx(qu,{allowedRoles:["storekeeper"]}),children:o.jsx($e,{path:"/store/*",element:o.jsx(UY,{})})}),o.jsx($e,{element:o.jsx(qu,{allowedRoles:["staff"]}),children:o.jsx($e,{path:"/staff/*",element:o.jsx(QY,{})})}),o.jsx($e,{path:"*",element:o.jsx(JY,{})})]})})})]})})});fT(document.getElementById("root")).render(o.jsx(iQ,{}));
